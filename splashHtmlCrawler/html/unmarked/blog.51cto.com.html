<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
        <title>python爬取电影并下载_～学无止境学以致用～的技术博客_51CTO博客</title>
    <meta name="keywords" content="python爬取电影并下载,Python博客,51CTO博客">
<meta name="description" content="python爬取电影并下载，通过python爬虫获取电影信息，并自动判断筛选下载～">    <meta name="applicable-device" content="pc">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="msvalidate.01" content="91C5324FE68C0A46FA65F3FEC225EA65" />
    <link rel="canonical" href="https://blog.51cto.com/dyc2005/2309658">
    <link type="favicon" rel="shortcut icon" href="/favicon.ico" />
        <script src="//aeu.alicdn.com/waf/antidomxss_v640.js"></script><script src="//aeu.alicdn.com/waf/interfaceacting210923.js"></script><script type="application/ld+json">{"@context":"https://ziyuan.baidu.com/contexts/cambrian.jsonld","@id":"https://blog.51cto.com/dyc2005/2309658","appid":"1576672126670053","title":"python爬取电影并下载_～学无止境学以致用～的技术博客_51CTO博客","images":[],"description":"通过python爬虫获取电影信息，并自动判断筛选下载～","pubDate":"2018-10-27T11:17:24","upDate":"2018-11-26T20:44:41"}</script>
        <link href="https://static1.51cto.com/edu/blog/iconFont/iconfont.css|v=8287796a0a,blog/scss/dialog/article-dialog.css|v=b4ba08aed3,blog/cto/font/fontface.css|v=c21cfdd5a7,blog/css/header.css|v=c4a3108545,blog/css/other.css|v=a42082c26f,blog/css/right.css|v=0b80cdfb73,blog/scss/newdetail/blog_details_new.css|v=15d504ca73,blog/css/mdeShow.css|v=5ebe18625e,blog/css/tinyscrollbar.css|v=15c6a06536,blog/css/mdprime.css|v=69de5ed597,blog/css/copybtn.css|v=d1eca929ec" rel="stylesheet">    <script>var userId=""</script>
    <script async src="https://static1.51cto.com/edu/blog/js/googletagmanager.js"></script>
    <script>
        var HOME_URL = 'https://home.51cto.com/';
        var STATICPATH = 'https://static1.51cto.com/edu/';
    </script>
    <script src="https://static1.51cto.com/edu/center/js/jquery.min.js,center/js/interaction_iframe.js,blog/js/jquery.cookie.js|v=d5528dde00,blog/js/cookie.js|v=89fd444508,blog/js/login.js|v=8ec8d7c738,blog/js/common.js|v=62fa3c5674,blog/js/mbox.js|v=aa29b768eb,blog/js/follow.js|v=ae41462dd2,blog/js/vip.js|v=13232bead2"></script></head>
<script src="https://static5.51cto.com/edu/blog/js/statisticsdb.js?v=20211220" charset="utf-8"></script>
<body>
<script>
    !(function(c,b,d,a){c[a]||(c[a]={});c[a].config={pid:"b5hfowf5rl@95fdd72b343c07d",appType:"web",imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",sendResource:true,enableLinkTrace:true,behavior:true,useFmp:true};
        with(b)with(body)with(insertBefore(createElement("script"),firstChild))setAttribute("crossorigin","",src=d)
    })(window,document,"https://retcode.alicdn.com/retcode/bl.js","__bl");
        window.addEventListener('load', function (e) {
        __bl.setConfig({
                environment:'prod',
                release:'0.3',
                ignore: {
                ignoreUrls: [
                    // 'http://host1/',  // 字符串
                    // /.+?host2.+/,     // 正则表达式
                    function (str) {   // 方法
                        if (str && str.indexOf('.51cto.com') >= 0) {
                            //上报概率
                            if (Math.random()<0.1){
                                return false;      // 上报
                            }
                            return true;   // 不上报
                        }
                        return false;      // 上报
                    }],
                ignoreErrors: [
                    // 'test error', // 字符串
                    /^Script error\.?$/, // 正则表达式
                    function (str) { // 方法
                        if (str && str.indexOf('Unkown error') >= 0) return true;   // 不上报
                        return false;   // 上报
                    }],
                ignoreResErrors: [
                    // 'http://xx/picture.jpg', // 字符串
                    /https:\/\/gg.51cto.com/, // 正则表达式
                    /hm.baidu.com\/hm.js/, // 正则表达式
                    function (str) { // 方法
                        if (str && str.indexOf('hm.baidu.com/hm.js') >= 0) return true;   // 不上报
                        return false;   // 上报
                    }]
            }
        });
    });
</script><img src="https://static5.51cto.com/edu/blog/mobile/images/share_default.jpg" border="0" style="width:0; height:0; position:absolute;">
<div class="Content-box">
    
<div class="Content detail-content-new">
    <!--关注-->
    <div class="fixtitle">
        <div class="clearfix Page">
            <h3 class="fl title">python爬取电影并下载</h3>
            <div class="messbox fr">
                                                            <a id="checkFollow1_270872" class="follow-1 checkFollow on">关注</a>
                                                    <a href="https://blog.51cto.com/dyc2005" class="name" target="_blank" title="dyc2005">dyc2005</a>
                <strong>
                    <a href="https://blog.51cto.com/dyc2005" class="avatar" target="_blank">
                        <img class="is-vip-img is-vip-img-4" data-uid="270872" src="https://ucenter.51cto.com/images/noavatar_middle.gif">
                    </a>
                </strong>
            </div>
        </div>
    </div>

    <!--左边悬浮操作项-->
    <aside class="action-aside action-aside-left">
        <div class="inner">
            <ul>
                                    <li>
                        <strong class="appreciate-btn  appreciate-open ">
                            <a href="javascript:;"><i class="iconblog blogshang"></i></a>
                            <span>打赏</span>
                        </strong>
                    </li>
                                <li>
                    <strong class="is-praise  " type="1" blog_id="2309658" userid='270872'>
                        <a href="javascript:;"><i></i></a>
                        <span><b class="praise-num"></b>赞</span>
                    </strong>
                </li>
                <li>
                    <strong class="favorites-opt ">
                        <a href="javascript:;"><i></i></a>
                        <span><b class="favorites-num"></b>收藏</span>
                    </strong>
                </li>
                <li>
                    <strong class="Topraise">
                        <a href="javascript:;"><i class="iconblog blogpinglun"></i></a>
                        <span><b class="comments_num"></b>评论</span>
                    </strong>
                </li>
                <li class="share">
                    <strong class="">
                        <a href="javascript:;"><i class="iconblog blogfen"></i></a>
                        <span>分享</span>
                    </strong>
                    <div class="bdsharebuttonbox">
                        <div class="ins">
                            <a class="bds_tsina" data-cmd="tsina" rel="nofollow"><i class="iconblog blogfenxiangweibo"></i>微博</a>
                            <a class="bds_sqq" data-cmd="sqq" rel="nofollow"><i class="iconblog blogfenxiangqq"></i>QQ</a>
                            <a class="bds_weixin" data-cmd="weixin"  rel="nofollow"><i class="iconblog blogfenxiangweixin"></i>微信</a>
                            <img src="">
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </aside>

    <!--大模块引入-->
    <div class="clearfix Page" id="page_center" style="position:relative;">
                
<aside class="detail-content-directory common-content-directory">
     <!-- 文章目录 -->
     <section class="common-section common-spacing table-contents" style="background:none">
        <div class="clearfix common-sub-title">
            <strong title="文章目录">文章目录</strong>
            <i class="iconblog blogquxiao18" id="closeDirectory"></i>
        </div>
        <div class="directory">
            <ul class="directory-list directory-list-left">
                                                                   <li                             class="lv1"
                                                    >
                            <div class="title" title="一、概述">
                                <span data-id="#h0">
                                                                            第1章&nbsp;&nbsp;
                                                                        一、概述                                </span>
                            </div>
                        </li>
                                                                                            <li                             class="lv1"
                                                    >
                            <div class="title" title="二、代码">
                                <span data-id="#h1">
                                                                            第2章&nbsp;&nbsp;
                                                                        二、代码                                </span>
                            </div>
                        </li>
                                                        </ul>
        </div>
    </section>
</aside>                <section class="detail-content-left">
    <style>
    .hljs-center{
        text-align: center;
    }
    .hljs-right{
        text-align: right;
    }
    #result{
        overflow: auto;
    }
    .detail-content-left s{
        text-decoration: line-through;
    }
    .cto-mermaid{
        text-align: center;
    }
    .cto-mermaid svg{
        max-width: 100%;
    }
    #result img{
        height: auto;
    }
</style>
<script src="https://static4.51cto.com/edu/blog/js/editor/markdown/dist/js/main.js?v=1.1.1"></script>

<article class="common-section common-spacing mb30 article-detail">
    <div class="title">
        <h1>python爬取电影并下载</h1>
                                <span class="original" >原创</span>
    </div>
    <div class="messbox">
        <p class="clearfix mess-line1">
            <a class="fl" href="https://blog.51cto.com/dyc2005">dyc2005</a>
            <time class="fl" pubdate="2018-10-27 11:17:24">2018-10-27 11:17:24</time>
                        <span class="fl">博主文章分类：<a href="https://blog.51cto.com/dyc2005/category1" target="_blank">python|shell</a></span>
                        <span class="fr" id="copyright-btn">©著作权</span>
        </p>
        <p class="clearfix mess-tag">
                        <strong class="fl">
                <em class="fl">文章标签</em>
                                    <a href="https://blog.51cto.com/topic/python-2.html" class="fl" target="_blank">python</a>
                                    <a href="https://blog.51cto.com/topic/pachong.html" class="fl" target="_blank">爬虫</a>
                                    <a href="https://blog.51cto.com/topic/xiazaidianying.html" class="fl" target="_blank">下载电影</a>
                            </strong>
                                    <strong class="fl">
                <em class="fl">文章分类</em>
                                <a href="https://blog.51cto.com/nav/python" class="fl" target="_blank">Python</a>
                                <a href="https://blog.51cto.com/nav/program" class="fl" target="_blank">编程语言</a>
                            </strong>
                    </p>
    </div>
        <div class="copytext" id="copytext">
        ©著作权归作者所有：来自51CTO博客作者dyc2005的原创作品，请联系作者获取转载授权，否则将追究法律责任<br><a href='https://blog.51cto.com/dyc2005/2309658'>python爬取电影并下载</a><br><a href='https://blog.51cto.com/dyc2005/2309658'>https://blog.51cto.com/dyc2005/2309658</a>    </div>
    <div class="article-content-wrap">
        					
            <div class="artical-content-bak main-content"> 
                <div class="con artical-content editor-preview-side" id="markdownContent"><h1>一、概述</h1>
<p>对于一个宅男，喜欢看电影，每次打开电影网站，各种弹出的广告，很是麻烦，还是要自己去复制下载链接到迅雷上粘贴并下载，这个过程中还有选择困难症;这一系列的动作让人甚是不爽，不如有下好的，点着看就好了;作为一个python爱好者，结合对爬虫的一点小了解，于是周末花了点时间用python写了一个爬取某电影网站上的最新电影板块;<br/>思路：<br/>爬虫针对某电影网站，收集电影名，下载链接，评分，等信息;当天更新的电影，特别的打印出来;同时通过评分调用迅雷下载，当然先判断下，是否已经下载过了，再决定是否下载;然后，就是可以看了～</p>
<p>本次版本是基于python3.x下通过，在windows上才能调用迅雷～linux平台只能获取相关信息！<br/>python安装和相关的模块安装这里不讲述，如有不明白请留言我～<br/>jupyter上运行如下：<br/><img src="http://i2.51cto.com/images/blog/201811/26/904836a12e1452273cdccbd8fa343772.gif" alt="python爬取电影并下载" /></p>
<h1>二、代码</h1>
<p>废话不多说上代码吧～</p>
<pre><code># coding:utf-8
# version 20181027 by san
import re,time,os
from urllib import request
from lxml import etree  # python xpath 单独使用导入是这样的
import platform
import ssl
ssl._create_default_https_context = ssl._create_unverified_context   # 取消全局证书

#爬虫电影之类
class getMovies:
    def __init__(self,url,Thuder):
        '''        实例初始化       '''
        self.url = url
        self.Thuder = Thuder

    def getResponse(self,url):
        url_request = request.Request(self.url)
        url_response = request.urlopen(url_request)
        return url_response   #返回这个对象

    def newMovie(self):
        ''' 获取最新电影 下载地址与url '''
        http_response = self.getResponse(webUrl) #拿到http请求后的上下文对象(HTTPResponse object)
        data = http_response.read().decode('gbk')
        #print(data)  #获取网页内容
        html = etree.HTML(data)
        newMovies = dict()
        lists = html.xpath('/html/body/div[1]/div/div[3]/div[2]/div[2]/div[1]/div/div[2]/div[2]/ul/table//a')
        for k in lists:
            if "app.html" in k.items()[0][1] or "最新电影下载" in k.text:
                continue
            else:
                movieUrl = webUrl + k.items()[0][1]
                movieName = k.text.split('《')[1].split("》")[0]
                newMovies[k.text.split('《')[1].split("》")[0]] = movieUrl = webUrl + k.items()[0][1]
        return newMovies

  def Movieurl(self,url):
        ''' 获取评分和更新时间 '''
        url_request = request.Request(url)
        movie_http_response = request.urlopen(url_request)
        data = movie_http_response.read().decode('gbk')
        if len(re.findall(r'豆瓣评分.+?.+users',data)):  # 获取评分;没有评分的返回null
            pingf = re.findall(r'豆瓣评分.+?.+users',data)[0].split('/')[0].replace("\u3000",":")

        else:
            pingf = "豆瓣评分:null"
        desc = re.findall(r'简\s+介.*',data)[0].replace("\u3000","").replace('&lt;br /&gt;',"").split("src")[0].replace('&amp;ldquo',"").replace('&amp;rdquo',"").replace('&lt;img border="0"',"")

        times = re.findall(r'发布时间.*',data)[0].split('\r')[0].strip()   # 获取影片发布时间
        html = etree.HTML(data)
        murl = html.xpath('//*[@id="Zoom"]//a')
        for k in murl:
            for l in k.items():
                if "ftp://" in l[1]:
                    print
                    return l[1],times,pingf,desc

    def check_end(self,fiename,path):
        ''' 检测文件是否下载完成 '''
        return os.path.exists(os.path.join(save_path,fiename))

    def check_start(self,filename):
        ''' 检测文件是否开始下载 '''
        cache_file = filename+".xltd"
        return os.path.exists(os.path.join(save_path,cache_file))

    def DownMovies(self,name,url):
        ''' windows下载 '''
        PlatForm = platform.system()
        print("即将下载的电影是：%s" %name)
        if PlatForm == "Windows":
            try:
                print(r'"{0}" "{1}"'.format(self.Thuder,url))
                os.system(r'"{0}" {1}'.format(self.Thuder,url))
            except Exception as e:
                print(e)
        else:
            print("当前系统平台不支持")

    def Main(self):
        ''' 最终新电影存储在字典中 '''
        NewMoveis = dict()  
        Movies = self.newMovie()  # 获取电影的字典信息
        for k,v in Movies.items():
            NewMoveis[k] = self.Movieurl(v),v
        return NewMoveis

    def NewMoives(self):
        ''' 查看已经获取到的电影信息 '''
        Today = time.strftime("%Y-%m-%d")
        print("今天是：%s" %Today)
        Movies = self.Main()
        print("最近的 %s 部新电影：" % len(Movies.keys()))
        for k,v in Movies.items():
#           print(v[0][1].split(":")[0])
            if Today in v[0][1].split(":")[0]:
                print("++++++++++++++++今天刚更新++++++++++++++：","\n",k,"--&gt;",v,"\n")
            else:
                print("========================================")
                print(k,"--&gt;",v,"\n")

if __name__ == '__main__':
    # 以下依据您个人电影迅雷的相关信息填写即可
    save_path="O:\迅雷下载"     # 电影下载保存位置 （需要填写）
    Thuder = "O:\Program\Thunder.exe"   #Thuder: 迅雷Thuder.exe路径 （需要填写）
    webUrl = 'http://www.dytt8.net'     # 电影网站
    test = getMovies(webUrl,Thuder)   # 实例化
    test.NewMoives()
    Movies = test.Main()

    for k,v in Movies.items():
        movies_name = v[0][0].split('/')[3]
        socre = v[0][2].split(":")[1]
        check_down_status = test.check_end(movies_name,save_path)
#       print(check_down_status)
        if  check_down_status:
            print("电影: %s 已经下载" %movies_name)
            continue
        elif  socre == 'null':
            continue
        elif float(socre) &gt; 7.0:
            print(movies_name,socre)
            test.DownMovies(k,v[0][0])
            time.sleep(10)
</code></pre>
<p>注意：以上代码是针对windows平台下，迅雷版本为非极速版本，本次使用的是9.14 如图：<br/><img src="http://i2.51cto.com/images/blog/201810/27/12cdc42eb5443a6b59f57738e34fa3ed.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" alt="python爬取电影并下载" /><br/>另外需要勾选以下配置项，否则程序调用迅雷下载时会有提示框：<br/><img src="http://i2.51cto.com/images/blog/201810/27/1798d7495d1a62e3c47af8451155938f.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" alt="python爬取电影并下载" /></p>
<p>程序运行效果如图：<br/><img src="http://i2.51cto.com/images/blog/201810/27/cb5f8dc6d213a00bf6500aa53f7ee4dd.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" alt="python爬取电影并下载" /><br/><img src="http://i2.51cto.com/images/blog/201810/27/51f834f26f41002528679da18ea2fe61.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" alt="python爬取电影并下载" /></p>
<p>再看下O盘 下载的目录：<br/><img src="http://i2.51cto.com/images/blog/201810/27/105647e135301bd56d8391fa98f4249f.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" alt="python爬取电影并下载" /></p>
<p>至此自动获取最新电影并下载指定评分电影完成～ 再也不用担心选择困难了，下好看就行了～</p>
<p>补充说明：<br/>这只是一个基本的获取并下载电影的程序，也可能扩充成下载好发邮件，或不想下载，定时运行，有新电影发邮件提示的功能～更功能自行发挥吧，如有那位大牛知道linux下自行下载的方法，欢迎留言交流，谢谢～如果觉得还可以，不要忘记点个赞哦～</p></div>
            </div>
		
        <div id="asideoffset"></div>
        <div class="clearfix label-list">

<!--            <span>本文包含：</span>-->
<!--          -->
<!--            <a href="" target="_blank"></a>-->

        </div>
    </div>
    <div class="action-box">
        <ul>
                        <li>
                <strong class="appreciate-btn  appreciate-open ">
                    <a href="javascript:;"><i class="iconblog blogshang"></i></a>
                    <span>打赏</span>
                </strong>
            </li>
                        <li>
                <strong class="is-praise  " type="1" blog_id="2309658" userid='270872'>
                    <a href="javascript:;"><i></i></a>
                    <span><b class="praise-num"></b>赞</span>
                </strong>
            </li>
            <li>
                <strong class="favorites-opt ">
                    <a href="javascript:;"><i></i></a>
                    <span><b class="favorites-num"></b>收藏</span>
                </strong>
            </li>
            <li>
                <strong class="Topraise">
                    <a href="javascript:;"><i class="iconblog blogpinglun"></i></a>
                    <span><b class="comments_num"></b>评论</span>
                </strong>
            </li>
            <li class="share">
                <strong class="">
                    <a href="javascript:;"><i class="iconblog blogfen"></i></a>
                    <span>分享</span>
                </strong>
                <div class="bdsharebuttonbox">
                    <div class="ins">
                        <a class="bds_tsina" data-cmd="tsina" rel="nofollow"><i class="iconblog blogfenxiangweibo"></i>微博</a>
                        <a class="bds_sqq" data-cmd="sqq" rel="nofollow"><i class="iconblog blogfenxiangqq"></i>QQ</a>
                        <a class="bds_weixin" data-cmd="weixin" rel="nofollow"><i class="iconblog blogfenxiangweixin"></i>微信</a>
                        <img src="https://blog.51cto.com/qr/qr-url?url=https%3A%2F%2Fblog.51cto.com%2Fdyc2005%2F2309658">
                    </div>
                </div>
            </li>
                        <li>
                <strong class="article-report">
                    <a href="javascript:;"><i class="iconblog blogjubaobeifen report-icon" style="font-size: 23px"></i></a>
                    <span>举报</span>
                </strong>
            </li>
                    </ul>
    </div>
    <div class="clearfix lists">
                 <p class="fl"><span>上一篇：</span><a href="https://blog.51cto.com/dyc2005/2306969">zabbix监控iptables防火墙状态之是否有丢弃的包(攻-击)</a></p>
                            <p class="fr"><span>下一篇：</span><a href="https://blog.51cto.com/dyc2005/2315479">Jenkins部署与备份恢复实战</a></p>
                
    </div>
    <div class="text-aticle">

    </div>
</article>
<!-- 蒙层 -->
<div class="Mask"></div>

<div class="report-dialog-root">
    <div class="report-dialog-container">
        <p class="report-dialog-title">举报文章</p>
        <div class="report-type-container model-split_top" data-type="0" id="report-specific-type">
            <p class="report-type-tit">请选择举报类型</p>
            <div class="report-type-enmu">
                <span class="report-type-item type-item_first" data-type="1">内容侵权</span>
                <span class="report-type-item type-item_first item-split" data-type="2">涉嫌营销</span>
                <span class="report-type-item type-item_first item-split" data-type="3">内容抄袭</span>
                <span class="report-type-item type-item_first item-split" data-type="4">违法信息</span>
                <span class="report-type-item type-item_first item-split" data-type="5">其他</span>
            </div>
        </div>
        <div class="report-type-container model-split_top report-hide-model" id="report-specific-reasons" data-type="0">
            <p class="report-type-tit">具体原因</p>
            <div class="report-type-enmu">
                <span class="report-type-item type-item_second" data-type="1">包含不真实信息</span>
                <span class="report-type-item type-item_second item-split" data-type="2">涉及个人隐私</span>
            </div>
        </div>
        <div class="report-type-container model-split_top report-hide-model" id="report-original-link">
            <p class="report-type-tit">原文链接（必填）</p>
            <input type="text" placeholder="请输入被侵权的原文链接" class="report-orgin_input"/>
        </div>
        <div class="report-type-container model-split_top textarea-content">
            <p class="report-type-tit">补充说明</p>
            <textarea maxlength="200" class="report-reason_textarea" placeholder="请详细描述您的举报内容" id="report-more-info"></textarea>
            <p class="report-textarea-tip"><span class="tip-left">0</span><span>/200</span></p>
        </div>
        <div class="report-type-container">
            <p class="report-type-tit">上传截图</p>
            <div class="report-img-container">
                <i class="iconblog blogtianjiabeifen report-add-icon"></i>
                <input type="file" accept="image/jpg,image/jpeg,image/png" name="file" class="repot-btn-select" onchange="selectImg(this)"></input>
            </div>
            <p class="report-img_rule">格式支持JPEG/PNG/JPG，图片不超过1.9M</p>
            <div class="report-img-show" >
                <img src="" alt="" id="report-img">
                <div class="report-img-close">
                    <i class="iconblog bloga-shanchutupian report-close-icon"></i>
                </div>
            </div>
        </div>
        <div class="report-btn-container">
            <button class="report-btn-cancel">取消</button>
            <button class="report-btn-concert">确认</button>
        </div>
        <div class="report-warm-tip report-hide-model">
            已经收到您得举报信息，我们会尽快审核
        </div>
    </div>
</div>
<script>
  var writeMessage= "©著作权归作者所有：来自51CTO博客作者dyc2005的原创作品，请联系作者获取转载授权，否则将追究法律责任\r\npython爬取电影并下载\r\nhttps:\/\/blog.51cto.com\/dyc2005\/2309658";
  var copyData='\r\n-----------------------------------\r\n'+writeMessage

 function copy(value, cb) {
  // 动态创建 textarea 标签
  const textarea = document.createElement('textarea')
  // 将该 textarea 设为 readonly 防止 iOS 下自动唤起键盘，同时将 textarea 移出可视区域
  textarea.readOnly = 'readonly'
  textarea.style.position = 'absolute'
  textarea.style.left = '-9999px'
  // 将要 copy 的值赋给 textarea 标签的 value 属性
  textarea.value = value
  // 将 textarea 插入到 body 中
  document.body.appendChild(textarea)
  // 选中值并复制
  textarea.select()
  textarea.setSelectionRange(0, textarea.value.length)
  document.execCommand('Copy')
  document.body.removeChild(textarea)
  if (cb && Object.prototype.toString.call(cb) === '[object Function]') {
    cb()
  }
  
}


  $('#result').on('copy', function (event) {
    if (!window.getSelection) {
      return
    }
    let copyString = window.getSelection().toString()
    if(isCodeCopy){
        return
    }
    if (copyString.length < 200) {
       copy(copyString)
      return
    }
    copyString=copyString+copyData
    copy(copyString)

  })
  $('#markdownContent').on('copy', function (event) {
    if (!window.getSelection) {
      return
    }
  
    let copyString = window.getSelection().toString()
     if(isCodeCopy){
        return
    }
    if (copyString.length < 200) {
      copy(copyString)
      return
    }
    copyString=copyString+copyData
    copy(copyString)
    

  })
    var is_old = "0"
    if(is_old == 0) {
        var reg=/<(h[1-4])([^>]*)>/g;
        var htmlData = CtoEditor.ctoEditor.mixins[0].data().markdownIt.render("# 一、概述\n对于一个宅男，喜欢看电影，每次打开电影网站，各种弹出的广告，很是麻烦，还是要自己去复制下载链接到迅雷上粘贴并下载，这个过程中还有选择困难症;这一系列的动作让人甚是不爽，不如有下好的，点着看就好了;作为一个python爱好者，结合对爬虫的一点小了解，于是周末花了点时间用python写了一个爬取某电影网站上的最新电影板块;\n思路：\n爬虫针对某电影网站，收集电影名，下载链接，评分，等信息;当天更新的电影，特别的打印出来;同时通过评分调用迅雷下载，当然先判断下，是否已经下载过了，再决定是否下载;然后，就是可以看了～\n\n本次版本是基于python3.x下通过，在windows上才能调用迅雷～linux平台只能获取相关信息！\npython安装和相关的模块安装这里不讲述，如有不明白请留言我～\njupyter上运行如下：\n![python爬取电影并下载_爬虫](http:\/\/i2.51cto.com\/images\/blog\/201811\/26\/904836a12e1452273cdccbd8fa343772.gif)\n# 二、代码\n废话不多说上代码吧～\n```\n# coding:utf-8\n# version 20181027 by san\nimport re,time,os\nfrom urllib import request\nfrom lxml import etree  # python xpath 单独使用导入是这样的\nimport platform\nimport ssl\nssl._create_default_https_context = ssl._create_unverified_context   # 取消全局证书\n\n#爬虫电影之类\nclass getMovies:\n    def __init__(self,url,Thuder):\n        \u0027\u0027\u0027        实例初始化       \u0027\u0027\u0027\n        self.url = url\n        self.Thuder = Thuder\n            \n    def getResponse(self,url):\n        url_request = request.Request(self.url)\n        url_response = request.urlopen(url_request)\n        return url_response   #返回这个对象\n\n    def newMovie(self):\n        \u0027\u0027\u0027 获取最新电影 下载地址与url \u0027\u0027\u0027\n        http_response = self.getResponse(webUrl) #拿到http请求后的上下文对象(HTTPResponse object)\n        data = http_response.read().decode(\u0027gbk\u0027)\n        #print(data)  #获取网页内容\n        html = etree.HTML(data)\n        newMovies = dict()\n        lists = html.xpath(\u0027\/html\/body\/div[1]\/div\/div[3]\/div[2]\/div[2]\/div[1]\/div\/div[2]\/div[2]\/ul\/table\/\/a\u0027)\n        for k in lists:\n            if \u0022app.html\u0022 in k.items()[0][1] or \u0022最新电影下载\u0022 in k.text:\n                continue\n            else:\n                movieUrl = webUrl + k.items()[0][1]\n                movieName = k.text.split(\u0027《\u0027)[1].split(\u0022》\u0022)[0]\n                newMovies[k.text.split(\u0027《\u0027)[1].split(\u0022》\u0022)[0]] = movieUrl = webUrl + k.items()[0][1]\n        return newMovies\n\n  def Movieurl(self,url):\n        \u0027\u0027\u0027 获取评分和更新时间 \u0027\u0027\u0027\n        url_request = request.Request(url)\n        movie_http_response = request.urlopen(url_request)\n        data = movie_http_response.read().decode(\u0027gbk\u0027)\n        if len(re.findall(r\u0027豆瓣评分.+?.+users\u0027,data)):  # 获取评分;没有评分的返回null\n            pingf = re.findall(r\u0027豆瓣评分.+?.+users\u0027,data)[0].split(\u0027\/\u0027)[0].replace(\u0022\\u3000\u0022,\u0022:\u0022)\n               \n        else:\n            pingf = \u0022豆瓣评分:null\u0022\n        desc = re.findall(r\u0027简\\s+介.*\u0027,data)[0].replace(\u0022\\u3000\u0022,\u0022\u0022).replace(\u0027\u003Cbr \/\u003E\u0027,\u0022\u0022).split(\u0022src\u0022)[0].replace(\u0027\u0026ldquo\u0027,\u0022\u0022).replace(\u0027\u0026rdquo\u0027,\u0022\u0022).replace(\u0027\u003Cimg border=\u00220\u0022\u0027,\u0022\u0022)\n    \n            \n        times = re.findall(r\u0027发布时间.*\u0027,data)[0].split(\u0027\\r\u0027)[0].strip()   # 获取影片发布时间\n        html = etree.HTML(data)\n        murl = html.xpath(\u0027\/\/*[@id=\u0022Zoom\u0022]\/\/a\u0027)\n        for k in murl:\n            for l in k.items():\n                if \u0022ftp:\/\/\u0022 in l[1]:\n                    print\n                    return l[1],times,pingf,desc\n\n    def check_end(self,fiename,path):\n        \u0027\u0027\u0027 检测文件是否下载完成 \u0027\u0027\u0027\n        return os.path.exists(os.path.join(save_path,fiename))\n    \n    def check_start(self,filename):\n        \u0027\u0027\u0027 检测文件是否开始下载 \u0027\u0027\u0027\n        cache_file = filename+\u0022.xltd\u0022\n        return os.path.exists(os.path.join(save_path,cache_file))\n\n    def DownMovies(self,name,url):\n        \u0027\u0027\u0027 windows下载 \u0027\u0027\u0027\n        PlatForm = platform.system()\n        print(\u0022即将下载的电影是：%s\u0022 %name)\n        if PlatForm == \u0022Windows\u0022:\n            try:\n                print(r\u0027\u0022{0}\u0022 \u0022{1}\u0022\u0027.format(self.Thuder,url))\n                os.system(r\u0027\u0022{0}\u0022 {1}\u0027.format(self.Thuder,url))\n            except Exception as e:\n                print(e)\n        else:\n            print(\u0022当前系统平台不支持\u0022)\n\n    def Main(self):\n        \u0027\u0027\u0027 最终新电影存储在字典中 \u0027\u0027\u0027\n        NewMoveis = dict()  \n        Movies = self.newMovie()  # 获取电影的字典信息\n        for k,v in Movies.items():\n            NewMoveis[k] = self.Movieurl(v),v\n        return NewMoveis\n    \n    def NewMoives(self):\n        \u0027\u0027\u0027 查看已经获取到的电影信息 \u0027\u0027\u0027\n        Today = time.strftime(\u0022%Y-%m-%d\u0022)\n        print(\u0022今天是：%s\u0022 %Today)\n        Movies = self.Main()\n        print(\u0022最近的 %s 部新电影：\u0022 % len(Movies.keys()))\n        for k,v in Movies.items():\n#           print(v[0][1].split(\u0022:\u0022)[0])\n            if Today in v[0][1].split(\u0022:\u0022)[0]:\n                print(\u0022++++++++++++++++今天刚更新++++++++++++++：\u0022,\u0022\\n\u0022,k,\u0022--\u003E\u0022,v,\u0022\\n\u0022)\n            else:\n                print(\u0022========================================\u0022)\n                print(k,\u0022--\u003E\u0022,v,\u0022\\n\u0022)\n\n\n\nif __name__ == \u0027__main__\u0027:\n    # 以下依据您个人电影迅雷的相关信息填写即可\n    save_path=\u0022O:\\迅雷下载\u0022     # 电影下载保存位置 （需要填写）\n    Thuder = \u0022O:\\Program\\Thunder.exe\u0022   #Thuder: 迅雷Thuder.exe路径 （需要填写）\n    webUrl = \u0027http:\/\/www.dytt8.net\u0027     # 电影网站\n    test = getMovies(webUrl,Thuder)   # 实例化\n    test.NewMoives()\n    Movies = test.Main()\n       \n    for k,v in Movies.items():\n        movies_name = v[0][0].split(\u0027\/\u0027)[3]\n        socre = v[0][2].split(\u0022:\u0022)[1]\n        check_down_status = test.check_end(movies_name,save_path)\n#       print(check_down_status)\n        if  check_down_status:\n            print(\u0022电影: %s 已经下载\u0022 %movies_name)\n            continue\n        elif  socre == \u0027null\u0027:\n            continue\n        elif float(socre) \u003E 7.0:\n            print(movies_name,socre)\n            test.DownMovies(k,v[0][0])\n            time.sleep(10)\n\n```\n\n注意：以上代码是针对windows平台下，迅雷版本为非极速版本，本次使用的是9.14 如图：\n![python爬取电影并下载_下载电影_02](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/12cdc42eb5443a6b59f57738e34fa3ed.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n另外需要勾选以下配置项，否则程序调用迅雷下载时会有提示框：\n![python爬取电影并下载_下载电影_03](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/1798d7495d1a62e3c47af8451155938f.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n\n程序运行效果如图：\n![python爬取电影并下载_下载电影_04](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/cb5f8dc6d213a00bf6500aa53f7ee4dd.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n![python爬取电影并下载_爬虫_05](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/51f834f26f41002528679da18ea2fe61.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n\n再看下O盘 下载的目录：\n![python爬取电影并下载_爬虫_06](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/105647e135301bd56d8391fa98f4249f.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n\n至此自动获取最新电影并下载指定评分电影完成～ 再也不用担心选择困难了，下好看就行了～\n\n补充说明：\n这只是一个基本的获取并下载电影的程序，也可能扩充成下载好发邮件，或不想下载，定时运行，有新电影发邮件提示的功能～更功能自行发挥吧，如有那位大牛知道linux下自行下载的方法，欢迎留言交流，谢谢～如果觉得还可以，不要忘记点个赞哦～\n\n");
        var num=0
        htmlData= htmlData.replace(reg,function(val){
                var userData=' id="h'+Number(num++)+'" '
                val=val=val.replace(/”/,'"').replace(/“/,'"')
                if(/<(h[1-4]) [^>]{0,}id=[^>]+>/.test(val)){
                    var text=val.match(/\sid=(["\']).*?\1/)[0]
                    val=val.replace(text,userData)  
                }else{
                    var text = val.match(/<(h[1-4])/)[0]
                    val = val.replace(/<(h[1-4])/,text+' '+userData)
                }
                return val
        })
        $('#markdownContent').html(htmlData)
        // $('#markdownContent').html(CtoEditor.ctoEditor.mixins[0].data().markdownIt.render("# 一、概述\n对于一个宅男，喜欢看电影，每次打开电影网站，各种弹出的广告，很是麻烦，还是要自己去复制下载链接到迅雷上粘贴并下载，这个过程中还有选择困难症;这一系列的动作让人甚是不爽，不如有下好的，点着看就好了;作为一个python爱好者，结合对爬虫的一点小了解，于是周末花了点时间用python写了一个爬取某电影网站上的最新电影板块;\n思路：\n爬虫针对某电影网站，收集电影名，下载链接，评分，等信息;当天更新的电影，特别的打印出来;同时通过评分调用迅雷下载，当然先判断下，是否已经下载过了，再决定是否下载;然后，就是可以看了～\n\n本次版本是基于python3.x下通过，在windows上才能调用迅雷～linux平台只能获取相关信息！\npython安装和相关的模块安装这里不讲述，如有不明白请留言我～\njupyter上运行如下：\n![python爬取电影并下载_爬虫](http:\/\/i2.51cto.com\/images\/blog\/201811\/26\/904836a12e1452273cdccbd8fa343772.gif)\n# 二、代码\n废话不多说上代码吧～\n```\n# coding:utf-8\n# version 20181027 by san\nimport re,time,os\nfrom urllib import request\nfrom lxml import etree  # python xpath 单独使用导入是这样的\nimport platform\nimport ssl\nssl._create_default_https_context = ssl._create_unverified_context   # 取消全局证书\n\n#爬虫电影之类\nclass getMovies:\n    def __init__(self,url,Thuder):\n        \u0027\u0027\u0027        实例初始化       \u0027\u0027\u0027\n        self.url = url\n        self.Thuder = Thuder\n            \n    def getResponse(self,url):\n        url_request = request.Request(self.url)\n        url_response = request.urlopen(url_request)\n        return url_response   #返回这个对象\n\n    def newMovie(self):\n        \u0027\u0027\u0027 获取最新电影 下载地址与url \u0027\u0027\u0027\n        http_response = self.getResponse(webUrl) #拿到http请求后的上下文对象(HTTPResponse object)\n        data = http_response.read().decode(\u0027gbk\u0027)\n        #print(data)  #获取网页内容\n        html = etree.HTML(data)\n        newMovies = dict()\n        lists = html.xpath(\u0027\/html\/body\/div[1]\/div\/div[3]\/div[2]\/div[2]\/div[1]\/div\/div[2]\/div[2]\/ul\/table\/\/a\u0027)\n        for k in lists:\n            if \u0022app.html\u0022 in k.items()[0][1] or \u0022最新电影下载\u0022 in k.text:\n                continue\n            else:\n                movieUrl = webUrl + k.items()[0][1]\n                movieName = k.text.split(\u0027《\u0027)[1].split(\u0022》\u0022)[0]\n                newMovies[k.text.split(\u0027《\u0027)[1].split(\u0022》\u0022)[0]] = movieUrl = webUrl + k.items()[0][1]\n        return newMovies\n\n  def Movieurl(self,url):\n        \u0027\u0027\u0027 获取评分和更新时间 \u0027\u0027\u0027\n        url_request = request.Request(url)\n        movie_http_response = request.urlopen(url_request)\n        data = movie_http_response.read().decode(\u0027gbk\u0027)\n        if len(re.findall(r\u0027豆瓣评分.+?.+users\u0027,data)):  # 获取评分;没有评分的返回null\n            pingf = re.findall(r\u0027豆瓣评分.+?.+users\u0027,data)[0].split(\u0027\/\u0027)[0].replace(\u0022\\u3000\u0022,\u0022:\u0022)\n               \n        else:\n            pingf = \u0022豆瓣评分:null\u0022\n        desc = re.findall(r\u0027简\\s+介.*\u0027,data)[0].replace(\u0022\\u3000\u0022,\u0022\u0022).replace(\u0027\u003Cbr \/\u003E\u0027,\u0022\u0022).split(\u0022src\u0022)[0].replace(\u0027\u0026ldquo\u0027,\u0022\u0022).replace(\u0027\u0026rdquo\u0027,\u0022\u0022).replace(\u0027\u003Cimg border=\u00220\u0022\u0027,\u0022\u0022)\n    \n            \n        times = re.findall(r\u0027发布时间.*\u0027,data)[0].split(\u0027\\r\u0027)[0].strip()   # 获取影片发布时间\n        html = etree.HTML(data)\n        murl = html.xpath(\u0027\/\/*[@id=\u0022Zoom\u0022]\/\/a\u0027)\n        for k in murl:\n            for l in k.items():\n                if \u0022ftp:\/\/\u0022 in l[1]:\n                    print\n                    return l[1],times,pingf,desc\n\n    def check_end(self,fiename,path):\n        \u0027\u0027\u0027 检测文件是否下载完成 \u0027\u0027\u0027\n        return os.path.exists(os.path.join(save_path,fiename))\n    \n    def check_start(self,filename):\n        \u0027\u0027\u0027 检测文件是否开始下载 \u0027\u0027\u0027\n        cache_file = filename+\u0022.xltd\u0022\n        return os.path.exists(os.path.join(save_path,cache_file))\n\n    def DownMovies(self,name,url):\n        \u0027\u0027\u0027 windows下载 \u0027\u0027\u0027\n        PlatForm = platform.system()\n        print(\u0022即将下载的电影是：%s\u0022 %name)\n        if PlatForm == \u0022Windows\u0022:\n            try:\n                print(r\u0027\u0022{0}\u0022 \u0022{1}\u0022\u0027.format(self.Thuder,url))\n                os.system(r\u0027\u0022{0}\u0022 {1}\u0027.format(self.Thuder,url))\n            except Exception as e:\n                print(e)\n        else:\n            print(\u0022当前系统平台不支持\u0022)\n\n    def Main(self):\n        \u0027\u0027\u0027 最终新电影存储在字典中 \u0027\u0027\u0027\n        NewMoveis = dict()  \n        Movies = self.newMovie()  # 获取电影的字典信息\n        for k,v in Movies.items():\n            NewMoveis[k] = self.Movieurl(v),v\n        return NewMoveis\n    \n    def NewMoives(self):\n        \u0027\u0027\u0027 查看已经获取到的电影信息 \u0027\u0027\u0027\n        Today = time.strftime(\u0022%Y-%m-%d\u0022)\n        print(\u0022今天是：%s\u0022 %Today)\n        Movies = self.Main()\n        print(\u0022最近的 %s 部新电影：\u0022 % len(Movies.keys()))\n        for k,v in Movies.items():\n#           print(v[0][1].split(\u0022:\u0022)[0])\n            if Today in v[0][1].split(\u0022:\u0022)[0]:\n                print(\u0022++++++++++++++++今天刚更新++++++++++++++：\u0022,\u0022\\n\u0022,k,\u0022--\u003E\u0022,v,\u0022\\n\u0022)\n            else:\n                print(\u0022========================================\u0022)\n                print(k,\u0022--\u003E\u0022,v,\u0022\\n\u0022)\n\n\n\nif __name__ == \u0027__main__\u0027:\n    # 以下依据您个人电影迅雷的相关信息填写即可\n    save_path=\u0022O:\\迅雷下载\u0022     # 电影下载保存位置 （需要填写）\n    Thuder = \u0022O:\\Program\\Thunder.exe\u0022   #Thuder: 迅雷Thuder.exe路径 （需要填写）\n    webUrl = \u0027http:\/\/www.dytt8.net\u0027     # 电影网站\n    test = getMovies(webUrl,Thuder)   # 实例化\n    test.NewMoives()\n    Movies = test.Main()\n       \n    for k,v in Movies.items():\n        movies_name = v[0][0].split(\u0027\/\u0027)[3]\n        socre = v[0][2].split(\u0022:\u0022)[1]\n        check_down_status = test.check_end(movies_name,save_path)\n#       print(check_down_status)\n        if  check_down_status:\n            print(\u0022电影: %s 已经下载\u0022 %movies_name)\n            continue\n        elif  socre == \u0027null\u0027:\n            continue\n        elif float(socre) \u003E 7.0:\n            print(movies_name,socre)\n            test.DownMovies(k,v[0][0])\n            time.sleep(10)\n\n```\n\n注意：以上代码是针对windows平台下，迅雷版本为非极速版本，本次使用的是9.14 如图：\n![python爬取电影并下载_下载电影_02](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/12cdc42eb5443a6b59f57738e34fa3ed.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n另外需要勾选以下配置项，否则程序调用迅雷下载时会有提示框：\n![python爬取电影并下载_下载电影_03](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/1798d7495d1a62e3c47af8451155938f.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n\n程序运行效果如图：\n![python爬取电影并下载_下载电影_04](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/cb5f8dc6d213a00bf6500aa53f7ee4dd.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n![python爬取电影并下载_爬虫_05](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/51f834f26f41002528679da18ea2fe61.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n\n再看下O盘 下载的目录：\n![python爬取电影并下载_爬虫_06](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/105647e135301bd56d8391fa98f4249f.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n\n至此自动获取最新电影并下载指定评分电影完成～ 再也不用担心选择困难了，下好看就行了～\n\n补充说明：\n这只是一个基本的获取并下载电影的程序，也可能扩充成下载好发邮件，或不想下载，定时运行，有新电影发邮件提示的功能～更功能自行发挥吧，如有那位大牛知道linux下自行下载的方法，欢迎留言交流，谢谢～如果觉得还可以，不要忘记点个赞哦～\n\n"))
        var bucketObj = CtoEditor.analysisChart
        bucketObj.searchChartDom()
    }
</script>
<!-- <script id="MathJax-script" async src="https://cdn.bootcss.com/mathjax/3.0.5/es5/tex-mml-chtml.js"></script> -->
      
    

<article class="common-section common-spacing mb30 comment-box" id="comment">
    <div class="comment-textarea clearfix">
        <div class="avatar">
            <a href="https://blog.51cto.com/" class="header-img" target="_blank">
                <img  src="https://ucenter.51cto.com/images/noavatar_middle.gif"/>
            </a>
        </div>
        <div class="textarea-box">
            <div class="textarea-show clearfix">
                <span>提问和评论都可以，用心的回复会被更多人看到</span>
                <strong>评论</strong>
            </div>
            <div class="textarea-hide">
                <div class="top">
                    <textarea class="textareadiv textareadiv-publish" name="" id="textareadiv-publish" placeholder="提问和评论都可以，用心的回复会被更多人看到和认可" maxlength="500"></textarea>
                </div>
                <div class="bot clearfix">
                    <strong class="fr publish-btn" flag="1" id="publish-btn">发布评论</strong>
                </div>
            </div>
        </div>
    </div>
    <div class="comment-num" >
        <strong>全部评论</strong>
        <span>(<b id="CommentNum">1</b>)</span>
        <span class="fr sort" type="up_num" order="0"><i class="iconblog blogzuire"></i>最热</span>
        <span class="fr sort on" type="create_time" order="0"><i class="iconblog blogzuixinblogzuixin"></i>最新</span>
    </div>
    <div class="comment-List-box">
                        <div class="floor-1">
                <div class="comment-List clearfix" id="722718">
                    <div class="avatar">
                        <a href="https://blog.51cto.com/swiki"><img src="https://s2.51cto.com//wyfs02/M02/88/5F/wKiom1fzDOPw-yNbAAAg3bKB5ME553_middle.jpg" alt=""></a>
                                            </div>
                    <div class="comment-detail">
                        <h3 class="clearfix">
                            <a href="https://blog.51cto.com/swiki" class="fl">小小小平凡</a>
                                                        <span class="time fr">4 年前</span>
                        </h3>
                        <div class="content">学习如春之禾苗,不见所增,日有所长，又一次受教了</div>
                        <div class="action clearfix">
                                                        <span class="reply"><i class="iconblog blogpinglun2"></i>回复</span>
                                                        <span class="vote "><i class="iconblog blogzan2"></i>点赞<b num="0"></b></span>
                                                    </div>
                    </div>
                    <input type="hidden"  class="first_pid" value="722718">
                    <input type="hidden"  class="parent_id" value="722718">
                    <input type="hidden"  class="reply_uid" value="9500075">
                </div>
                <div class="floor-2">
                                    </div>
            </div>
            
                <!-- 分页 -->
                </div>   
    <script id="commentListScript" type="text/html">
        {{each list value index}}
        <div class="floor-1">       
            <div class="comment-List clearfix" id="{{value.id}}">
                <div class="avatar">
                    <a href="{{value.location_url}}"><img src="{{value.avatar}}" alt=""></a>
                    {{if value.is_vip == 1}}
                    <i class="vip-icon vip-icon-4" title="51CTO VIP会员"></i>
                    {{/if}}
                </div>
                <div class="comment-detail">
                    <h3 class="clearfix">
                        <a href="{{value.location_url}}" class="fl">{{value.nickname}}</a>
                        {{if value.is_author == 1}}
                        <span class="tag fl">博主</span>
                        {{/if}}
                        <span class="time fr">{{value.create_time}}</span></h3>
                    <div class="content">{{value.content}}</div>
                    <div class="action clearfix">
                        {{if value.is_reply == 1}}
                        <span class="reply"><i class="iconblog blogpinglun2"></i>回复</span>
                        {{/if}}
                        <span class="vote {{value.is_praise ==1 ? 'on' : ''}}"><i class="iconblog blogzan2"></i>点赞<b num="{{value.up_num}}">{{value.up_num>0 ? value.up_num : ''}}</b></span>
                        {{if value.is_delete == 1}}
                        <span class="delete"><i class="iconblog blogshan"></i>删除</span>
                        {{/if}}
                    </div>
                </div>
                <input type="hidden"  class="first_pid" value="{{value.id}}">
                <input type="hidden"  class="parent_id" value="{{value.id}}">
                <input type="hidden"  class="reply_uid" value="{{value.user_id}}">
            </div>
            <div class="floor-2">
                {{each value.children.list item key}}               
                <div class="comment-List clearfix" id="{{item.id}}" {{if key>3}}style="display:none;"{{/if}}>
                    <div class="avatar">
                        <a href=""><img src="{{item.avatar}}" alt=""></a>
                        {{if item.is_vip == 1}}
                        <i class="vip-icon vip-icon-4" title="51CTO VIP会员"></i>
                        {{/if}}
                    </div>
                    <div class="comment-detail">
                        <h3 class="clearfix">
                            <a href="" class="fl">{{item.nickname}}</a>
                            {{if item.is_author == 1}}
                            <span class="tag fl">博主</span>
                            {{/if}}
                            <i class="fl">回复了</i>
                            <b class="other fl">{{item.reply_nickname}}</b>
                            
                            <span class="time fr">{{item.create_time}}</span>
                        </h3>                                                
                        {{if item.is_reply_content>0}}
                        <div class="reply-content">{{item.reply_content}}</div>
                        {{/if}}
                        <div class="content">{{item.content}}</div>
                        <div class="action clearfix">
                            {{if item.is_reply == 1}}
                            <span class="reply"><i class="iconblog blogpinglun2"></i>回复</span>
                            {{/if}}
                            <span class="vote {{item.is_praise ==1 ? 'on' : ''}}"><i class="iconblog blogzan2"></i>点赞<b num="{{item.up_num}}">{{item.up_num>0 ? item.up_num : ''}}</b></span>
                            {{if item.is_delete == 1}}
                            <span class="delete"><i class="iconblog blogshan"></i>删除</span>
                            {{/if}}
                        </div>
                    </div>
                    <input type="hidden"  class="first_pid" value="{{item.first_pid}}">
                    <input type="hidden"  class="parent_id" value="{{item.id}}">
                    <input type="hidden"  class="reply_uid" value="{{item.user_id}}">
                </div>
                {{if key == 3}}
                <div class="more-toggle">查看更多回复<i class="iconblog blogchuangzuolanhufan"></i></div>
                {{/if}}
                {{/each}}
            </div>
        </div>
        {{/each}} 
        {{if total>0}} 
        {{@pagination}} 
        {{/if}}          
    </script>
</article>
<script>
    var cid = '0';
    var fid = '0';
    var page = '1';
</script>
      
    
    <section class="common-section common-spacing mb30">
        <div class="clearfix common-sub-title">
            <h2>相关文章</h2>
        </div>
        <ul class="recommend-about">
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_11949039/2834812?b=totalstatistic" data-report-query="xiangguantuijian&01" target="_blank">
                                                    <div class="pic">
                                <img src="https://s5.51cto.com/images/blog/202105/31/98090a4327c8967160935c99ab1f7a63.jpeg?x-oss-process=image/resize,m_fixed,h_166,w_222" alt="">
                                <!-- 此处是什么意思？ -->
                                                            </div>
                                                <h3>Python爬取最爱的电影并下载到本地（附源码）</h3>
                        <p> 小说、图片、小视频都弄了，今天就下载电影或者电视剧吧，目标网站：https://www.okzyw.com/ 首先进入搜索页面：https://www.okzyw.com/index.php?m=vod-search搜索自己喜爱的剧（比如我...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         Python开发                                    </span>
                                                                    <span class="tag-item">
                                         Python教程                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_13689359/2462166?b=totalstatistic" data-report-query="xiangguantuijian&02" target="_blank">
                                                <h3>python爬取电影记录并生成excel表格</h3>
                        <p> ```#coding=utf-8import urllib2import reimport xlwtimport smtplibimport randomimport timefrom email.mime.multipart import MIMEMultipartfrom email.mime.text import MIMETextfrom email.mime.appl...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         python                                    </span>
                                                                    <span class="tag-item">
                                         smtp                                    </span>
                                                                    <span class="tag-item">
                                         header                                    </span>
                                                                    <span class="tag-item">
                                         HTML                                    </span>
                                                                    <span class="tag-item">
                                         urllib                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_13689359/2462168?b=totalstatistic" data-report-query="xiangguantuijian&03" target="_blank">
                                                <h3>python爬取贴吧图片并下载</h3>
                        <p> ```# cording = utf-8import urllib2import urllibimport reimport randomimport timedef get_url(url):    Agent_list = ['Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gec...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         python                                    </span>
                                                                    <span class="tag-item">
                                         urllib                                    </span>
                                                                    <span class="tag-item">
                                         compile                                    </span>
                                                                    <span class="tag-item">
                                         re                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_14137942/2736249?b=totalstatistic" data-report-query="xiangguantuijian&04" target="_blank">
                                                    <div class="pic">
                                <img src="https://s8.51cto.com/images/blog/202104/27/4422fd4c3f65de8d5413a2205ef6244b.jpeg?x-oss-process=image/resize,m_fixed,h_166,w_222" alt="">
                                <!-- 此处是什么意思？ -->
                                                            </div>
                                                <h3>Python 网络爬虫实战：爬取并下载《电影天堂》3千多部动作片电影</h3>
                        <p> 不知不觉，玩爬虫玩了一个多月了。我愈发觉得，爬虫其实并不是什么特别高深的技术，它的价值不在于你使用了什么特别牛的框架，用了多么了不起的技术，它不需要。它只是以一种自动化搜集数据的小工具，能够获取到想要...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         Python 网络爬虫                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_15326986/3328327?b=totalstatistic" data-report-query="xiangguantuijian&05" target="_blank">
                                                <h3>Python40行代码爬取电影天堂的电影下载连接</h3>
                        <p> Python40行代码爬取电影天堂的电影下载连接 比较基础的爬虫 import reimport requestsimport csvo1 = re.compile(r'2021新片精品.*?&lt;ul&gt;(?P&lt;ul&gt;.*?)&lt;/ul&gt;', re.S)o2...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         d3                                    </span>
                                                                    <span class="tag-item">
                                         3d                                    </span>
                                                                    <span class="tag-item">
                                         f5                                    </span>
                                                                    <span class="tag-item">
                                         python                                    </span>
                                                                    <span class="tag-item">
                                         3c                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_12629984/2488712?b=totalstatistic" data-report-query="xiangguantuijian&06" target="_blank">
                                                <h3>爬虫爬取图片并下载</h3>
                        <p> ```import requestsimport reimport osimport time"""获取主网页"""web_page = 'https://www.vmgirls.com/'headers = {    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         python                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_15069479/4377713?b=totalstatistic" data-report-query="xiangguantuijian&07" target="_blank">
                                                <h3>Python 爬取qqmusic音乐url并批量下载</h3>
                        <p> 　qqmusic上的音乐还是不少的，有些时候想要下载好听的音乐，但有每次在网页下载都是烦人的登录什么的。于是，来了个qqmusic的爬虫。　　至少我觉得for循环爬虫，最核心的应该就是找到待爬元素所在url吧。下面开始找...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         json                                    </span>
                                                                    <span class="tag-item">
                                         搜索                                    </span>
                                                                    <span class="tag-item">
                                         git                                    </span>
                                                                    <span class="tag-item">
                                         数据                                    </span>
                                                                    <span class="tag-item">
                                         多数据                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/cunyu1943/4930519?b=totalstatistic" data-report-query="xiangguantuijian&08" target="_blank">
                                                    <div class="pic">
                                <img src="https://s9.51cto.com/images/blog/202112/31084308_61ce521cb658c45950.png?x-oss-process=image/resize,m_fixed,h_166,w_222" alt="">
                                <!-- 此处是什么意思？ -->
                                                            </div>
                                                <h3>Python 爬取豆瓣电影当前上映电影信息</h3>
                        <p> 目标 爬取当前时间段豆瓣电影中正在上映的电影的相关信息，如电影名、导演、演员表、上映时间、制作方等信息，然后再通过字典的方式，将其保存在本地文件当中，以便我们查询； Code #!/us...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         Python                                    </span>
                                                                    <span class="tag-item">
                                         爬虫                                    </span>
                                                                    <span class="tag-item">
                                         Spider                                    </span>
                                                                    <span class="tag-item">
                                         html                                    </span>
                                                                    <span class="tag-item">
                                         存到文件                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/kaliarch/2069544?b=totalstatistic" data-report-query="xiangguantuijian&09" target="_blank">
                                                <h3>爬取搜索出来的电影的下载地址并保存到excel</h3>
                        <p> ## 一、背景利用Requests模块获取页面，BeautifulSoup来获取需要的内容，最后利用xlsxwriter模块讲内容保存至excel，首先通过讲关键字收拾出来的页面获取到子页面的url，然后再次去抓取获取到子页面的信息保存到exc...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         python                                    </span>
                                                                    <span class="tag-item">
                                         爬虫                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_14683590/3737220?b=totalstatistic" data-report-query="xiangguantuijian&10" target="_blank">
                                                    <div class="pic">
                                <img src="https://s5.51cto.com/images/blog/202109/02/5a6625a84828b57ef6b8809cda3e8329.png?x-oss-process=image/resize,m_fixed,h_166,w_222" alt="">
                                <!-- 此处是什么意思？ -->
                                                            </div>
                                                <h3>简单的图片爬取，爬取豆瓣电影图片并保存到本地</h3>
                        <p>                      文章目录 前言一、前提准备1、对页面进行分析2、准备框架二、代码实现三、总结 前言 	这是本人第一次写博客，如有失误请见谅。	这段时间，由于疫情原因，在家无聊，再加上这学...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         python                                    </span>
                                                                    <span class="tag-item">
                                         正则表达式                                    </span>
                                                                    <span class="tag-item">
                                         ide                                    </span>
                                                                    <span class="tag-item">
                                         请求头                                    </span>
                                                                    <span class="tag-item">
                                         代码实现                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_15281984/2943724?b=totalstatistic" data-report-query="xiangguantuijian&11" target="_blank">
                                                    <div class="pic">
                                <img src="https://s8.51cto.com/images/blog/202106/23/079173fcbacfeca92755ebf252699b24.png?x-oss-process=image/resize,m_fixed,h_166,w_222" alt="">
                                <!-- 此处是什么意思？ -->
                                                            </div>
                                                <h3>Python|简单爬取豆瓣网电影信息</h3>
                        <p>  前言：在掌握一些基础的爬虫知识后，就可以尝试做一些简单的爬虫来练一练手。今天要做的是利用xpath库来进行简单的数据的爬取。我们爬取的目标是电影的名字、导演和演员的信息、评分和url地址。准备环境：Pyc...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         Python                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/lovebetterworld/2839782?b=totalstatistic" data-report-query="xiangguantuijian&12" target="_blank">
                                                <h3>Python3爬取猫眼电影信息</h3>
                        <p> Python3爬取猫眼电影信息 import jsonimport requestsfrom requests.exceptions import RequestExceptionimport reimport time#爬取猫眼电影信息def get_one_page(url):		#增加...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         Python开发                                    </span>
                                                                    <span class="tag-item">
                                         Python教程                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_15100534/2619161?b=totalstatistic" data-report-query="xiangguantuijian&13" target="_blank">
                                                    <div class="pic">
                                <img src="https://s9.51cto.com/images/blog/202102/04/125f5f80b325b9eb82e40b756989c29d.jpeg?x-oss-process=image/resize,m_fixed,h_166,w_222" alt="">
                                <!-- 此处是什么意思？ -->
                                                            </div>
                                                <h3>这年代谁还开VIP电影啊，教你用Python爬取最爱的电影并下载到本地</h3>
                        <p> 本文的文字及图片来源于网络,仅供学习、交流使用,不具有任何商业用途,版权归原作者所有,如有问题请及时联系我们以作处理小说、图片、小视频都弄了，今天就下载电影或者电视剧吧，目标网站：https://www.okzyw.com/首...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         Python                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_15294914/3049042?b=totalstatistic" data-report-query="xiangguantuijian&14" target="_blank">
                                                <h3>爬取豆瓣Top250（电影名称并保存）</h3>
                        <p> #coding:gbkimport requestsimport csvfrom bs4 import BeautifulSoupdef get_movies():    headers = {    'user-agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Geck...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         # 爬虫                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_12629984/2488756?b=totalstatistic" data-report-query="xiangguantuijian&15" target="_blank">
                                                <h3>爬取视频网站视频并下载</h3>
                        <p> ```import requestsimport osimport jsonimport timeimport refrom retrying import retry"""爬虫*six room"""def change_title(file):    """替换非法字符"""    pattern = re.compile(r"[\/\\\:\*\?\...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         爬虫爬取视频                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/FunTester/4793927?b=totalstatistic" data-report-query="xiangguantuijian&16" target="_blank">
                                                <h3>httpclient爬虫爬取电影信息和下载地址实例</h3>
                        <p> 本次更新主要解决了老旧页面下载链接可能是迅雷和ftp格式的，还有就是去重，因为每一页有一个推荐列表，里面也会有相应的详情链接，还有兼容了另外的页面格式，更新了两个方法：public static void spider(int pa) {...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         .net                                    </span>
                                                                    <span class="tag-item">
                                         sql                                    </span>
                                                                    <span class="tag-item">
                                         json                                    </span>
                                                                    <span class="tag-item">
                                         ide                                    </span>
                                                                    <span class="tag-item">
                                         mysql                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_15303040/3174813?b=totalstatistic" data-report-query="xiangguantuijian&17" target="_blank">
                                                    <div class="pic">
                                <img src="https://s9.51cto.com/images/blog/202107/21/bd5ffd5bf43654188e0e5d679b0744c5.jpeg?x-oss-process=image/resize,m_fixed,h_166,w_222" alt="">
                                <!-- 此处是什么意思？ -->
                                                            </div>
                                                <h3>Python登录豆瓣并爬取影评</h3>
                        <p> 上一篇我们讲过Cookie相关的知识，了解到Cookie是为了交互式web而诞生的，它主要用于以下三个方面： 会话状态管理（如用户登录状态、购物车、游戏分数或其它需要记录的信息）个性化设置（如用户自定义设置、...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         Python                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_15127555/4387016?b=totalstatistic" data-report-query="xiangguantuijian&18" target="_blank">
                                                    <div class="pic">
                                <img src="https://s6.51cto.com/images/blog/202108/05/db0bbefe706fae57a4a6c52b0eabf723.png?x-oss-process=image/resize,m_fixed,h_166,w_222" alt="">
                                <!-- 此处是什么意思？ -->
                                                            </div>
                                                <h3>Python3爬取豆瓣网电影信息</h3>
                        <p>  # -*- coding:utf-8 -*-"""一个简单的Python爬虫, 用于抓取豆瓣电影Top前250的电影的名称Language: Python3.6"""import reimport urllib.requestimport urllib.errorimport time#import urllib2import sslssl._cre...</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         ide                                    </span>
                                                                    <span class="tag-item">
                                         html                                    </span>
                                                                    <span class="tag-item">
                                         正则匹配                                    </span>
                                                                    <span class="tag-item">
                                         python                                    </span>
                                                                    <span class="tag-item">
                                         safari                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                            <li>
                  <div class="about-aticle-list">
                  <a  href="https://blog.51cto.com/u_15127557/4024451?b=totalstatistic" data-report-query="" target="_blank">
                                                <h3>python爬取豆瓣top250电影源码</h3>
                        <p> 数据库版#-*- codeing=utf-8 -*-import sysfrom bs4 import BeautifulSoupimport reimport urllib.request,urllib.errorimport xlwtimport sqlite3#影片超链接的规则findlink=re.compile(r'&lt;a href="(....</p>
                    </a>
                    <!-- 标签页 -->
                                                <div class="tag-box">
                                                                    <span class="tag-item">
                                         html                                    </span>
                                                                    <span class="tag-item">
                                         sql                                    </span>
                                                                    <span class="tag-item">
                                         sqlite                                    </span>
                                                                    <span class="tag-item">
                                         超链接                                    </span>
                                                                    <span class="tag-item">
                                         2d                                    </span>
                                                            </div>
                                          </div>
                  
                </li>
                    </ul>
    </section>

   
</section>        
<aside class="detail-content-right">
    <!--右上角统计-->
    <section class="common-section common-spacing mb24 user-intr">
    <div class="user-content">
				<div class="top">
					<div class="avatar">
						<div class="avatar-img">
							<a href="https://blog.51cto.com/dyc2005" target="_blank">
								<img class="is-vip-img is-vip-img-4" data-uid="270872" src="https://ucenter.51cto.com/images/noavatar_middle.gif">
							</a>
						</div>
					</div>
					<div class="clearfix username">
						<a href="https://blog.51cto.com/dyc2005" target="_blank"><span class="blog-user" title="dyc2005" >dyc2005</span></a>
						<div class="icon">
							<ul class="clearfix detail-list">
                                                                								                                																                                							</ul>
						</div>
					</div>
				</div>
				<div class="bottom" id="userStat">
                    <script id="userStatScript" type="text/html">
					<div class="num-name num-top">
						<ul class="first-num">                           
                                <li>
                                    <div class="num"><a href="https://blog.51cto.com/dyc2005/original" target="_blank">{{original}}</a></div>
                                    <div class="label-name"><a href="https://blog.51cto.com/dyc2005/original" target="_blank">原创</a></div>
                                </li>
                                <li>
                                    <div class="num">{{hot.num}}<span>{{hot.unit}}</span></div>
                                    <div class="label-name">人气</div>
                                </li>
                                <li>
                                    <div class="num"><a href="https://blog.51cto.com/dyc2005/followers" target="_blank">{{fans.num}}<span>{{fans.unit}}</a></span></div>
                                    <div class="label-name"><a href="https://blog.51cto.com/dyc2005/followers" target="_blank">粉丝</a></div>
                                </li>
                                <li>
                                    <div class="num">{{comments.num}}<span>{{comments.unit}}</span></div>
                                    <div class="label-name">评论</div>
                                </li>
                            
						</ul>
					</div>
                    <div class="lines"></div>
					<div class="num-name num-bottom">
						<ul>
                            <li>
								<div class="num"><a href="https://blog.51cto.com/dyc2005/translate" target="_blank">{{translate}}</a></div>
								<div class="label-name"><a href="https://blog.51cto.com/dyc2005/translate" target="_blank">翻译</a></div>
							</li>
							<li>
								<div class="num"><a href="https://blog.51cto.com/dyc2005/reproduce" target="_blank">{{reproduce}}</a></div>
								<div class="label-name"><a href="https://blog.51cto.com/dyc2005/reproduce" target="_blank">转载</a></div>
							</li>
							<li>
								<div class="num"><a href="https://blog.51cto.com/dyc2005/following" target="_blank">{{follow}}</a></div>
								<div class="label-name"><a href="https://blog.51cto.com/dyc2005/following" target="_blank">关注</a></div>
							</li>
							<li>
								<div class="num">{{collect}}</div>
								<div class="label-name">收藏</div>
							</li>
							<div class="clear"></div>
						</ul>
					</div>
                    </script>
				</div>
                                <div class="operating clearfix ">
                                                                        <a id="checkFollow2_270872" class="follow-1 checkFollow on">关注</a>
                                                                <button class="sx" data="https://home.51cto.com/space?uid=270872" id="ToSx"><a href="javascript:;" rel="nofollow"><i class="iconblog blogsixin"></i>私信</a></button>
                </div>
			</div>
    </section>

    <!-- 其他近期文章 -->
        <section class="common-section common-spacing mb24">
        <div class="clearfix common-sub-title">
            <h2 title="python|shell分类的近期文章">python|shell分类的近期文章</h2>
        </div>
        <ul class="common-list common-list-dot">
                        <li>
                <h3 title="python爬取电影并下载"><a href="https://blog.51cto.com/dyc2005/2309658" target="_blank" class="title">python爬取电影并下载</a></h3>
            </li>
                        <li>
                <h3 title="python二分查找法"><a href="https://blog.51cto.com/dyc2005/2051124" target="_blank" class="title">python二分查找法</a></h3>
            </li>
                        <li>
                <h3 title="python virtualevn的安装与使用"><a href="https://blog.51cto.com/dyc2005/2050319" target="_blank" class="title">python virtualevn的安装与使用</a></h3>
            </li>
                        <li>
                <h3 title="python冒泡排序与常用数学计算"><a href="https://blog.51cto.com/dyc2005/2049480" target="_blank" class="title">python冒泡排序与常用数学计算</a></h3>
            </li>
                        <li>
                <h3 title="python线程join方法与seDaemon方法"><a href="https://blog.51cto.com/dyc2005/2045584" target="_blank" class="title">python线程join方法与seDaemon方法</a></h3>
            </li>
                    </ul>
    </section>
    
    <!-- 近期评论 -->
        <section class="common-section common-spacing mb24">
        <div class="clearfix common-sub-title">
            <h2 title="近期评论">近期评论</h2>
        </div>
        <ul class="common-list common-list-dot">
                        <li>
                <h3 title="elk(elasticsearch、logstast,kibana)filebeat部署与实践"><a href="https://blog.51cto.com/dyc2005/2447356" target="_blank" title="elk(elasticsearch、logstast,kibana)filebeat部署与实践" class="title">elk(elasticsearch、logstast,kibana)filebeat部署与实践</a></h3>
                <div class="dec" title="有时间有更新～"><a href="https://blog.51cto.com/dyc2005" target="_blank">有时间有更新～</a></div>
            </li>
                        <li>
                <h3 title="python爬取电影并下载"><a href="https://blog.51cto.com/dyc2005/2309658" target="_blank" title="python爬取电影并下载" class="title">python爬取电影并下载</a></h3>
                <div class="dec" title="学习如春之禾苗,不见所增,日有所长，又一次受教了"><a href="https://blog.51cto.com/swiki" target="_blank">学习如春之禾苗,不见所增,日有所长，又一次受教了</a></div>
            </li>
                        <li>
                <h3 title="zabbix监控iptables防火墙状态之是否有丢弃的包(攻-击)"><a href="https://blog.51cto.com/dyc2005/2306969" target="_blank" title="zabbix监控iptables防火墙状态之是否有丢弃的包(攻-击)" class="title">zabbix监控iptables防火墙状态之是否有丢弃的包(攻-击)</a></h3>
                <div class="dec" title="利用iptables -j log   功能，tail -F /var/log/message 输出，将输出交给python程序，提取出源ip，源ip写入redis，x ip每命中一次-j LOG，redis value +1  ,1天命中10次 ，就告警，防端口扫描等。"><a href="https://blog.51cto.com/u_9021141" target="_blank">利用iptables -j log   功能，tail -F /var/log/message 输出，将输出交给python程序，提取出源ip，源ip写入redis，x ip每命中一次-j LOG，redis value +1  ,1天命中10次 ，就告警，防端口扫描等。</a></div>
            </li>
                        <li>
                <h3 title="基于cobbler搭建本地的yum仓库源"><a href="https://blog.51cto.com/dyc2005/2130240" target="_blank" title="基于cobbler搭建本地的yum仓库源" class="title">基于cobbler搭建本地的yum仓库源</a></h3>
                <div class="dec" title="createrepo  repo源路径，这个下面的递归是什么个关系啊，就是咋递归管理啊，不会所有RPM包全放在一个目录里面吧"><a href="https://blog.51cto.com/u_9773362" target="_blank">createrepo  repo源路径，这个下面的递归是什么个关系啊，就是咋递归管理啊，不会所有RPM包全放在一个目录里面吧</a></div>
            </li>
                        <li>
                <h3 title="docker基础使用与入门实践"><a href="https://blog.51cto.com/dyc2005/2103523" target="_blank" title="docker基础使用与入门实践" class="title">docker基础使用与入门实践</a></h3>
                <div class="dec" title="嗯嗯，是的"><a href="https://blog.51cto.com/u_10412806" target="_blank">嗯嗯，是的</a></div>
            </li>
                    </ul>
    </section>
    
    <!-- 近期文章 -->
    <section class="common-section common-spacing mb24">
        <div class="clearfix common-sub-title">
            <h2 title="近期文章">近期文章</h2>
        </div>
        <ul class="common-list">
                        <li>
                <a href="https://blog.51cto.com/dyc2005/2548299" target="_blank" title="zabbix报警之钉钉报警配置">1.zabbix报警之钉钉报警配置</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/dyc2005/2469425" target="_blank" title="CentOS7部署ldap认证OpenVPN">2.CentOS7部署ldap认证OpenVPN</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/dyc2005/2447356" target="_blank" title="elk(elasticsearch、logstast,kibana)filebeat部署与实践">3.elk(elasticsearch、logstast,kibana)filebeat部署与实践</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/dyc2005/2411605" target="_blank" title="云主机磁盘存储动态扩容(LVM)方案">4.云主机磁盘存储动态扩容(LVM)方案</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/dyc2005/2345360" target="_blank" title="ubuntu 访问dell Idrac卡方法实践">5.ubuntu 访问dell Idrac卡方法实践</a>
            </li>
                    </ul>
        <div id="Datelist">
            <script id="datelistScript" type="text/html">
            <div class="common-list-lines"></div>
            {{if nowYear.length>0}}
            <div class="nowYear">
                <div class="years">
                    {{year}}
                </div>
                <div class="clearfix months">
                    {{each nowYear value index}}
                        <a href="{{value.url}}" target="_blank">
                            <span>{{value.name}}</span>
                            <strong>{{value.num}}篇</strong>
                        </a>
                    {{/each}}
                </div>
            </div>
            {{/if}}
            {{if otherYear.length>0}}
            <div class="otherYear">
                <div class="clearfix years">
                    {{each otherYear value index}}
                        <a href="{{value.url}}">{{value.name}}   {{value.num}}篇</a>
                    {{/each}}
                </div>
            </div>
            {{/if}}
            </script>
        </div>
    </section>

    <!-- 热门文章 -->
    
    <!-- 热评好文 -->
        <section class="common-section common-spacing mb24">
        <div class="clearfix common-sub-title">
            <h2 title="热评好文">热评好文</h2>
        </div>
        <ul class="common-list common-list-dot">
                        <li>
                <a href="https://blog.51cto.com/dyc2005/1942480" target="_blank" title="CentOS6.x rsync+httpd搭建配置本地YUM源库" class="title">CentOS6.x rsync+httpd搭建配置本地YUM源库</a>
            </li>
                    </ul>
    </section>
    
    <!--七日热门-->
        <section class="common-section common-spacing mb24">
        <div class="clearfix common-sub-title">
            <h2 title="七日热门">七日热门</h2>
        </div>
        <ul class="common-list common-list-dot">
                        <li>
                <a href="https://blog.51cto.com/15127527/3393542" target="_blank" title="No Python at ‘E:\Python\python.exe’" class="title">No Python at ‘E:\Python\python.exe’</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/15127637/3260114" target="_blank" title="[Python] Python Libs" class="title">[Python] Python Libs</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/15080014/4712399" target="_blank" title="Python（01）：Python简介与Python安装" class="title">Python（01）：Python简介与Python安装</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/15076236/3360496" target="_blank" title="python乱码,python编码,python中文编码转换,python utf-8,python utf8,python unicode" class="title">python乱码,python编码,python中文编码转换,python utf-8,python utf8,python unicode</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/huangchao/1710622" target="_blank" title="【python】prepare for python env" class="title">【python】prepare for python env</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/menglanglang/5006903" target="_blank" title="Python 格言（The Zen of Python）" class="title">Python 格言（The Zen of Python）</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/yang/2892013" target="_blank" title="Python基础——Python入门" class="title">Python基础——Python入门</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/15127586/3668812" target="_blank" title="【python教程】Python JSON" class="title">【python教程】Python JSON</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/15127611/3260074" target="_blank" title="[Python] Execute a Python Script" class="title">[Python] Execute a Python Script</a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/hellogithub/2775032" target="_blank" title="[python]python元类" class="title">[python]python元类</a>
            </li>
                    </ul>
    </section>
    
    <!-- 分类列表 -->
        <section class="common-section common-spacing mb24">
        <div class="clearfix common-sub-title">
            <h2 title="分类列表">分类列表</h2>
                        <a href="https://blog.51cto.com/dyc2005" target="_blank" class="fr more">更多</a>
                    </div>
        <ul class="common-list" id="classification-list">
                        <li>
                <a href="https://blog.51cto.com/dyc2005/category1.html" target="_blank"  title="#  python|shell"><span>#  python|shell</span><span>26篇</span></a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/dyc2005/category2.html" target="_blank"  title="#  linux系列"><span>#  linux系列</span><span>8篇</span></a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/dyc2005/category3.html" target="_blank"  title="#  windows系列"><span>#  windows系列</span><span>6篇</span></a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/dyc2005/category4.html" target="_blank"  title="#  网络工具"><span>#  网络工具</span><span>6篇</span></a>
            </li>
                        <li>
                <a href="https://blog.51cto.com/dyc2005/category5.html" target="_blank"  title="#  日常实战"><span>#  日常实战</span><span>13篇</span></a>
            </li>
                    </ul>
    </section>
    
    <!--相关标签-->
        <section class="common-section common-spacing mb24">
        <div class="clearfix common-sub-title">
            <h2 title="相关标签">相关标签</h2>
            <a href="https://blog.51cto.com/topic/all" target="_blank" class="fr more">全部</a>
        </div>
        <div class="label-list">
                            <a href="/topic/javapaqudoubandianying.html" class="tag-text" target="_blank">java爬取豆瓣电影</a>
                            <a href="/topic/python-paqudianying.html" class="tag-text" target="_blank">python 爬取电影</a>
                            <a href="/topic/python-paqudianyingbiaoqian.html" class="tag-text" target="_blank">python 爬取电影标签</a>
                            <a href="/topic/python-paqudoubandianying.html" class="tag-text" target="_blank">python 爬取豆瓣电影</a>
                            <a href="/topic/python3.6paqudianying.html" class="tag-text" target="_blank">python3.6爬取电影</a>
                            <a href="/topic/pythonpaquyundianying.html" class="tag-text" target="_blank">python爬取云电影</a>
                            <a href="/topic/pythonpaqutudoudianying.html" class="tag-text" target="_blank">python爬取土豆电影</a>
                            <a href="/topic/pythonpaqumaoyandianyinglunwen.html" class="tag-text" target="_blank">python爬取猫眼电影论文</a>
                            <a href="/topic/pythonpaqudianyinghoupingjia.html" class="tag-text" target="_blank">python爬取电影后评价</a>
                            <a href="/topic/pythonpaqudianyingshuju.html" class="tag-text" target="_blank">python爬取电影数据</a>
                    </div>
    </section>
    
    <!-- 文章目录 -->
            <section class="common-section common-spacing table-contents common-content-directory">
            <div class="clearfix common-sub-title">
                <strong title="文章目录">文章目录</strong>
            </div>
            <div class="directory">
                <ul class="directory-list">
                                                                    <li                             class="lv1"
                                                    >
                            <div class="title" title="一、概述">
                                <span data-id="#h0">
                                                                            第1章&nbsp;&nbsp;
                                                                        一、概述                                </span>
                            </div>
                        </li>
                                                                                            <li                             class="lv1"
                                                    >
                            <div class="title" title="二、代码">
                                <span data-id="#h1">
                                                                            第2章&nbsp;&nbsp;
                                                                        二、代码                                </span>
                            </div>
                        </li>
                                                            </ul>
            </div>
            <div class="table-contents">

            </div>
        </section>
    </aside>
    </div>

    <!--返回顶部-->
    <aside class="action-aside action-aside-right">
        <ul>
            <li class="scrollTop">
                <strong class="ScrollWindowTop">
                    <a href="javascript:;"><i class="iconblog blogzhi"></i></a>
                    <span>返回顶部</span>
                </strong>
            </li>
        </ul>
    </aside>
</div>

<div class="imgViewDom disnone" style="display: none;">
    <div class="img-content"></div>
</div>

<div class="zhiCustomBtn" style="display:none;" id="hide-zhiCustomBtn"></div>


<script>
    var codeArr = $('.editor-preview-side pre code')
    if(codeArr.length > 0) {
        $.each(codeArr, function(index, item) {
            var parent = $(this).parent('pre')
            var classStr = $(this).attr('class') || parent.attr('class')
            if(classStr && classStr.indexOf('language-') != -1) return
            $(this).addClass('language-html') && parent.addClass('language-html')
        })
    }


    $(document).ready(function() {
        addPreNumber()
        //  代码高亮
        mdPrism.highlightAll();
        // 代码添加行号
        // prenumber(['hljs-cto', 'code-toolbar'])
        if(is_old != 0) {
            prenumber(['code-toolbar'])
        }
    })
    var tipStatus = '1'
    if( tipStatus == '1') {
        $('#zanTip').show()
    } else {
        $('#zanTip').hide()
    }
    var totalWidth = $('.detail-list').outerWidth(true)+$('.dbk').outerWidth(true)
    var usernameWidth = $('.username').outerWidth(true)
    var cha = usernameWidth-totalWidth-10+'px'
    $('.blog-user').css('max-width', cha)
    var BLOG_URL = 'https://blog.51cto.com/';
    var praise_url = 'https://blog.51cto.com/praise/praise'
    addReply_url = 'https://blog.51cto.com/addBlogComment'
    removeUrl = 'https://blog.51cto.com/delBlogComment'
    blog_id = '2309658'
    pv_log_info = {
        'pv_type':'blog',
        'user_id':'270872',
        'blog_id':'2309658'
    };
    is_comment = '0'
    comment_list = 'https://blog.51cto.com/getBlogCommentList'
    index_url = 'https://blog.51cto.com/dyc2005';
    uc_url = 'https://ucenter.51cto.com/'
    blog_url = 'https://blog.51cto.com/'
    img_url = 'https://static1.51cto.com/edu/blog/'
    i_user_id = ''
    c_user_id ='270872'
    collect_url = 'https://blog.51cto.com/collect/add'
    is_old = '0'
    nicknameurl = 'https://blog.51cto.com/dyc2005'
    nickname = 'dyc2005'
    myself = window.location.href,
    shareimgUrl = 'https://blog.51cto.com/qr/qr-url?url=https%3A%2F%2Fblog.51cto.com%2Fdyc2005%2F2309658';
        function FollowBtnSucc(e){//1:未关注,2:已关注,3:互相关注
        if(e==2||e==3){
            $('#zanTip').hide()
            $.post('/index/wxbind',{uid:userId},function(res){
                if(res.data.wxBind == 0){//没绑定
                    if(getCookie('follow1'))return false;
                    box1()
                }else{
                    if(getCookie('follow2'))return false;
                    box2()
                }
            },'json')
        } else if(e == 1) {
            $('#zanTip').show()
        }
    }
    FollowBtn = new Follow($('#checkFollow1_270872'),'270872','1',['on','in','mutual','off']);
    FollowBtn.success=FollowBtnSucc;
    FollowBtn = new Follow($('#checkFollow2_270872'),'270872','1',['on','in','mutual','off']);
    FollowBtn.success=FollowBtnSucc;
        if(is_old==1 || is_old==2){
        // SyntaxHighlighter.all();
        insertCodeElement("# \u4e00\u3001\u6982\u8ff0\n\u5bf9\u4e8e\u4e00\u4e2a\u5b85\u7537\uff0c\u559c\u6b22\u770b\u7535\u5f71\uff0c\u6bcf\u6b21\u6253\u5f00\u7535\u5f71\u7f51\u7ad9\uff0c\u5404\u79cd\u5f39\u51fa\u7684\u5e7f\u544a\uff0c\u5f88\u662f\u9ebb\u70e6\uff0c\u8fd8\u662f\u8981\u81ea\u5df1\u53bb\u590d\u5236\u4e0b\u8f7d\u94fe\u63a5\u5230\u8fc5\u96f7\u4e0a\u7c98\u8d34\u5e76\u4e0b\u8f7d\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u8fd8\u6709\u9009\u62e9\u56f0\u96be\u75c7;\u8fd9\u4e00\u7cfb\u5217\u7684\u52a8\u4f5c\u8ba9\u4eba\u751a\u662f\u4e0d\u723d\uff0c\u4e0d\u5982\u6709\u4e0b\u597d\u7684\uff0c\u70b9\u7740\u770b\u5c31\u597d\u4e86;\u4f5c\u4e3a\u4e00\u4e2apython\u7231\u597d\u8005\uff0c\u7ed3\u5408\u5bf9\u722c\u866b\u7684\u4e00\u70b9\u5c0f\u4e86\u89e3\uff0c\u4e8e\u662f\u5468\u672b\u82b1\u4e86\u70b9\u65f6\u95f4\u7528python\u5199\u4e86\u4e00\u4e2a\u722c\u53d6\u67d0\u7535\u5f71\u7f51\u7ad9\u4e0a\u7684\u6700\u65b0\u7535\u5f71\u677f\u5757;\n\u601d\u8def\uff1a\n\u722c\u866b\u9488\u5bf9\u67d0\u7535\u5f71\u7f51\u7ad9\uff0c\u6536\u96c6\u7535\u5f71\u540d\uff0c\u4e0b\u8f7d\u94fe\u63a5\uff0c\u8bc4\u5206\uff0c\u7b49\u4fe1\u606f;\u5f53\u5929\u66f4\u65b0\u7684\u7535\u5f71\uff0c\u7279\u522b\u7684\u6253\u5370\u51fa\u6765;\u540c\u65f6\u901a\u8fc7\u8bc4\u5206\u8c03\u7528\u8fc5\u96f7\u4e0b\u8f7d\uff0c\u5f53\u7136\u5148\u5224\u65ad\u4e0b\uff0c\u662f\u5426\u5df2\u7ecf\u4e0b\u8f7d\u8fc7\u4e86\uff0c\u518d\u51b3\u5b9a\u662f\u5426\u4e0b\u8f7d;\u7136\u540e\uff0c\u5c31\u662f\u53ef\u4ee5\u770b\u4e86\uff5e\n\n\u672c\u6b21\u7248\u672c\u662f\u57fa\u4e8epython3.x\u4e0b\u901a\u8fc7\uff0c\u5728windows\u4e0a\u624d\u80fd\u8c03\u7528\u8fc5\u96f7\uff5elinux\u5e73\u53f0\u53ea\u80fd\u83b7\u53d6\u76f8\u5173\u4fe1\u606f\uff01\npython\u5b89\u88c5\u548c\u76f8\u5173\u7684\u6a21\u5757\u5b89\u88c5\u8fd9\u91cc\u4e0d\u8bb2\u8ff0\uff0c\u5982\u6709\u4e0d\u660e\u767d\u8bf7\u7559\u8a00\u6211\uff5e\njupyter\u4e0a\u8fd0\u884c\u5982\u4e0b\uff1a\n![python\u722c\u53d6\u7535\u5f71\u5e76\u4e0b\u8f7d_\u722c\u866b](http:\/\/i2.51cto.com\/images\/blog\/201811\/26\/904836a12e1452273cdccbd8fa343772.gif)\n# \u4e8c\u3001\u4ee3\u7801\n\u5e9f\u8bdd\u4e0d\u591a\u8bf4\u4e0a\u4ee3\u7801\u5427\uff5e\n```\n# coding:utf-8\n# version 20181027 by san\nimport re,time,os\nfrom urllib import request\nfrom lxml import etree  # python xpath \u5355\u72ec\u4f7f\u7528\u5bfc\u5165\u662f\u8fd9\u6837\u7684\nimport platform\nimport ssl\nssl._create_default_https_context = ssl._create_unverified_context   # \u53d6\u6d88\u5168\u5c40\u8bc1\u4e66\n\n#\u722c\u866b\u7535\u5f71\u4e4b\u7c7b\nclass getMovies:\n    def __init__(self,url,Thuder):\n        '''        \u5b9e\u4f8b\u521d\u59cb\u5316       '''\n        self.url = url\n        self.Thuder = Thuder\n            \n    def getResponse(self,url):\n        url_request = request.Request(self.url)\n        url_response = request.urlopen(url_request)\n        return url_response   #\u8fd4\u56de\u8fd9\u4e2a\u5bf9\u8c61\n\n    def newMovie(self):\n        ''' \u83b7\u53d6\u6700\u65b0\u7535\u5f71 \u4e0b\u8f7d\u5730\u5740\u4e0eurl '''\n        http_response = self.getResponse(webUrl) #\u62ff\u5230http\u8bf7\u6c42\u540e\u7684\u4e0a\u4e0b\u6587\u5bf9\u8c61(HTTPResponse object)\n        data = http_response.read().decode('gbk')\n        #print(data)  #\u83b7\u53d6\u7f51\u9875\u5185\u5bb9\n        html = etree.HTML(data)\n        newMovies = dict()\n        lists = html.xpath('\/html\/body\/div[1]\/div\/div[3]\/div[2]\/div[2]\/div[1]\/div\/div[2]\/div[2]\/ul\/table\/\/a')\n        for k in lists:\n            if \"app.html\" in k.items()[0][1] or \"\u6700\u65b0\u7535\u5f71\u4e0b\u8f7d\" in k.text:\n                continue\n            else:\n                movieUrl = webUrl + k.items()[0][1]\n                movieName = k.text.split('\u300a')[1].split(\"\u300b\")[0]\n                newMovies[k.text.split('\u300a')[1].split(\"\u300b\")[0]] = movieUrl = webUrl + k.items()[0][1]\n        return newMovies\n\n  def Movieurl(self,url):\n        ''' \u83b7\u53d6\u8bc4\u5206\u548c\u66f4\u65b0\u65f6\u95f4 '''\n        url_request = request.Request(url)\n        movie_http_response = request.urlopen(url_request)\n        data = movie_http_response.read().decode('gbk')\n        if len(re.findall(r'\u8c46\u74e3\u8bc4\u5206.+?.+users',data)):  # \u83b7\u53d6\u8bc4\u5206;\u6ca1\u6709\u8bc4\u5206\u7684\u8fd4\u56denull\n            pingf = re.findall(r'\u8c46\u74e3\u8bc4\u5206.+?.+users',data)[0].split('\/')[0].replace(\"\\u3000\",\":\")\n               \n        else:\n            pingf = \"\u8c46\u74e3\u8bc4\u5206:null\"\n        desc = re.findall(r'\u7b80\\s+\u4ecb.*',data)[0].replace(\"\\u3000\",\"\").replace('<br \/>',\"\").split(\"src\")[0].replace('&ldquo',\"\").replace('&rdquo',\"\").replace('<img border=\"0\"',\"\")\n    \n            \n        times = re.findall(r'\u53d1\u5e03\u65f6\u95f4.*',data)[0].split('\\r')[0].strip()   # \u83b7\u53d6\u5f71\u7247\u53d1\u5e03\u65f6\u95f4\n        html = etree.HTML(data)\n        murl = html.xpath('\/\/*[@id=\"Zoom\"]\/\/a')\n        for k in murl:\n            for l in k.items():\n                if \"ftp:\/\/\" in l[1]:\n                    print\n                    return l[1],times,pingf,desc\n\n    def check_end(self,fiename,path):\n        ''' \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u4e0b\u8f7d\u5b8c\u6210 '''\n        return os.path.exists(os.path.join(save_path,fiename))\n    \n    def check_start(self,filename):\n        ''' \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u5f00\u59cb\u4e0b\u8f7d '''\n        cache_file = filename+\".xltd\"\n        return os.path.exists(os.path.join(save_path,cache_file))\n\n    def DownMovies(self,name,url):\n        ''' windows\u4e0b\u8f7d '''\n        PlatForm = platform.system()\n        print(\"\u5373\u5c06\u4e0b\u8f7d\u7684\u7535\u5f71\u662f\uff1a%s\" %name)\n        if PlatForm == \"Windows\":\n            try:\n                print(r'\"{0}\" \"{1}\"'.format(self.Thuder,url))\n                os.system(r'\"{0}\" {1}'.format(self.Thuder,url))\n            except Exception as e:\n                print(e)\n        else:\n            print(\"\u5f53\u524d\u7cfb\u7edf\u5e73\u53f0\u4e0d\u652f\u6301\")\n\n    def Main(self):\n        ''' \u6700\u7ec8\u65b0\u7535\u5f71\u5b58\u50a8\u5728\u5b57\u5178\u4e2d '''\n        NewMoveis = dict()  \n        Movies = self.newMovie()  # \u83b7\u53d6\u7535\u5f71\u7684\u5b57\u5178\u4fe1\u606f\n        for k,v in Movies.items():\n            NewMoveis[k] = self.Movieurl(v),v\n        return NewMoveis\n    \n    def NewMoives(self):\n        ''' \u67e5\u770b\u5df2\u7ecf\u83b7\u53d6\u5230\u7684\u7535\u5f71\u4fe1\u606f '''\n        Today = time.strftime(\"%Y-%m-%d\")\n        print(\"\u4eca\u5929\u662f\uff1a%s\" %Today)\n        Movies = self.Main()\n        print(\"\u6700\u8fd1\u7684 %s \u90e8\u65b0\u7535\u5f71\uff1a\" % len(Movies.keys()))\n        for k,v in Movies.items():\n#           print(v[0][1].split(\":\")[0])\n            if Today in v[0][1].split(\":\")[0]:\n                print(\"++++++++++++++++\u4eca\u5929\u521a\u66f4\u65b0++++++++++++++\uff1a\",\"\\n\",k,\"-->\",v,\"\\n\")\n            else:\n                print(\"========================================\")\n                print(k,\"-->\",v,\"\\n\")\n\n\n\nif __name__ == '__main__':\n    # \u4ee5\u4e0b\u4f9d\u636e\u60a8\u4e2a\u4eba\u7535\u5f71\u8fc5\u96f7\u7684\u76f8\u5173\u4fe1\u606f\u586b\u5199\u5373\u53ef\n    save_path=\"O:\\\u8fc5\u96f7\u4e0b\u8f7d\"     # \u7535\u5f71\u4e0b\u8f7d\u4fdd\u5b58\u4f4d\u7f6e \uff08\u9700\u8981\u586b\u5199\uff09\n    Thuder = \"O:\\Program\\Thunder.exe\"   #Thuder: \u8fc5\u96f7Thuder.exe\u8def\u5f84 \uff08\u9700\u8981\u586b\u5199\uff09\n    webUrl = 'http:\/\/www.dytt8.net'     # \u7535\u5f71\u7f51\u7ad9\n    test = getMovies(webUrl,Thuder)   # \u5b9e\u4f8b\u5316\n    test.NewMoives()\n    Movies = test.Main()\n       \n    for k,v in Movies.items():\n        movies_name = v[0][0].split('\/')[3]\n        socre = v[0][2].split(\":\")[1]\n        check_down_status = test.check_end(movies_name,save_path)\n#       print(check_down_status)\n        if  check_down_status:\n            print(\"\u7535\u5f71: %s \u5df2\u7ecf\u4e0b\u8f7d\" %movies_name)\n            continue\n        elif  socre == 'null':\n            continue\n        elif float(socre) > 7.0:\n            print(movies_name,socre)\n            test.DownMovies(k,v[0][0])\n            time.sleep(10)\n\n```\n\n\u6ce8\u610f\uff1a\u4ee5\u4e0a\u4ee3\u7801\u662f\u9488\u5bf9windows\u5e73\u53f0\u4e0b\uff0c\u8fc5\u96f7\u7248\u672c\u4e3a\u975e\u6781\u901f\u7248\u672c\uff0c\u672c\u6b21\u4f7f\u7528\u7684\u662f9.14 \u5982\u56fe\uff1a\n![python\u722c\u53d6\u7535\u5f71\u5e76\u4e0b\u8f7d_\u4e0b\u8f7d\u7535\u5f71_02](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/12cdc42eb5443a6b59f57738e34fa3ed.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n\u53e6\u5916\u9700\u8981\u52fe\u9009\u4ee5\u4e0b\u914d\u7f6e\u9879\uff0c\u5426\u5219\u7a0b\u5e8f\u8c03\u7528\u8fc5\u96f7\u4e0b\u8f7d\u65f6\u4f1a\u6709\u63d0\u793a\u6846\uff1a\n![python\u722c\u53d6\u7535\u5f71\u5e76\u4e0b\u8f7d_\u4e0b\u8f7d\u7535\u5f71_03](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/1798d7495d1a62e3c47af8451155938f.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n\n\u7a0b\u5e8f\u8fd0\u884c\u6548\u679c\u5982\u56fe\uff1a\n![python\u722c\u53d6\u7535\u5f71\u5e76\u4e0b\u8f7d_\u4e0b\u8f7d\u7535\u5f71_04](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/cb5f8dc6d213a00bf6500aa53f7ee4dd.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n![python\u722c\u53d6\u7535\u5f71\u5e76\u4e0b\u8f7d_\u722c\u866b_05](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/51f834f26f41002528679da18ea2fe61.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n\n\u518d\u770b\u4e0bO\u76d8 \u4e0b\u8f7d\u7684\u76ee\u5f55\uff1a\n![python\u722c\u53d6\u7535\u5f71\u5e76\u4e0b\u8f7d_\u722c\u866b_06](http:\/\/i2.51cto.com\/images\/blog\/201810\/27\/105647e135301bd56d8391fa98f4249f.png?x-oss-process=image\/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)\n\n\u81f3\u6b64\u81ea\u52a8\u83b7\u53d6\u6700\u65b0\u7535\u5f71\u5e76\u4e0b\u8f7d\u6307\u5b9a\u8bc4\u5206\u7535\u5f71\u5b8c\u6210\uff5e \u518d\u4e5f\u4e0d\u7528\u62c5\u5fc3\u9009\u62e9\u56f0\u96be\u4e86\uff0c\u4e0b\u597d\u770b\u5c31\u884c\u4e86\uff5e\n\n\u8865\u5145\u8bf4\u660e\uff1a\n\u8fd9\u53ea\u662f\u4e00\u4e2a\u57fa\u672c\u7684\u83b7\u53d6\u5e76\u4e0b\u8f7d\u7535\u5f71\u7684\u7a0b\u5e8f\uff0c\u4e5f\u53ef\u80fd\u6269\u5145\u6210\u4e0b\u8f7d\u597d\u53d1\u90ae\u4ef6\uff0c\u6216\u4e0d\u60f3\u4e0b\u8f7d\uff0c\u5b9a\u65f6\u8fd0\u884c\uff0c\u6709\u65b0\u7535\u5f71\u53d1\u90ae\u4ef6\u63d0\u793a\u7684\u529f\u80fd\uff5e\u66f4\u529f\u80fd\u81ea\u884c\u53d1\u6325\u5427\uff0c\u5982\u6709\u90a3\u4f4d\u5927\u725b\u77e5\u9053linux\u4e0b\u81ea\u884c\u4e0b\u8f7d\u7684\u65b9\u6cd5\uff0c\u6b22\u8fce\u7559\u8a00\u4ea4\u6d41\uff0c\u8c22\u8c22\uff5e\u5982\u679c\u89c9\u5f97\u8fd8\u53ef\u4ee5\uff0c\u4e0d\u8981\u5fd8\u8bb0\u70b9\u4e2a\u8d5e\u54e6\uff5e\n\n", '#result');
    }

  function insertCodeElement(content, container){
    if(content.indexOf('<code>') != -1) return
    container = container || document;
    // 创建一个 div 来放置获取到的内容，这样就可以把 content 字符串内容转换成 dom
    // 方便我们对这个 dom 进行操作（只是创建 div，并没有插入到文档，他只存在于内存中）
    var parent = document.createElement('div');
    parent.innerHTML = content;
    if($('.am-engine').length===0){
        // 找到 parent 中的所有 pre 标签，并遍历
       var $pres = $(parent).find('pre');
       $pres.each(function(index, el) {
            var $el = $(el),
            html = $el.html(),
            code = document.createElement('code'),
            elClass = $el.attr('class');
            if(!elClass) {return};
            // 获取 pre 标签中，class 属性中包含的本段代码所有的编程语言
            var language = elClass.substring(6, elClass.indexOf(';'));
            code.className = 'language-' + language;
            code.innerHTML = html;
            $el.html(code);
        });
        }else{
        var $pres = $(parent).find('pre');
        let cardData=$(parent).find('.card-activated')
        $pres.each(function(index,el){
            var  $el = $(el),
            html = $el.html(),
            code = document.createElement('div');
            code.className = 'language-';
            code.innerHTML = html;
            $el.html(code);
            $(el).css("padding",'15px 0 17px 0')     
            })
        }
        
        $(container).html(parent.innerHTML);

        // 最后，调用 Prism 的方法来高亮代码
        // Prism.highlightAll();
    }
</script>

</div>
  
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
<![endif]-->
<header class="home-top">
    <div class="Page">
        <div class="top-box">
            <div class="item-lf"><a class="top" href="https://www.51cto.com/" target="_blank"  rel="nofollow">51CTO首页</a></div>
            <div class="item-lf">
                <a href="https://blog.51cto.com/" target="_blank">博客</a>
            </div>
            <div class="item-lf">
                <a class="subweb" href="https://edu.51cto.com?utm_source=hometop" data-id="2" target="_blank"  rel="nofollow">学堂</a>
            </div>
            <div class="item-lf">
                <a class="subweb" href="https://e.51cto.com/?utm_platform=pc&amp;utm_medi-um=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar" data-id="3" target="_blank" rel="nofollow">精培</a>
            </div>
            <div class="item-lf">
                <a class="subweb" href="https://b.51cto.com/index?utm_source=hometop" data-id="4" target="_blank" rel="nofollow">企业培训</a>
            </div>
            <div class="item-lf">
                <a class="subweb" href="https://x.51cto.com/?www" data-id="5" target="_blank" rel="nofollow">CTO训练营</a>
            </div>
            <div class="item-lf">
                <a class="subweb" href="https://ost.51cto.com/openharmony?utm_source=hometop" data-id="6" target="_blank" rel="nofollow">鸿蒙技术社区</a>
            </div>
            <div class="item-lf">
                <a href="http://wot.51cto.com/act/wot2021/dev?www1" target="_blank" rel="nofollow">WOT技术大会</a>
            </div>
            <div class="item-lf">
                <a href="https://metacon.51cto.com/act/metaverse/2022?dhl" target="_blank" rel="nofollow">元宇宙大会</a>
            </div>
            <div class="top-right">
                <div class="item-rt"><span class="subweb" data-id="8">移动端</span></div>
                <div class="item-rt"><span class="subweb" data-id="7">公众号矩阵</span></div>
                <div class="item-rt collection">收藏本站</div>
                <div class="item-rt"><a href="http://so.51cto.com/?keywords=&amp;sort=time" target="_blank" class="search-top" rel="nofollow"><i class="iconblog blogsou"></i></a></div>
            </div>
        </div>
    </div>
    <div class="nav-more-container" style="height: 0px;">
        <div class="Page nav-contant-box" style="height: 0px; z-index: 0;">
            <div class="nav-contant nav-contant1" data-id="1" style="height: 0px; z-index: 0;">
                <a href="https://blog.51cto.com/" target="_blank">博客</a>
            </div>
            <div class="nav-contant nav-contant2" data-id="2" style="height: 0px; z-index: 0;">
                <a href="https://edu.51cto.com/courselist/index-zh5.html?utm_source=hometop" target="_blank" rel="nofollow">免费课程</a>
                <a href="https://edu.51cto.com/ranking/index.html?utm_source=hometop" target="_blank" rel="nofollow">课程排行</a>
                <a href="https://e.51cto.com/ncamp/list?utm_platform=pc&amp;utm_medium=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar&amp;rtm_frd=13" target="_blank" rel="nofollow">直播课</a>
                <a href="https://e.51cto.com/rk/?utm_platform=pc&amp;utm_medi-um=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar&amp;rtm_frd=14" target="_blank" rel="nofollow">软考学堂</a>
            </div>
            <div class="nav-contant nav-contant3" data-id="3" style="height: 0px; z-index: 0;">
                <a href="https://e.51cto.com/?utm_platform=pc&amp;utm_medi-um=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar" target="_blank" rel="nofollow">精品班</a>
                <a href="https://e.51cto.com/wejob/list?pid=5&amp;utm_platform=pc&amp;utm_medium=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar&amp;rtm_frd=41" target="_blank" rel="nofollow">厂商认证</a>
                <a href="https://e.51cto.com/wejob/list?pid=1&amp;utm_platform=pc&amp;utm_medium=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar&amp;rtm_frd=42" target="_blank" rel="nofollow">IT技术</a>
                <a href="https://e.51cto.com/rk/?utm_platform=pc&amp;utm_medium=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_xyzq_rightwzl&amp;rtm_frd=07&amp;utm_medium=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar&amp;rtm_frd=43" target="_blank" rel="nofollow">2022年软考</a>
                <a href="https://e.51cto.com/wejob/list?pid=33&amp;utm_platform=pc&amp;utm_medium=51cto&amp;utm_source=zhuzhan&amp;utm_content=sy_topbar&amp;rtm_frd=44" target="_blank" rel="nofollow">PMP项目管理</a>
            </div>
            <div class="nav-contant nav-contant4" data-id="4" style="height: 0px; z-index: 0;">
                <a href="https://b.51cto.com/index?utm_source=hometop" target="_blank" rel="nofollow">在线学习</a>
                <a href="https://b.edu.51cto.com/site/home" target="_blank" rel="nofollow">企业服务</a>
            </div>
            <div class="nav-contant nav-contant5" data-id="5" style="height: 0px; z-index: 0;">
                <a href="https://x.51cto.com/?www" target="_blank" rel="nofollow">CTO训练营</a>
                <a href="https://x.51cto.com/act/cto/tl" target="_blank" rel="nofollow">技术经理研习营</a>
                <a href="https://x.51cto.com/act/cto/leatech2021?www1" target="_blank" rel="nofollow">LeaTech峰会</a>
            </div>
            <div class="nav-contant nav-contant6" data-id="6" style="height: 0px; z-index: 0;">
                <a href="https://ost.51cto.com/postlist" target="_blank" rel="nofollow">文章</a>
                <a href="https://ost.51cto.com/resource" target="_blank" rel="nofollow">资源</a>
                <a href="https://ost.51cto.com/answerlist" target="_blank" rel="nofollow">问答</a>
                <a href="https://ost.51cto.com/study" target="_blank" rel="nofollow">鸿蒙课堂</a>
                <a href="https://ost.51cto.com/column" target="_blank" rel="nofollow">专栏</a>
                <a href="https://ost.51cto.com/activity" target="_blank" rel="nofollow">直播</a>
            </div>
            <div class="nav-contant nav-contant7" data-id="7" style="height: 0px; z-index: 0;">
                <div class="ewmbox">
                    <div class="imgbox"><img src="//static5.51cto.com/www/images/ewm_4.jpeg" alt=""></div>
                    <span class="txt">51CTO</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="//static2.51cto.com/www/images/ewm_1.png" alt=""></div>
                    <span class="txt">51CTO鸿蒙技术社区</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="//static4.51cto.com/www/images/ewm_2.jpeg" alt=""></div>
                    <span class="txt">51CTO技术栈</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="//static5.51cto.com/www/images/ewm_3.jpeg" alt=""></div>
                    <span class="txt">51CTO官微</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="//static4.51cto.com/www/images/ewm_5.jpeg" alt=""></div>
                    <span class="txt">51CTO学堂</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="//static5.51cto.com/www/images/blog.jpg" alt=""></div>
                    <span class="txt">51CTO博客</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="//static5.51cto.com/www/images/ewm_10.jpg" alt=""></div>
                    <span class="txt">CTO训练营</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="//static3.51cto.com/www/images/ewm_6.jpg" alt=""></div>
                    <span class="txt">鸿蒙技术社区订阅号</span>
                </div>
            </div>
            <div class="nav-contant nav-contant8" data-id="8" style="height: 0px; z-index: 0;">
                <div class="ewmbox">
                    <div class="imgbox"><img src="//static2.51cto.com/www/images/ewm_8.jpg" alt=""></div>
                    <span class="txt">51CTO学堂APP</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="//static4.51cto.com/www/images/ewm_qy.png" alt=""></div>
                    <span class="txt">51CTO学堂企业版APP</span>
                </div>
                <div class="ewmbox">
                    <div class="imgbox"><img src="//static5.51cto.com/www/images/video.png" alt=""></div>
                    <span class="txt">鸿蒙技术社区视频号</span>
                </div>
            </div>
        </div>
    </div>
</header>
<div class="Header" style="height:61px;">
  <div class="Page clearfix ">
      <div class="Logo"><a href="https://blog.51cto.com/"><img src="https://static4.51cto.com/edu/blog/images/logonew5.png" alt="51CTO博客" width="202" title="51CTO博客"><h2>51CTO博客</h2></a></div>
      <ul class="Navigates fl commonhide">
      <li ><a href="https://blog.51cto.com/">首页</a>
        <div class="spam-classifications" style="display:none;">
          <div class="spam-classifications-content">
          <div class="classification-ipc"  id="classification-ipc"></div> <div class="classification-primary-list-box" id="classification-primary-list-box"></div>           

          </div>
        </div>
      </li>
      <li ><a href="https://blog.51cto.com/nav/following">关注</a></li>
        <li ><a href="https://blog.51cto.com/ranking">热榜</a></li>
      <li class="">
        <a  href="https://blog.51cto.com/cloumn/index" target="_blank">订阅专栏</a>
      </li>
            
                  </ul>
    <ul class="Navigates Navigates-right fr">
      <li class="more maps">
        <a href="javascript:void(0);" class="menu"></a>
        <div>
          <div class="ins">

            <a href="https://edu.51cto.com/" target="_blank">学堂</a>
            <a href="https://e.51cto.com/" target="_blank" rel="nofollow">精培</a>           
            <a href="https://harmonyos.51cto.com?blogdaohang" target="_blank">鸿蒙社区</a>       
            <a href="http://x.51cto.com" target="_blank" rel="nofollow">CTO训练营</a>           
            <a href="http://www.51cto.com" target="_blank">51CTO</a>
              <a href="https://blog.51cto.com/class-blog/index" target="_blank">班级博客</a>
          </div>
        </div>
      </li>
              <li class="logins">
			    <a href="https://home.51cto.com/index?from_service=blog&scene=login1&reback=https://blog.51cto.com/dyc2005/2309658" target="_self" class="clearfix" rel="nofollow" ><span class="fl">登录</span><b class="fgline fl"></b><span class="fl">注册</span></a>
        </li>
                        <li class="mRead commonhide">
            <a href="javascript:;" rel="nofollow"></a>
            <div>
              <div class="ins">
                  <div class="towD-box">
                      <img src="https://static1.51cto.com/edu/blog/images/blog_qr.png">
                      <p>手机随时阅读</p>
                  </div>
                  <div class="towD-box">
                      <img src="https://s5.51cto.com/oss/202007/05/5a45016915218bb53e32af17b14a8822.jpg">
                      <p>新人专享大礼包￥24</p>
                  </div>
                </div>
            </div>
        </li>                  
                  <li class="write commonhide"><a href="javascript:;" id="toPublish" onClick="Login({scene:'write1'})" rel="nofollow">写文章</a></li>
                <li class="search commonhide">

          <form class="fr form-search" method='get' action="https://blog.51cto.com/search/result" target="_blank">
            <input type="text" name="q"  placeholder="大家都在搜索..." id="TopSearchInput" autocomplete="off">
            <button id="TopSearchBtn"></button>
          </form>
                    <div class="focusSelect focusSelect_his">

              <div class="searchHistoryList">
                <div class="clearfix hishead">搜索历史 
                  <span class="clearhis"><i class="iconblog blogshanchu18 "></i>清空</span>
                </div>
                <div class="hisitem-wrap"></div>
              </div>

              <div class="hotList">
                <div class="clearfix hishead">热门搜索</div>
                <div class="hot-wrap"></div>
              </div>

          </div>

          <div class="focusSelect focusSelect_key" >
            <div class="keyitem-wrap">
              
            </div>
            <div class="clearfix checkSearchResult">
              <span>查看【</span>
              <span class="checkKey"></span>
              <span>】的结果</span></div>
          </div>


        </li>
          </ul>
    <div class="clear"></div>
  </div>
</div>
<script>
    var isLogin = '0';
    var userId = '';
    var imgpath = 'https://s4.51cto.com/';
    var BLOG_URL = 'https://blog.51cto.com/';
    var YII_ENV = 'prod';
    var router = 'blog/index'
    localStorage.removeItem('userDraft')
    $('.want-write').click(function(){
        localStorage.removeItem('userDraft')
    })

</script>
   <style type="text/css">
  .Header{
    top:30px;
  }
  </style>
<script src="https://static1.51cto.com/edu/blog/js/template-web.js|v=422383d018,blog/js/marked.min.js|v=56f6d3a68a,blog/js/clipboard.min.js|v=27784b7376,blog/js/jquery.tinyscrollbar.js|v=8165be03b4,blog/js/mdprime.js|v=adfcbf3e51,blog/js/prenumber.js|v=79ce2150fd,blog/js/blog_detail.js|v=11d733d879,blog/js/blog_details_new.js|v=3221e95fe2,blog/js/newcopycode.js|v=253ef2174c,blog/js/blog_detail_img_scale.js|v=e5c1c06dfc,blog/js/share/share.js|v=c369668739"></script>
<script type="text/javascript" src="https://logs.51cto.com/rizhi2/count/count_v2.php"></script>
<!-- if publish show -->
<div class="Footer">
  <div class="Page ">
    <div class="fl">
      <a href="https://blog.51cto.com/" class="Logo" ><img src="https://static2.51cto.com/edu/blog/images/logonew4.png" alt="51CTO博客" width="214" title="51CTO博客"></a>
      <p class="copy">Copyright &copy; 2005-2022 <a href="http://www.51CTO.com" target="_blank">51CTO.COM</a>
          版权所有 京ICP证060544号</p>
    </div>

    <dl class="foot_ab fr">
      <dt>关于我们</dt>
      <dd>
        <table class="aboutList">
              <tr>
                  <td><a href="https://blog.51cto.com/51ctoblog" target="_blank">官方博客</a></td>
                  <td><a href="https://blog.51cto.com/51ctoblog/2643377" target="_blank">意见反馈</a></td>
                  <td><a href="http://www.51cto.com/about/aboutus.html" target="_blank">了解我们</a></td>
                  <td><a href="https://blog.51cto.com/nav" target="_blank">全部文章</a></td>
              </tr>
              <tr>
                  <td><a href="javascript:;" class="zhiCustomBtn">在线客服</a></td>
                  <td><a href="http://www.51cto.com/about/map.html" target="_blank">网站地图</a></td>
                  <td><a href="https://blog.51cto.com/topic/all" target="_blank">热门标签</a></td>
              </tr>
          </table>
      </dd>
    </dl>


    <dl class="foot_link fr">
      <dt>友情链接</dt>
      <dd>

        <table class="aboutList-2">
            <tr>
                <td><a href="https://harmonyos.51cto.com?blogsitemap" target="_blank">51CTO鸿蒙社区</a></td>
                <td><a href="https://edu.51cto.com/" target="_blank">51CTO学堂</a></td>
            </tr>
            <tr>
              <td><a href="http://www.51cto.com" target="_blank">51CTO</a></td>

            </tr>
        </table>
      </dd>
    </dl>

  </div>
</div>

<script type='text/javascript'>
  var _vds = _vds || [];
  window._vds = _vds;
  (function () {
    _vds.push(['setAccountId', '8c51975c40edfb67']);
    (function () {
      var vds = document.createElement('script');
      vds.type = 'text/javascript';
      vds.async = true;
      vds.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'assets.growingio.com/vds.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(vds, s);
    })();
  })();
  //document.write(decodeURI("%3Cscript src='https://tongji.51cto.com/frontend/tj.gif' type='text/javascript'%3E%3C/script%3E"));
</script>

<script>
  var uid = '';
  var BLOG_URL = 'https://blog.51cto.com/';
</script>

<script src="https://static4.51cto.com/edu/blog/js/time-on-page.js" charset="utf-8"></script>
  <script src="//www.sobot.com/chat/frame/js/entrance.js?sysNum=a8d9379eaf884b4f81a48348979e3b1a" id="zhichiScript" class="zhiCustomBtn" data-args="manual=true"></script>
  <script>
      var zhiManager = (getzhiSDKInstance());
      zhiManager.on("load", function() {
          zhiManager.initBtnDOM();
      });
      zhiManager.set('title','欢迎咨询');
      zhiManager.set('powered',false);
      zhiManager.set('color','4285f4');
      zhiManager.set('customBtn', 'true');
      zhiManager.set('size',{'width':360,'height':500});
      zhiManager.set('userinfo', {'partnerId':'','uname':'','params':{'用户名':''}});
      zhiManager.set('customMargin', 20);
      zhiManager.set('preVisitArgs',{'preVisitUrl': document.referrer?document.referrer:''});
      zhiManager.set('curVisitArgs',{'curVisitUrl': location.href,curVisitTitle:document.title,});
  </script>




<script>
    (function(){
        var wh=$(window).height(),fh=$('.Footer').outerHeight(true),hh=$('.Header').outerHeight(true)
        $('.Content-box').css({'min-height': wh-fh-hh})
    })()
</script>
</body>
</html>
