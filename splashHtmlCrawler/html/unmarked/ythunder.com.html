<!DOCTYPE html>
<html lang="en" class="app">
<head>
    <meta charset="utf-8"/>
    <title>Ythunder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <link rel="stylesheet" href="css/app.v2.css" type="text/css"/>
    <link rel="stylesheet" href="css/mangament_platform.css" type="text/css"/>
    <!--[if lt IE 9]>
    <script src="js/ie/html5shiv.js" cache="false"></script>
    <script src="js/ie/respond.min.js" cache="false"></script>
    <script src="js/ie/excanvas.js" cache="false"></script>
    <![endif]-->
</head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CY3QZVWPPZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CY3QZVWPPZ');
</script>

<body>



<!-- <div class="container_wrap">
    <section class="vbox index_page" style="">
        <div class="box_content" id="content" > -->
            <section class="vbox">
                <section class="scrollable wrapper" style="padding: 0;">
                    <header class="bg-dark dk header navbar navbar-fixed-top-xs">
                        <div class="register_wrap">
                            <p class = "left_name">Ythunder.com</p>
                            <ul class="register_ul">
                                <li class="register">
                                    <span>注册</span>
                                </li>
                                <li class="login">
                                    <span>登录</span>
                                </li>
                            </ul>
                        </div>
                    </header>
                  <div class="content_wrap">
                        <div class="container index_content">
                            <div class="row" style="margin-bottom: 20px;">
                                <div class="col-xs-12 col-lg-4">
                                    <img  src="images/yun.png" class="move_y" alt=""/>
                                </div>
                                <div class="col-xs-12  col-lg-4 index_content_title">
                                    <h2>免费宣传推广</h2>
                                    <h2>您的YouTube帐户</h2>
                                    <h4 >免费观看，订阅</h4>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12 index_content_text">
                                    <h2>扩展统计</h2>
                                    <p>您可以通过个人帐户,添加任务、完成任务，赚取佣金。</p>
                                    <h2>简单方便</h2>
                                    <p>简单方便的操作，为您的Youtube帐​​户提供了快速和高质量的推广。</p>
                                    <h2>真正的交换系统</h2>
                                    <p>真实的观看量交换平台，随时都有数十万真实用户等待观看你的视频，没有机器人。                                    <br>我们为成千上万的用户提供了在Youtube上推广的机会。                                    </p>
                                    <iframe data-aa="1510312" src="//ad.a-ads.com/1510312?size=728x90" scrolling="no" style="width:728px; height:90px; border:0px; padding:0; overflow:hidden" allowtransparency="true"></iframe>
                                </div>
                            </div>
                        </div>
                    </div>
                    <footer class = 'footer'>
                        <div class="server_wrap">
                            <div class="row">
                                <div class="footer_left col-xs-6 col-lg-6">
                                    © 2019 <span>Ythunder.com </span>
                                </div>
                                <div class="footer_right col-xs-6 col-lg-6">
                                    <div class="privacy_policy pull-right">
                                        <a href="privacyPolicy.html">
                                        隐私政策                                        </a>

                                    </div>
                                    <div class = 'user_agreement pull-right'>
                                        <a href="agreement.html">
                                        服务条款                                        </a>

                                    </div>

                                </div>
                            </div>
                      </div>
                  </footer>
                </section>
            </section>
        <!-- </div>
    </section>
</div> -->

<!----注册---->
<div class="register_pop_wrap">
    <div class="register_top_scroll">
        <section class=" register_pop m-t-lg wrapper-md animated  fadeInDown">
            <section class="panel panel-default m-t-lg bg-white">
                <header class="panel-heading text-center">
                    <strong>注册</strong>
                </header>
                <form action="index.html" class="panel-body wrapper-lg">
                    <div class="form-group">
                        <label class="control-label">昵称</label>
                        <input type="text" id = 'userName' placeholder="昵称" class="form-control input-lg">
                        <span>a-zA-Z|1-9 (6-16 characters)</span>
                    </div>
                    <div class="form-group">
                        <label class="control-label" >邮箱</label>
                        <input type="email" id = "registerEmail" placeholder="example@example.com" class="form-control input-lg">
                    </div>
                    <div class="form-group">
                        <label class="control-label">密码</label>
                        <input type="password" id="registerPassword" placeholder="password" class="form-control input-lg">
                        <span>只能输入6-20个字母、数字、下划线</span>
                    </div>
                    <div class="form-group">
                        <label class="control-label">确认密码</label>
                        <input type="password" id="passwordAgain" placeholder="password again" class="form-control input-lg">
                    </div>
                    <div class="form-group">
                      <div class="radio">
                        <label class="radio-custom source_type"> </label>
                        
                        /*<span style="font-size: 14px; color: #DD272A;">Subscribe to the channel and start the next step</span>*/
                        /*<span style="color: #DD272A">您需要订阅频道，才可以开始下一步</span>*/

                        <a href="https://www.youtube.com/channel/UCrWaiUD2RaHOT46hW6AVaYg?sub_confirmation=1" target="_tab"></a></p>
                       <p><a href ='https://www.youtube.com/channel/UCaJutILElyUGFZPS9UQXw7g?sub_confirmation=1' target="_blank"><img src="images/youtube.png" height="40" width="150" align="absmiddle"/></a></p>
                       </td>

                      </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="control-label">验证码</label>
                        <div class ='verification_code_wrap'>
                            <div class = 'verification_code'>
                                <input type="text" id="verificationCode" placeholder="Verification code" class="form-control input-lg">
                            </div>
                            <div class="btn btn-success get_code">获取验证码</div>
                        </div>
                    </div>
                            <div class="form-group">
                                    <div class="radio">
                                        <label class="radio-custom source_type">
                                            <input id = 'agreement'  type="checkbox" name ='agreement'/>
                                        </label>
                                        我已阅读相关                                        <a href ='privacyPolicy.html'>隐私政策</a> 和 
                                        <a href ='agreement.html'>服务条款</a>
                                </div>
                            </div>                    
                    <div style="text-align: center;">
                        <div type="" class="btn btn-primary register_btn">注册</div>
                        <p id = 'error_register' style = 'width: 100%;color: red;text-align: center;'></p>
                    </div>

                </form>
            </section>
        </section>        
    </div>
    <div class="register_bg"></div>
</div>
<!--sign in-->
<div class="login_pop_wrap">
    <div class="login_bg"></div>
    <section class="m-t-lg wrapper-md animated fadeInUp  register_pop">
        <div class="container aside-xxl">
            <section class="panel panel-default bg-white m-t-lg">
                <header class="panel-heading text-center"><strong>登录</strong></header>
                <form action="index.html" class="panel-body wrapper-lg">
                    <div class="form-group">
                        <label class="control-label">邮箱</label>
                        <input type="text" id = 'loginUsername' placeholder="Email" class="form-control input-lg">
                    </div>
                    <div class="form-group">
                        <label class="control-label">密码</label>
                        <input type="password" id="loginPassword" placeholder="Password" class="form-control input-lg">
                    </div>
                    <div class="checkbox">
                        <label class ='pull-right'>
                            <a href="/site/forgetpassword">忘记密码</a>
                        </label>
                    </div>
                    <div style="text-align: center;">
                        <button type="button" id = "loginBtn" class="btn btn-primary">登录</button>
                        <p id = 'error_login' style = 'width: 100%;color: red;text-align: center;'></p>
                    </div>

                </form>
            </section>
        </div>
    </section>
</div>
<script src="js/app.v2.js"></script>
<script src="js/index.js"></script>
<script>
    $('.register').click(function () {
        $('.register_pop_wrap').show()
    })
    $('.register_bg').click(function () {
        $('.register_pop_wrap').hide()
    })
    $('.login').click(function () {
        $('.login_pop_wrap').show()
    })
    $('.login_bg').click(function () {
        $('.login_pop_wrap').hide()
    })

    /**sign in**/
    $('#loginBtn').click(function () {
        var login_username =  $('#loginUsername').val();
        var login_password = $('#loginPassword').val();

        if(login_username == ''){
            error({el:'error_login',text:'邮箱不能为空'})
            return
        } else if (!checkObj.email.test(login_username)) {
            error({el:'error_login',text:'邮箱格式错误'})
            return
        } else if (login_password == ''){
            error({el:'error_login',text:'密码不能为空'});
        }else if(!checkObj.pw.test(login_password)){
            error({el:'error_login',text:'密码错误或密码账号不匹配'});
            return
        }else{
            $.post("/site/login",{username:login_username,password:login_password,_csrf:"zxWUMRKlZz7e4W6Ovw5HS5SHdnItYQ-Hnql-xwlLzvv_cu5WYPMNT7SnPOPRXgQT_L8dLVsIXMnW4xGlanukmQ=="},function(ret){
                ret = JSON.parse(ret);
                if(ret.errno == 0){
                    window.location.href = "/user";
                }else{
                    error({el:'error_login',text:ret.msg});
                }
            })

        }
    })

    /*sign up*/
    invite_code = getUrlParam("invite_code");
    $('.register_btn').click(function () {
        var user_agreement = $('#agreement').is(':checked')
        var user_name =  $('#userName').val();
        var register_email = $('#registerEmail').val();
        var register_password = $('#registerPassword').val();
        var password_again = $('#passwordAgain').val();
        var code = $('#verificationCode').val();

        if(user_name == ''){
            error({el:'error_register',text:'昵称不能为空'})
        }else if(!checkObj.user.test(user_name)){
            error({el:'error_register',text:'昵称格式错误'})
            return ;
        }else if(register_email == ''){
            error({el:'error_register',text:'邮箱不能为空'})
            return
        
        }else if (!checkObj.email.test(register_email)) {
            error({el:'error_register',text:'邮箱格式错误'})
            return
        }else if(register_password == ''){
            error({el:'error_register',text:'密码不能为空'})
            return
        }else if(!checkObj.pw.test(register_password)) {
            error({el:'error_register',text:'密码格式错误'});
            return
        }else if (password_again == ''){
            error({el:'error_register',text:'两次密码输入不一致'});
        }else if(password_again != register_password){
            error({el:'error_register',text:'两次密码输入不一致'});
            return
        }else if(code == ''){
            error({el:'error_register',text:'验证码不能为空'});
        }else if(!user_agreement) {
                error({el:'error_register',text:'请先阅读服务条款和隐私政策'});
                return
        }else{
            $.post("/site/register",{username:user_name,password:register_password,email:register_email,code:code,invite_code:invite_code,_csrf:"zxWUMRKlZz7e4W6Ovw5HS5SHdnItYQ-Hnql-xwlLzvv_cu5WYPMNT7SnPOPRXgQT_L8dLVsIXMnW4xGlanukmQ=="},function(ret){
                ret = JSON.parse(ret);
                if(ret.errno == 0){
                    window.location.href = "/user";
                }else{
                    error({el:'error_register',text:ret.msg});
                }
                
            })
        }
    })

/*****verification code***/
    can_get_code = 1;
    $('.get_code').click(function () {
        if(!can_get_code){
            return;
        }
        var register_email = $('#registerEmail').val();
        if(register_email == ''){
            error({el:'error_register',text:'邮箱不能为空'});
            return 
        }else if(!checkObj.email.test(register_email)){
            error({el:'error_register',text:'邮箱格式错误'});
            return
        }else {
            can_get_code = 0;
            $.post("/site/sendcode",{email:register_email},function(ret){
                ret = JSON.parse(ret);
                if(ret.errno == 0){
                    timeCode(60);
                    return;
                }else{
                    error({el:'error_register',text:ret.msg});
                    can_get_code = 1;
                }
            });
        }
    })

    function timeCode (num) {
        $('.get_code').html(num+'s');
        var time = setInterval(function () {
            num--;
            if(num <= 0){
                clearInterval(time)
                can_get_code = 1;
                $('.get_code').html('获取验证码');
                return
            }else{
                $('.get_code').html(num+'s');
            }
        },1000);
    }

    function getUrlParam(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
        var r = window.location.search.substr(1).match(reg);
        if (r != null) return decodeURIComponent(r[2]); return null;
    }

    var action = getUrlParam("action");
    if(action == "register"){
        $('.register').click();
    }else if(action == "login"){
        $('.login').click();
    }
</script>


</body>

</html>
