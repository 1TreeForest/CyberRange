<!DOCTYPE html>
<!--[if lt IE 9]>
<html class="degrade">
<![endif]-->
<html>
<head>
<meta charset="utf-8" />
<meta name="keywords" content="迅雷，迅雷看看，迅雷APlayer媒体播放引擎" />
<meta name="description" content="迅雷APlayer媒体播放引擎——基于Windows平台的播放内核。" />
<title>迅雷APlayer媒体播放引擎-首页</title>
<link rel="stylesheet" href="css/style.css" />
</head>

<body>
<div></div><!-- 请在此处插入头部 -->

<div class="banner">
	<div class="ban_wrap">
			
		<div class="player"></div>
		
		<div class="cont">
			<div class="header">
				<h1>APlayer媒体播放引擎</h1>
				<h2>Windows平台的播放内核</h2>
				<i></i>
			</div>
			
			<ul class="ban_intro">
				<li>封闭式 DirectShow 架构，不受系统解码环境干扰</li>
				<li>全媒体文件格式支持</li>
				<li>丰富的媒体文件传输协议(http/https/ftp/mms/rtsp/rtmp/hls等)</li>
				<li>强大功能(字幕、音轨、转码、画质增强、截GIF、人脸检测……)</li>
				<li>支持将多个 ts/flv/mp4 分段切片文件组成 m3u8 无缝播放 </li>
				<li>支持全景视频和虚拟现实（VR）眼镜 Oculus DK2 的播放</li>
				<li>支持播放USB摄像头和屏幕或窗口的动态截图</li>
			</ul>
			
			<div class="dl_sec clearfix">
				<a href="http://aplayer.open.xunlei.com/APlayerSDK.zip" class="dl_btn dl_green" title="点击下载"><span>下载最新SDK<i></i></span></a>
				<a href="http://aplayer.open.xunlei.com/codecs.zip" class="dl_btn dl_orange" title="点击下载"><span>下载完整解码库<i></i></span></a>
			</div>
		</div><!-- /cont -->
		
		<div class="nav_box">
			<ul class="nav clearfix">
				<li class="current"><a href="#">首页</a></li>
				<li><a href="#divDemo">引擎演示</a></li>
				<li><a href="http://aplayer.open.xunlei.com/bbs">开发者论坛</a></li>
				<li class="last"><a href="qa.html">常见问题</a></li>
			</ul>
			<span class="nav_line" style="left:0;width:50px;"></span>
		</div>
	</div>
</div><!-- /banner -->

<div class="cover"></div>

<div class="article">
	<div class="sec free_auth">
		<div class="header"><h2>免费授权<i></i></h2></div>
		
		<div class="cont">
			<p>要在正式的产品里合法使用APlayer播放引擎，需要申请得到我们的授权（免费）。</p>
			
			<div class="update_info">
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://aplayer.open.xunlei.com/AIFiles.zip">下载 APlayer AI 文件包</a>
				<ul>
					<li>最新SDK版本：3.16.1.920</li>
					<li>更新日期：2022年2月9日</li>
					<li>更新内容：1、在设置了“播放完成后不结束” 参数的情况下，支持多次设置 Stop 位置。<br>2、修正一个 916 版本引入的硬解模式打开网络文件可能不播放的 BUG。</li>
					<a href="http://aplayer.open.xunlei.com/bbs/read.php?tid=23489">点击查看 APlayer 版本历史</a>
				</ul>
			</div>

			<a href="http://aplayer.open.xunlei.com/迅雷 APlayer 授权协议.doc" class="dl_btn dl_green" title="点击下载"><span>授权协议下载<i></i></span></a>
			<div class="clear"></div>
		</div>
	</div><!-- /free_auth -->
	
	<div class="sec intro">
		<div class="header"><h2>引擎介绍<i></i></h2></div>
	
		<div class="cont">
			<div class="blk">
				<p>APlayer 媒体播放引擎是迅雷公司从 2009 年开始开发的通用音视频媒体文件播放内核。</p>
				<p>迅雷看看播放器和迅雷影音就是使用 APlayer 作为播放内核。</p>
			</div>
			<div class="blk">
				<p>本质上APlayer播放引擎是一个ActiveX控件，可以被本地其他外部程序嵌入调用，也可以直接被网页嵌入，类似于(Adobe Flash Player)。APlayer不包含界面，但另一个依赖于APlayer的ActiveX控件APlayerUI可以提供丰富的界面元素(播放控制条，Flash广告等)，APlayerUI 也被包含在 APlayerSDK 中。</p>
			</div>
				<p>APlayer媒体播放引擎使用了以下第三方库：&nbsp;<a href="http://ffmpeg.org/">ffmpeg</a><a href="http://www.zlib.org/">zlib</a><a href="http://www.libpng.org/">libpng</a><a href="http://dlib.net/">dlib</a></p>
		</div>
	</div><!-- /intro -->
	
	<div id="divDemo" class="sec present">
	<div class="header">
            <h2>演示<i></i></h2>
            <span>在线播放 FLV 封装的 H.265 视频 (分辨率1280x544、码率1097Kbps)</span>
        </div>

		<div class="vod_box">
		    <p id="objAPlayer"></p>
            <input id="btnPlay" type="button" style="width:50px" value="播放" onclick="play()"/>
            <input id="btnStop" type="button" style="width:50px" value="停止" onclick="stop()"/>
            <font id="txtTime"></font>
		</div>
	</div><!-- /present -->

	
	<div class="clear"></div>
</div><!-- /article -->


<script type="text/javascript">

    var startTips = "请点击播放按钮开始演示。"

    if (navigator.mimeTypes["application/x-thunder-aplayer"] != null) {
        objAPlayer.innerHTML = '<embed id="APlayer" type="application/x-thunder-aplayer" width="416" height="239" clsid="{A9332148-C691-4B9D-91FC-B9C461DBE9DD}" Event_OnStateChanged="OnStateChanged" Event_OnOpenSucceeded="OnOpenSucceeded" Event_OnDownloadCodec="OnDownloadCodec"</embed>';
	txtTime.innerHTML = startTips;
    }
    else {
        try {
            var thePlayer = new ActiveXObject("APlayer3.Player");
            delete thePlayer;
            objAPlayer.innerHTML = '<object id="APlayer" width="416" height="239" classid="CLSID:A9332148-C691-4B9D-91FC-B9C461DBE9DD" VIEWASTEXT></object>';
	    txtTime.innerHTML = startTips;
        }
        catch (e1) {
            objAPlayer.innerHTML = "无法演示, APlayer 未安装! </br>请下载 <a href='http://aplayer.open.xunlei.com/APlayerSDK.zip'>APlayerSDK</a> 解压后，使用其中的 install.bat 安装。</br></br></br>";
            btnPlay.style.display = "none";
            btnStop.style.display = "none";
        }
    }


    var EventUtil =
	{
	    addHandler: function (element, type, handler) {
	        if (element.addEventListener) {
	            element.addEventListener(type, handler, false);
	        }
	        else {
	            element.attachEvent("on" + type, handler);
	        }
	    },

	    removeHandler: function (element, type, handler) {
	        if (element.removeEventListener) {
	            element.removeEventListener(type, handler, false);
	        }
	        else {
	            element.detachEvent("on" + type, handler);
	        }
	    }
	};


    var player = null;
    var position = null;
    var duration = null;

    var loadhandler = function () {
	// play();
    }

    var unloadhandler = function () {
        if (player != null) {
            player.Close();
        }
    }

    EventUtil.addHandler(window, "load", loadhandler);
    EventUtil.addHandler(window, "unload", unloadhandler);

    function play() {
	player = document.getElementById("APlayer");

        if (player != null) 
	{
            if (player.GetState() == 0) {

		player.setConfig(201, "3");

                txtTime.innerHTML = "正在打开..."
                player.open("http://aplayer.open.xunlei.com/test.hflv");
            }
        }
    }

    function stop() {
        if (player != null) {
            if (player.GetState() != 0) {
                player.Close();
            }
        }
    }

    function MillisecondToText(ms) {
        var s = ms / 1000;
        ms = ms % 1000;
        var h = s / 3600;
        s = s % 3600;
        var m = s / 60;
        s = s % 60;

        h = Math.floor(h);
        m = Math.floor(m);
        s = Math.floor(s);

        var text = "";
        if (h > 0 && h < 10)
            text = "0" + h + ":";

        if (m >= 0 && m < 10)
            text = text + "0" + m + ":";
        else
            text = text + m + ":";

        if (s >= 0 && s < 10)
            text = text + "0" + s;
        else
            text = text + s;
        return text;
    }


    function OnStateChanged(oldState, newState) {
    }


    function OnOpenSucceeded() {
        var nDuration = player.GetDuration();
        duration = MillisecondToText(nDuration);
    }


    function OnDownloadCodec(strCodecPath) {
	alert("缺少解码器:" + strCodecPath + ", 请下载完整解码包解压出该解码器补全");
        player.SetConfig(19, "1");
    }


    function UpdateTime()
    {
        if (player != null)
       {
            if (player.GetState() == 5)
            {
                position = player.GetPosition();
                position = MillisecondToText(position);
                var p = player.GetBufferProgress();
 
                if (p == -1)
                    txtTime.innerHTML = position + "/" + duration;
                else
                    txtTime.innerHTML = position + "/" + duration + " (正在缓冲..." + p + "%)";
            }
            else
            {
               var nResult = player.GetConfig(7);
               if(nResult != 0 && nResult != 1)
	           txtTime.innerHTML = "播放失败, 错误码 = " + nResult;
               else
                   txtTime.innerHTML = "";
            }
        }
        setTimeout(function () { UpdateTime(); }, 1000);
    }

    UpdateTime();
</script>

<script type="text/javascript" for="APlayer" event="OnStateChanged(nOldState, nNewState)">
	OnStateChanged(nOldState, nNewState);
</script>

<script type="text/javascript" for="APlayer" event="OnOpenSucceeded()">
	OnOpenSucceeded();
</script>

<script type="text/javascript" for="APlayer" event="OnDownloadCodec(strCodecPath)">
        OnDownloadCodec(strCodecPath);
</script>


<div class="footer">
	<div class="f-nav"><a target="_blank" href="http://pstatic.xunlei.com/about/about.htm">关于迅雷</a><span>|</span><a target="_blank" href="http://dl.xunlei.com/index.htm?tag=1">下载迅雷</a><span>|</span><a target="_blank" href="http://hr.xunlei.com/">加盟迅雷</a><span>|</span><a target="_blank" href="http://pstatic.xunlei.com/about/other/banner.html">广告服务</a><span>|</span><a target="_blank" href="http://shop.xunlei.com/contact.html">商务合作</a><span>|</span><a target="_blank" href="http://help.xunlei.com/">客服中心</a><span>|</span><a target="_blank" href="http://safe.xunlei.com/">安全中心</a><span>|</span><a target="_blank" href="http://shop.xunlei.com/agreement.html">用户协议</a></div>
	<p><a href="http://img.kankan.xunlei.com/img/kankan/4.0/img/xkz.jpg">信息网络传播视听节目许可证1908323号</a> <a href="http://www.xunlei.com/icp.jpg">增值电信业务经营许可证粤B2-20050219号</a> <a href="http://www.xunlei.com/wenhua.jpg">网络文化经营许可证文网文[2007]033号</a></p>
	<p>© 2003-2019 www.xunlei.com 版权所有</p>
</div>
	
<!--[if IE 6]> <div class="IE6_notice">
	<p>您的浏览器过时了噢～此页面在其他版本的浏览器中体验更佳～</p>
	<a href="http://www.browserchoice.eu/" title="看看有哪些浏览器"><span>升级浏览器</span>传送门&hellip;</a>
</div><![endif]-->


</body>
</html>


<script type='text/javascript' src='js/jquery.js'></script>
<script type='text/javascript' src='js/jquery.easing.1.3.js'></script>
<script type='text/javascript' src='js/nav.js'></script>
