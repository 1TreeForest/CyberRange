<!doctype html>
<html data-path="/p/:id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="og:url" content="http://www.36kr.com/p/1725272375297"><meta name="og:type" content="article"><meta data-react-helmet="true" name="baidu-site-verification" content="ET7tYDCqIv"/><meta data-react-helmet="true" name="shenma-site-verification" content="8d43b014716644e38cc8fff2051c47a0_1623316092"/><meta data-react-helmet="true" name="360-site-verification" content="b14201a8708468357bd6fab4ad556b78"/><meta data-react-helmet="true" name="sogou_site_verification" content="5ZZdpkOf3U"/><meta data-react-helmet="true" name="renderer" content="webkit"/><meta data-react-helmet="true" name="apple-mobile-web-app-title" content="Title"/><meta data-react-helmet="true" name="apple-mobile-web-app-capable" content="yes"/><meta data-react-helmet="true" name="apple-mobile-web-app-status-bar-style" content="black"/><meta data-react-helmet="true" name="HandheldFriendly" content="True"/><meta data-react-helmet="true" name="MobileOptimized" content="320"/><meta data-react-helmet="true" name="applicable-device" content="pc"/><meta data-react-helmet="true" name="format-detection" content="telephone=no"/><meta data-react-helmet="true" property="og:description" content="视频编码的不断进步却让我们看到的视频变得越来越清晰、生动，播放下载也更加便捷流畅。"/><meta data-react-helmet="true" property="og:image" content="https://img.36krcdn.com/20200409/v2_193b539a45834a16aee2f5229cfbd001_img_000"/><meta data-react-helmet="true" property="og:title" content="同样是 4K 电影，为什么有的视频网站既省流量又清晰-36氪"/><meta data-react-helmet="true" name="description" content="视频编码的不断进步却让我们看到的视频变得越来越清晰、生动，播放下载也更加便捷流畅。"/><meta data-react-helmet="true" name="keywords" content="资讯,股票,创业,投资,资本市场,汽车,教育,职业,房产,36氪首发,游戏,上市,新商业,新经济,网红经济,黑科技,最前沿,最前线,无人驾驶,自动驾驶,物联网,车联网,互联网,科技"/><meta data-react-helmet="true" name="popintimestamp" content="1584433027000"/><meta data-react-helmet="true" name="mobile-agent" content="format=xhtml; url=https://m.36kr.com/p/1725272375297"/><meta data-react-helmet="true" name="mobile-agent" content="format=html5; url=https://m.36kr.com/p/1725272375297"/><meta data-react-helmet="true" property="article:published_time" content="2020-03-17 16:17:07"/><meta data-react-helmet="true" property="author" content="少数派"/>
    <title data-react-helmet="true">同样是 4K 电影，为什么有的视频网站既省流量又清晰-36氪</title>
    <link href="//static.36krcdn.com/36kr-web/static/app.27222553.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="//static.36krcdn.com/36kr-web/static/article.052f2955.css">
    
    <link data-react-helmet="true" href="/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon"/><link data-react-helmet="true" rel="dns-prefetch" href="//sta.36krcnd.com"/><link data-react-helmet="true" rel="dns-prefetch" href="//pic.36krcnd.com"/><link data-react-helmet="true" rel="dns-prefetch" href="//static.36krcnd.com"/><link data-react-helmet="true" rel="dns-prefetch" href="//img.36krcnd.com"/><link data-react-helmet="true" rel="dns-prefetch" href="//file.36krcnd.com"/><link data-react-helmet="true" rel="alternate" media="only screen and(max-width: 640px)" href="https://m.36kr.com/p/1725272375297"/><link data-react-helmet="true" rel="canonical" href="https://36kr.com/p/1725272375297"/><script data-react-helmet="true" >
      window.WEIXINSHARE = {
        shareTitle: "36氪_让一部分人先看到未来",
        shareImg: "https://img.36krcdn.com/20191024/v2_1571894049839_img_jpg",
        imgUrl: "https://img.36krcdn.com/20191024/v2_1571894049839_img_jpg",
        shareDesc: "36氪为您提供创业资讯、科技新闻、投融资对接、股权投资、极速融资等创业服务，致力成为创业者可以依赖的创业服务平台，为创业者提供最好的产品和服务。"
      }
    </script><script data-react-helmet="true" >
      // sem 统计代码
      var _hmt= _hmt||[];
      (function(){
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?1684191ccae0314c6254306a8333d090";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm,s);
      })();
    </script><script data-react-helmet="true" >
      //百度统计代码
      var _hmt = _hmt || [];
      (function () {
          var hm = document.createElement('script');
          hm.src = "https://hm.baidu.com/hm.js?713123c60a0e86982326bae1a51083e1";
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(hm, s);
      })();
    </script><script data-react-helmet="true" >
        // 给百度seo主动推送,  文明确认
        (function () {
          var bp = document.createElement('script');
          var curProtocol = window.location.protocol.split(':')[0];
          if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
          }
          else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
          }
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(bp, s);
        })();
      </script><script data-react-helmet="true" src="https://static.geetest.com/static/tools/gt.js"></script><script data-react-helmet="true" >
        // 神策统计代码
        (function(para) {
          var p = para.sdk_url, n = para.name, w = window, d = document, s = 'script',x = null,y = null;
          w['sensorsDataAnalytic201505'] = n;
          w[n] = w[n] || function(a) {return function() {(w[n]._q = w[n]._q || []).push([a, arguments]);}};
          var ifs = ['track','quick','register','registerPage','registerOnce','trackSignup', 'trackAbtest', 'setProfile','setOnceProfile','appendProfile', 'incrementProfile', 'deleteProfile', 'unsetProfile', 'identify','login','logout','trackLink','clearAllRegister','getAppStatus'];
          for (var i = 0; i < ifs.length; i++) {
            w[n][ifs[i]] = w[n].call(null, ifs[i]);
          }
          if (!w[n]._t) {
            x = d.createElement(s), y = d.getElementsByTagName(s)[0];
            x.async = 1;
            x.src = p;
            x.setAttribute('charset','UTF-8');
            y.parentNode.insertBefore(x, y);
            w[n].para = para;
          }
        })({
          sdk_url: 'https://static.sensorsdata.cn/sdk/1.12.5/sensorsdata.min.js',
          heatmap_url: 'https://static.sensorsdata.cn/sdk/1.12.5/heatmap.min.js',
          name: 'sa',
          web_url: 'https://data.corp.36kr.com/',
          server_url: "https://36kr.com/global/sensors/sa/sa",
          heatmap:{
            //default 表示开启，自动采集 $WebClick 事件，可以设置 'not_collect' 表示关闭。
            clickmap:'default',
            //default 表示开启，自动采集 $WebStay 事件，可以设置 'not_collect' 表示关闭。
            scroll_notice_map:'default'
          },
          source_type: {
            search: ['//baidu.com', 'cn.bing.com', '//sm.cn', 'quark.sm.cn'],
            social: ['.facebook.com'],
          },
          show_log: false,
        });
        (function(){
          const cookies = {};
          document.cookie.split('; ').forEach((c) => {
            const key = c.split('=')[0];
            const value = c.split('=')[1];
            cookies[key] = value;
          });
          const userid = cookies["userId"];
          const cid = cookies["kr_stat_uuid"];
          if (userid) {
            sa.login(userid);
          } else {
            sa.login(cid);
          }

          sa.quick('autoTrack');
        })();
      </script><script data-react-helmet="true" >
      window.WEIXINSHARE = {
        shareTitle: "同样是 4K 电影，为什么有的视频网站既省流量又清晰-36氪",
        shareImg: "https://img.36krcdn.com/20200409/v2_193b539a45834a16aee2f5229cfbd001_img_000",
        imgUrl: "https://img.36krcdn.com/20200409/v2_193b539a45834a16aee2f5229cfbd001_img_000",
        shareDesc: "视频编码的不断进步却让我们看到的视频变得越来越清晰、生动，播放下载也更加便捷流畅。"
      }
    </script><script data-react-helmet="true" >
      (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
      })();
      </script><script>var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
// 埋点需求详情 https://shimo.im/sheets/aJg66OpLVX0PGC28/
/*****工具方法*****/
function isNumber(path) {
    return !isNaN(Number(path));
}
function isObj(key) {
    return typeof key === 'object';
}
/**
 * 判断obj中是否有key这个属性
 * @param obj {object}
 * @param key {string}
 */
function objHasKey(obj, key) {
    return obj.hasOwnProperty(key);
}
/**
 * @param {{
  *  control: Boolean,
  *  key: string,
  *  value: string,
  *  data?: obj,
  *  elseValue?: string
  * }} option
  *
  * 参数说明：
  * control 判断条件
  * data 最终返回的对象
  * key 添加到data中的属性
  * value 要添加的值
  * elseValue 如果control不成立，添加到data的值 传入此参数则添加，不传则不会添加
  */
function setProperty(option) {
    var _a = option.data, data = _a === void 0 ? {} : _a, key = option.key, value = option.value, control = option.control, elseValue = option.elseValue;
    if (control) {
        data[key] = value;
    }
    else if (elseValue) {
        data[key] = elseValue;
    }
    return data;
}
function getClass(attributes) {
    var classObj = attributes.class || {};
    return classObj.value || "";
}
var Platform;
(function (Platform) {
    Platform["H5"] = "H5";
    Platform["WEB"] = "web";
})(Platform || (Platform = {}));
;
function judgePlatform(userAgent) {
    if (!userAgent && typeof window !== 'undefined') {
        userAgent = navigator.userAgent;
    }
    if (!userAgent)
        return Platform.WEB;
    if (userAgent.match(/iPad|iPhone/i)) {
        return Platform.H5;
    }
    else if (userAgent.match(/Android/i)) {
        return Platform.H5;
    }
    return Platform.WEB;
}
/*****工具方法end*****/
/**
 * 统计点击跳转外链的数据
 * 包括media_content_id、media_event_value、source_id、media_source
 * @param {String} hrefValue
 */
function externalLink(hrefValue) {
    var data = {};
    var externalLinkList = [
        { pathKey: '/', mediaSourceValue: 'page_home' },
        { pathKey: 'p', mediaSourceValue: 'article' },
        { pathKey: 'newsflashes', mediaSourceValue: 'newsflash', subPathNotNumMediaSourceValue: 'page_newsflashes' },
        { pathKey: 'topics', mediaSourceValue: 'topics' },
    ];
    var pathInfo = new PathInfo(window.location.pathname);
    // 记录外链url
    data.media_content_id = hrefValue;
    // 详情页中（当前地址包含ID），含有外链，发送source_id
    Object.assign(data, setProperty({
        control: isNumber(pathInfo.sub),
        key: 'source_id',
        value: pathInfo.sub,
    }));
    // 地方站 外链记录media_event_value
    if (pathInfo.root === 'local') {
        data.media_event_value = 'local_' + pathInfo.sub;
    }
    return Object.assign(data, genMediaSource(externalLinkList, isNumber(pathInfo.sub)));
}
/**
 * 统计点击跳转www.36kr.com内链的数据
 * 根据主站路由规则,分析点击的地址
 * 收集source_id、media_source、media_event_value、media_content_type、media_content_id
 * @param {String} hrefValue
 * @param {String} className 点击的a标签所带class
 */
function internalLink(hrefValue, className) {
    var pageInfo = new PageInfo(hrefValue);
    var data = {};
    /* 聚合页跳转id */
    Object.assign(data, setProperty({
        control: pageInfo.currentPath.sub && isNumber(pageInfo.currentPath.sub) && pageInfo.destPath.sub && isNumber(pageInfo.destPath.sub),
        key: 'source_id',
        value: pageInfo.currentPath.sub,
    }));
    /* 搜索结果、资讯、地方 */
    Object.assign(data, genMediaEventValue(hrefValue));
    // 文章详情含有跳转链接
    Object.assign(data, setProperty({
        control: pageInfo.currentPath.root === 'p' && isNumber(pageInfo.currentPath.sub) && isNumber(pageInfo.destPath.sub),
        key: 'media_source',
        value: 'article',
    }));
    /* 不同页面，进入详情页 */
    Object.assign(data, intoDetailPage(pageInfo.destPath.sub));
    /* 添加media_conten_type 针对相应页面添加属性 */
    Object.assign(data, genContentTypeAndId(hrefValue, className));
    return data;
}
/**
 * 获取media_event_value统一方法
 * 点击搜索结果list和地方站list跳转到详情页
 * @param currentPath
 * @param subHref
 */
function genMediaEventValue(hrefValue) {
    var data = {};
    var key = 'media_event_value';
    var pageInfo = new PageInfo(hrefValue);
    var genMediaEventValueList = [
        { pathKey: 'search', subPathList: [
                { key: 'articles', value: 'search_articles' },
                { key: 'newsflashes', value: 'search_flashnews' },
                { key: 'video', value: 'search_videos' },
                { key: 'monographic', value: 'search_topics' },
                { key: 'user', value: 'search_writer' },
            ] },
        { pathKey: 'information', subPathList: [
                'web_news', 'contact', 'enterpriseservice', 'happy_life', 'travel',
                'real_estate', 'web_recommend', 'technology', { key: 'zhichang', value: 'web_zhichang' }, 'innovate',
            ] },
        { pathKey: 'local' }
    ];
    for (var _i = 0, genMediaEventValueList_1 = genMediaEventValueList; _i < genMediaEventValueList_1.length; _i++) {
        var pathItem = genMediaEventValueList_1[_i];
        if (pageInfo.currentPath.root === pathItem.pathKey) {
            if (pageInfo.currentPath.root === 'local') {
                // 城市
                data.media_event_value = 'local_' + pageInfo.currentPath.sub;
            }
            else {
                for (var _a = 0, _b = pathItem.subPathList; _a < _b.length; _a++) {
                    var subPathItem = _b[_a];
                    var value = isObj(subPathItem) ? subPathItem.value : subPathItem;
                    var subPathKey = isObj(subPathItem) ? subPathItem.key : subPathItem;
                    if (pageInfo.currentPath.sub === subPathKey) {
                        Object.assign(data, setProperty({
                            control: isNumber(pageInfo.destPath.sub),
                            key: key,
                            value: value,
                        }));
                    }
                }
            }
        }
    }
    return data;
}
/**
 * 不同页面点击详情链接跳转到详情页，添加media_source
 * @param subHref
 */
function intoDetailPage(subHref) {
    var pathInfo = new PathInfo(window.location.pathname);
    var intoDetailPageList = [
        { pathKey: '/', mediaSourceValue: 'page_home' },
        { pathKey: '/video', mediaSourceValue: 'page_video' },
        { pathKey: '/topics', mediaSourceValue: 'page_topics' },
        { pathKey: 'newsflashes', control: isNumber(pathInfo.sub), mediaSourceValue: 'newsflash', subPathNotNumMediaSourceValue: 'page_newsflashes' },
        { pathKey: 'information', mediaSourceValue: 'page_information' },
        { pathKey: 'search', mediaSourceValue: 'page_search' },
        { pathKey: 'Calendar', mediaSourceValue: 'calendar' },
        { pathKey: 'user', mediaSourceValue: 'user' },
        { pathKey: 'motif', mediaSourceValue: 'motif' },
        { pathKey: 'topics', mediaSourceValue: 'topics' },
        { pathKey: 'video', mediaSourceValue: 'video' },
        { pathKey: 'audio', mediaSourceValue: 'audio' },
    ];
    return genMediaSource(intoDetailPageList, isNumber(subHref));
}
/**
 * 获取media_source统一方法
 * 记录从何处跳转到的详情页
 * @param pathList
 * @param control
 */
function genMediaSource(pathList, control) {
    var pathInfo = new PathInfo(window.location.pathname);
    var key = 'media_source';
    var data = {};
    for (var _i = 0, pathList_1 = pathList; _i < pathList_1.length; _i++) {
        var pathItem = pathList_1[_i];
        if (pathInfo.path === pathItem.pathKey) {
            data.media_source = pathItem.mediaSourceValue;
        }
        else if (pathInfo.root === pathItem.pathKey && pathInfo.sub) {
            Object.assign(data, setProperty({
                control: objHasKey(pathItem, 'control') ? pathItem.control : control,
                key: key,
                value: pathItem.mediaSourceValue,
                elseValue: pathItem.subPathNotNumMediaSourceValue || null,
            }));
        }
    }
    return data;
}
/**
 * 记录跳转到的具体内容类型和具体内容id
 * @param hrefValue
 * @param className
 */
function genContentTypeAndId(hrefValue, className) {
    // 设置media_content_type和media_content_id
    var pageInfo = new PageInfo(hrefValue);
    var genContentTypeAndIdList = [
        {
            key: 'p',
            setData: {
                media_content_type: 'article',
                media_content_id: pageInfo.destPath.sub,
            }
        },
        {
            key: 'newsflashes',
            setData: {
                media_content_type: 'flashnews',
                media_content_id: pageInfo.destPath.sub,
            }
        },
        {
            key: 'video',
            setData: {
                media_content_type: 'video',
                media_content_id: pageInfo.destPath.sub,
            }
        },
        {
            key: 'v-video',
            setData: {
                media_content_type: 'video_portrait',
                media_content_id: pageInfo.destPath.sub,
            }
        },
        {
            key: 'topics',
            setData: {
                media_content_type: 'topic',
                media_content_id: pageInfo.destPath.sub,
            }
        },
        {
            key: 'motif',
            setData: {
                media_content_type: (function () {
                    // TODO 这里声明了一个自执行函数，判断是否为商业主题后，给media_conten_type不同的值，可否优化?
                    var isMotifList = pageInfo.currentPath.root === 'motif-catalog' && pageInfo.currentPath.sub === 'recomend';
                    var isHomeEntry = className.includes('businessMotifHome-main-item-top-a');
                    var isBusinessMotif = isMotifList || isHomeEntry;
                    return isBusinessMotif ? 'business_motif' : 'motif';
                })(),
                media_content_id: pageInfo.destPath.sub,
            }
        },
        {
            key: 'user',
            setData: {
                media_content_type: 'user',
                media_content_id: pageInfo.destPath.sub,
            }
        },
        {
            key: 'column',
            setData: {
                media_content_type: 'audio',
                media_content_id: pageInfo.destPath.sub,
            }
        },
    ];
    var data = {};
    if (!isNumber(pageInfo.destPath.sub))
        return data;
    for (var _i = 0, genContentTypeAndIdList_1 = genContentTypeAndIdList; _i < genContentTypeAndIdList_1.length; _i++) {
        var hrefItem = genContentTypeAndIdList_1[_i];
        if (pageInfo.destPath.root === hrefItem.key) {
            data = hrefItem.setData;
        }
    }
    return data;
}
/**
 * 根据高阶组件中，向a标签插入的属性
 * 收集对应的广告信息 和 从哪个具体推荐位跳转到的详情页
 * 对应的广告信息有
 * @param elementTarget 点击的a标签
 */
function genPropertyAccordingToAttribute(elementTarget) {
    // 推荐位跳转到详情页
    var operation_list = elementTarget.getAttribute('sensors_operation_list');
    // 运营位上具体第几帧、第几位、日签的日期
    var index_num = elementTarget.getAttribute('sensors_index_num');
    // 广告事件： 1、曝光  2、点击
    var operate_type = elementTarget.getAttribute('sensors_operate_type');
    // 具体广告位置id
    var position_id = elementTarget.getAttribute('sensors_position_id');
    // 具体广告的plan_id
    var plan_id = elementTarget.getAttribute('sensors_media_content_id');
    var genPropertyAccordingToAttributeList = [
        {
            control: operation_list === 'page_flow' && window.location.pathname === '/',
            key: 'operation_list',
            value: 'latest_articles',
            elseValue: 'page_flow'
        },
        {
            control: operation_list === 'banner',
            key: 'operation_list',
            value: 'banner'
        },
        {
            control: operation_list === 'banner_right',
            key: 'operation_list',
            value: 'banner_right'
        },
        {
            control: operation_list === 'author_latest_article',
            key: 'operation_list',
            value: 'author_latest_article'
        },
        {
            control: operation_list === 'specialtopic_recommend',
            key: 'operation_list',
            value: 'specialtopic_recommend'
        },
        {
            control: operation_list === 'video_recommend',
            key: 'operation_list',
            value: 'video_recommend'
        },
        {
            control: operation_list === 'dailyword',
            key: 'operation_list',
            value: 'dailyword'
        },
        {
            control: operation_list === 'latest_newsflash',
            key: 'operation_list',
            value: 'latest_newsflash'
        },
        {
            control: operation_list === 'business_motif',
            key: 'operation_list',
            value: 'business_motif'
        },
        {
            control: operation_list === 'hotlist',
            key: 'operation_list',
            value: 'hotlist'
        },
        {
            control: operation_list === 'latest_videos',
            key: 'operation_list',
            value: 'latest_videos'
        },
        {
            control: operation_list === 'recommend_motif',
            key: 'operation_list',
            value: 'recommend_motif'
        },
        {
            control: operation_list === 'hot_author',
            key: 'operation_list',
            value: 'hot_author'
        },
        {
            control: operation_list === 'next_card',
            key: 'operation_list',
            value: 'next_card'
        },
        {
            control: index_num,
            key: 'media_index_number',
            value: index_num
        },
        {
            control: operate_type,
            key: 'operate_type',
            value: operate_type
        },
        {
            control: position_id,
            key: 'position_id',
            value: position_id
        },
        {
            control: plan_id,
            key: 'media_content_id',
            value: plan_id
        },
        {
            control: operate_type || position_id,
            key: 'media_content_type',
            value: 'ad'
        },
        {
            control: position_id === '827' || operation_list === 'home_top',
            key: 'operation_list',
            value: 'home_top'
        },
        {
            control: position_id === '817',
            key: 'operation_list',
            value: 'article_bottom'
        },
        {
            control: position_id === '835',
            key: 'operation_list',
            value: 'comment_bottom'
        },
    ];
    var data = {};
    for (var _i = 0, genPropertyAccordingToAttributeList_1 = genPropertyAccordingToAttributeList; _i < genPropertyAccordingToAttributeList_1.length; _i++) {
        var infoItem = genPropertyAccordingToAttributeList_1[_i];
        Object.assign(data, setProperty(infoItem));
    }
    return data;
}
// 暴露给神策api的方法，此方法返回的object，神策会统一收集上报
function manualMain(elementTarget) {
    if (elementTarget.tagName.toLowerCase() !== 'a')
        throw Error('目前只收集点击a标签所跳转的信息');
    // TODO: 需要区分H5还是web
    var data = {
        platform: judgePlatform(window &&
            window.initialState &&
            window.initialState.navigator &&
            window.initialState.navigator.userAgent)
    };
    var attributes = elementTarget.attributes;
    var hrefObj = attributes.href || {};
    var className = getClass(attributes);
    var hrefValue = hrefObj.value || "";
    if ((/(http|ftp|https):\/\//.test(hrefValue) && !hrefValue.includes('36kr.com')) ||
        (/(http|ftp|https):\/\//.test(hrefValue) && hrefValue.includes('36kr.com/api/ad/'))) {
        Object.assign(data, externalLink(hrefValue));
    }
    else {
        var internalLinkHrefValue = hrefValue;
        if (hrefValue.includes('36kr.com'))
            internalLinkHrefValue = hrefValue.split('36kr.com')[1];
        Object.assign(data, internalLink(internalLinkHrefValue, className));
    }
    // 通过标签属性，添加相关信息
    Object.assign(data, genPropertyAccordingToAttribute(elementTarget));
    return data;
}
/**
 * 根据传入的地址生成路径信息
 */
var PathInfo = /** @class */ (function () {
    function PathInfo(path) {
        this.path = path;
        var pathArr = path.split('/').filter(function (x) { return x !== ""; });
        this.root = pathArr[0];
        this.sub = pathArr[1];
    }
    return PathInfo;
}());
// 分析当前地址和传入的地址，生成当前页面的地址信息，方便业务中的数据分析
var PageInfo = /** @class */ (function () {
    function PageInfo(href) {
        this.destPath = __assign({}, new PathInfo(href), new SourcePath(href));
        this.currentPath = __assign({}, new PathInfo(window.location.pathname), new SourcePath(window.location.pathname));
    }
    return PageInfo;
}());
var SourcePath = /** @class */ (function () {
    function SourcePath(href) {
        this.group = SourcePath.groupFn(href);
    }
    SourcePath.groupFn = function (href) {
        var pathInfo = new PathInfo(href);
        if (pathInfo.sub && isNumber(pathInfo.sub)) {
            return 'content';
        }
        else {
            return 'default';
        }
    };
    return SourcePath;
}());
// 区分埋点的“关键事件”
function getCaseKey(data) {
    if (data.hasOwnProperty('operate_type') ||
        data.hasOwnProperty('position_id')) {
        return 'MediaWebAD';
    }
    else {
        return 'MediaWebRead';
    }
}
function coverTagAClickEvent() {
    // document.querySelectorAll('a').forEach(item => {
    document.getElementById('app').addEventListener('click', function (e) {
        // 兼容性处理
        var event = e || window.event;
        var eventPath = event.path || [];
        var target = eventPath.filter(function (x) {
            return x && x.nodeName && x.nodeName.toLocaleLowerCase() === 'a';
        });
        // 判断是否匹配目标元素
        if (target.length !== 0) {
            var elementTarget = target[target.length - 1];
            if (elementTarget.getAttribute('sensors_do_not_send_data'))
                return;
            var targetValue_1 = elementTarget.getAttribute('target');
            var targetHref = elementTarget.getAttribute('href');
            var url_1 = elementTarget.href;
            var data = manualMain(elementTarget);
            if (!targetHref)
                return;
            if (!targetValue_1)
                e.preventDefault();
            if (window.sa && window.sa.track) {
                window.sa.track(getCaseKey(data), data, function () {
                    if (!targetValue_1)
                        location.href = url_1;
                });
            }
            else {
                if (!targetValue_1)
                    location.href = url_1;
            }
        }
    });
    // });
}
// 手动埋点内容
window.onload = function () {
    setTimeout(function () {
        coverTagAClickEvent();
    }, 0);
};

//# sourceMappingURL=main.js.map
</script>
</head>
<body>
<div id="app"><div class="kr-article-box"><div class="box-kr-article-new-y"><div class="kr-layout"><div class="kr-layout-main clearfloat"><div class="kr-header " style="opacity:1;transform:translateY(-0px)"><div class="kr-header-main"><div class="kr-header-content"><div class="user-login" style="display:none"><img alt="" class="user-pic"/><div class="pull-down"><a class="ellipsis-1 user-name" title="" href="/usercenter/basicinfo" target="_blank" rel="noopener noreferrer"></a><a class="ellipsis-1 " title="账号设置" href="/usercenter/account-password" target="_blank" rel="noopener noreferrer">账号设置</a><a class="ellipsis-1 " title="我的关注" href="/usercenter/follow" target="_blank" rel="noopener noreferrer">我的关注</a><a class="ellipsis-1 " title="我的收藏" href="/usercenter/favorite" target="_blank" rel="noopener noreferrer">我的收藏</a><a class="ellipsis-1 " title="申请的报道" href="/usercenter/report" target="_blank" rel="noopener noreferrer">申请的报道</a><a class="ellipsis-1 " title="退出登录" target="_blank" rel="noopener noreferrer">退出登录</a></div></div><div class="user-login" style="display:inline-block"><div class="text">登录</div></div><div class="kr-header-search-entry clearfloat"><div class="search-button"><span class="search-icon"></span><span class="search-text weight-bold">搜索</span></div></div><div><ul class="business-nav"><li class="nav-wrapper"><div class="sub-nav-wrapper" style="transform:scaleY(0.2);transition-duration:0.4166666666666667s"><div class="sub-nav-item"><a class="sub-nav-name " href="https://img.36krcdn.com/20200523/v2_60978139c1384260a7356df795ceaad7_img_png" target="_blank" rel="noopener noreferrer"><span>未来汽车日报</span></a></div><div class="sub-nav-item"><a class="sub-nav-name " href="https://img.36krcdn.com/20201027/v2_f941a0b8255c4d42836e27cd8a1c9bfc_img_jpg" target="_blank" rel="noopener noreferrer"><span>未来消费</span></a></div><div class="sub-nav-item"><a class="sub-nav-name " href="https://pic.36krcnd.com/201909/11105748/n7xtn94vwued8chj.png" target="_blank" rel="noopener noreferrer"><span>未来地产</span></a></div><div class="sub-nav-item"><a class="sub-nav-name " href="http://letschuhai.com" target="_blank" rel="noopener noreferrer"><span>36氪出海</span></a></div><div class="sub-nav-item"><a class="sub-nav-name " href="https://pic.36krcnd.com/201909/11105748/fmgji9gmg0kjrccq.png" target="_blank" rel="noopener noreferrer"><span>超人测评</span></a></div></div><div class="nav-label "><span>媒体品牌</span></div></li><li class="nav-wrapper"><div class="sub-nav-wrapper" style="transform:scaleY(0.16666666666666666);transition-duration:0.5s"><div class="sub-nav-item"><a class="sub-nav-name " href="https://q.36kr.com" target="_blank" rel="noopener noreferrer"><span>企业号</span></a></div><div class="sub-nav-item"><a class="sub-nav-name " href="https://www.36dianping.com/" target="_blank" rel="noopener noreferrer"><span>企服点评</span></a></div><div class="sub-nav-item"><a class="sub-nav-name " href="https://36kr.com/enterprise/" target="_blank" rel="noopener noreferrer"><span>EClub企业项目库</span></a></div><div class="sub-nav-item"><a class="sub-nav-name " href="https://36kr.com/academe" target="_blank" rel="noopener noreferrer"><span>36Kr研究院</span></a></div><div class="sub-nav-item"><a class="sub-nav-name " href="//innovationhub.36kr.com" target="_blank" rel="noopener noreferrer"><span>Kr8创新平台</span></a></div><div class="sub-nav-item"><a class="sub-nav-name " href="https://innovation.36kr.com" target="_blank" rel="noopener noreferrer"><span>36Kr创新咨询</span></a></div></div><div class="nav-label "><span>企业服务</span></div></li><li class="nav-wrapper"><div class="sub-nav-wrapper" style="transform:scaleY(0.5);transition-duration:0.16666666666666666s"><div class="sub-nav-item"><a class="sub-nav-name " href="https://36kr.com/policy" target="_blank" rel="noopener noreferrer"><span>城市之窗</span></a></div><div class="sub-nav-item"><a class="sub-nav-name " href="https://36kr.com/p/5255816" target="_blank" rel="noopener noreferrer"><span>政企对接</span></a></div></div><div class="nav-label "><span>政府服务</span></div></li><li class="nav-wrapper"><div class="sub-nav-wrapper" style="transform:scaleY(0.25);transition-duration:0.3333333333333333s"><div class="sub-nav-item"><a class="sub-nav-name " href="https://36kr.com/LPlan" target="_blank" rel="noopener noreferrer"><span>LP源计划</span></a></div><div class="sub-nav-item"><a class="sub-nav-name " href="https://36kr.com/VClub" target="_blank" rel="noopener noreferrer"><span>VClub</span></a></div><div class="sub-nav-item"><a class="sub-nav-name " href="https://36kr.com/organization/" target="_blank" rel="noopener noreferrer"><span>VClub投资机构库</span></a></div><div class="sub-nav-item"><a class="sub-nav-name " href="https://36kr.com/topics/1620276089894403" target="_blank" rel="noopener noreferrer"><span>投资机构招聘</span></a></div></div><div class="nav-label "><span>投资人服务</span></div></li><li class="nav-wrapper"><div class="sub-nav-wrapper" style="transform:scaleY(0.5);transition-duration:0.16666666666666666s"><div class="sub-nav-item"><a class="sub-nav-name " href="https://36kr.com/seek-report" target="_blank" rel="noopener noreferrer"><span>寻求报道</span></a></div><div class="sub-nav-item"><a class="sub-nav-name " href="https://pic.36krcnd.com/201909/11105748/0th6az0ryyz3ije5.png" target="_blank" rel="noopener noreferrer"><span>36氪Pro</span></a></div></div><div class="nav-label "><span>创业者服务</span></div></li><li class="nav-wrapper"><div class="sub-nav-wrapper" style="transform:scaleY(1);transition-duration:0.08333333333333333s"><div class="sub-nav-item"><a class="sub-nav-name " href="https://kaike.36kr.com" target="_blank" rel="noopener noreferrer"><span>开氪</span></a></div></div><div class="nav-label "><span>会员服务</span></div></li></ul></div><a href="https://36kr.com/topics/799051634713857" class="wise-entry" target="_blank" rel="noopener noreferrer"> </a></div></div></div><div class="main-left"><div class="kr-sider-wrapper fixed " style="transform:translate(0, -0px) translateZ(0);top:44px"><div class="kr-sider "><a href="/" class="go-home clearfloat"><div class="logo"></div></a><div class="kr-sider-shadow-wrapper clearfloat"><div class="line"></div><ul class="kr-channel-nav"><li class="channel-item"><div class="sub-title"><a class="name weight-bold " href="/" id="home">首页</a></div></li><li class="channel-item"><div class="sub-title"><a class="name weight-bold " href="/newsflashes/" id="newsflash">快讯</a></div></li><li class="channel-item"><div class="sub-title"><span class="open-icon close"></span><a class="name weight-bold " href="/information/web_news/" id="information">资讯</a></div><div class="sub-list "><ul class="sub-list-right"><li class="sub-item"><a href="/information/web_recommend/" class="">推荐</a></li><li class="sub-item"><a href="/information/ccs/" class="">Markets</a></li><li class="sub-item"><a href="/information/technology/" class="">科技</a></li><li class="sub-item"><a href="/information/happy_life/" class="">生活</a></li><li class="sub-item"><a href="/local/sichuan" class="">四川</a></li></ul><ul class="sub-list-left"><li class="sub-item"><a href="/information/web_news/latest/" class="">最新</a></li><li class="sub-item"><a href="/information/contact/" class="">创投</a></li><li class="sub-item"><a href="/information/travel/" class="">汽车</a></li><li class="sub-item"><a href="/information/enterpriseservice/" class="">企服</a></li><li class="sub-item"><a href="/information/innovate/" class="">创新</a></li></ul></div></li><li class="channel-item"><div class="sub-title"><span class="live-new-icon "></span><a class="name weight-bold " href="/live/channel" id="liveChannel">直播</a></div></li><li class="channel-item"><div class="sub-title"><a class="name weight-bold " href="/video/" id="video">视频</a></div></li><li class="channel-item"><div class="sub-title"><a class="name weight-bold " href="/topics/" id="special-topic">专题</a></div></li><li class="channel-item"><div class="sub-title"><a class="name weight-bold " href="/activity" id="activity">活动</a></div></li><div class="local-list" style="display:none"><span class="triangle"></span></div></ul><div class="kr-search-entry clearfloat"><div class="search-button"><span class="search-icon"></span><span class="search-text weight-bold">搜索</span></div></div><a href="/seek-report" class="seek-report" target="_blank" rel="noopener noreferrer nofollow"><span class="seek-report-icon"></span><span class="seek-report-text">寻求报道</span></a><div><div class="i-want-contribution"><span class="i-want-contribution-icon"></span><span class="i-want-contribution-text">我要入驻</span></div></div></div></div></div></div><div class="main-right"><div class="kr-layout-content"><div class="kr-article"><div class="kr-article-inner"><div class="article-detail-wrapper-box"><div><div class="article-left-container"><div class="article-content"><div class="article-mian-content"><div class="article-wrapper common-width"><div class="common-width"><div><h1 class="article-title margin-bottom-20 common-width">同样是 4K 电影，为什么有的视频网站既省流量又清晰</h1><div class="article-title-icon common-width margin-bottom-40"><a class="title-icon-item item-a" href="/user/569821167" target="_blank" rel="nofollow noopener noreferrer">少数派</a><span class="title-icon-item item-time"><i>·</i>2020-03-17</span><div><div class="follow-author-btn " style="margin-left:16px">关注</div></div></div><div class="summary">视频编码的不断进步却让我们看到的视频变得越来越清晰、生动，播放下载也更加便捷流畅。</div></div></div><div class="common-width margin-bottom-20"><div class="common-width content articleDetailContent kr-rich-text-wrapper"><p>编者按：本文来自微信公众号<a href="https://mp.weixin.qq.com/s/byj37oPZ4mFOPHJ0S5Rzbg">“少数派”（ID:sspaime）</a>，作者：酱紫表，36氪经授权发布。</p> 
<p>你在 Netflix 上看的《怪奇物语》、在<a class='project-link' data-id='2492' data-name='爱奇艺' data-logo='https://img.36krcdn.com/20200729/v2_9f1f24563bc24898815a65cf141cbc9c_img_000' data-refer-type=2 href='https://36kr.com/projectDetails/2492' target='_blank'>爱奇艺</a>上看的《延禧攻略》、在腾讯视频上看的《三生三世》……这些剧集无论画面多么壮美震撼，色彩多么瑰丽怡人，背后决定它们最终呈现形态的，几乎都是看上去并不怎么浪漫的数字信号。</p> 
<p>对视频内容而言，我们常常把视频信号分为两种：模拟信号和数字信号。模拟信号是指时间上和数值上均连续的信号，数字信号则是时间上和数值上均离散的信号（李永乐老师讲解过&nbsp;模拟信号与数字信号的区别&nbsp;感兴趣的可以看看）。</p> 
<p><img src="https://img.36krcdn.com/20200409/v2_548c1463cccc4b1c8cf0596b7a2f3df2_img_000" data-img-size-val="600,400"></p> 
<p label="图片描述" classname="img-desc" class="img-desc">模拟信号与数字信号</p> 
<p>而具体到电影和视频，🎞️胶片电影(光敏材料记录)、以前的 CRT 电视📺（连续的电信号）、VHS 录像带📼这些都是采用模拟信号的代表；如今我们在网络上看到的大部分视频，在手机、电脑上保存的影片则大多是数字视频，它们借助摄像机进行采集并借助编码完成数字化，随后计算机用 0 和 1 存储、传播，最后再解码呈现到我们的屏幕上。</p> 
<p>这个从信号到图像的转化过程中，视频编解码起着至关重要的作用。</p> 
<h2 label="一级标题">什么是编码</h2> 
<p>自上个世纪末计算机逐渐普及开始，视频和电影从拍摄、剪辑到传播、呈现，都在不断完成向数字化的转变，视频编码在这个过程中发挥的作用尤为关键。</p> 
<p><img src="https://img.36krcdn.com/20200409/v2_1034805490d54ae5afe9cfb706ba0271_img_000" data-img-size-val="720,540"></p> 
<p label="图片描述" classname="img-desc" class="img-desc">世界上第一台数字录像机</p> 
<p>严格来说我们所说的视频编码全名其实叫做视频编解码器，英文名叫 codec，是 encoder 和 decoder 的缩写，我们拍摄、剪辑、转码时候会将图像的光信号处理完成 encoder 的过程；播放时则会借助 decoder 将信号中的视频信息呈现出来。</p> 
<p>视频编码与我们平常见到的 .mp4、.flv 等视频的拓展名并没有必然的联系，你可以将这些拓展名格式看作是一个个容器（container），每个容器里都可以包含了不同编码的视频、不同编码的音频、图片、字幕等等。</p> 
<p>而目前大家接触比较多的视频编码主要有下面 5 种：</p> 
<h3 label="二级标题">H.264/AVC</h3> 
<p>无论是叫 H.264、AVC、MPEG-4 Part 10 还是 Advanced Video Coding，都是指的这一个。</p> 
<p>这是在 2003 年就由 MPEG（Moving Picture Experts Group 动态影像专家组）发布了的、至今为止已经有 17 年历史的视频编码，也是迄今为止最流行、最通用的视频编码。</p> 
<p>H.264 的适应范围非常广，不同系统的电脑、浏览器、手机、电视、数码相机、流媒体、播放器、剪辑软件等几乎都有在使用这种编码。</p> 
<h3 label="二级标题">H.265/HEVC</h3> 
<p>无论是叫 H.265、HEVC（High Efficiency Video Coding）还是 MPEG-H Part 2，指的都是这个编码。</p> 
<p>H.265 可以说是 H.264 的继任者，它主要解决了 H.264 存在的两个问题：</p> 
<p>首先是效率。H.265 的效率要高很多，相同画质下 H.265 比 H.264 节省了大约一倍的带宽（1080P 下节省了 57% 左右，4K UHD 下更是能节省大约 64% 的带宽 ），这对于一众流媒体视频网站的诱惑可以说是十分巨大，因为视频网站往往有一半甚至更多的开销得花费在带宽上面；不过还是有缺点的，播放 H.265 编码的视频内容的设备需要更好的性能，因而目前很多设备往往也并不支持 H.265 视频的播放，这时候就要在服务端放两份，一份 H.264 的一份 H.265 的，然后分发给不同的客户端。</p> 
<p>另一方面，目前 4K 已经比较普及，很多专业设备甚至手机都能拍摄 8K 的内容，很多 8K 电视也已经开卖。而 H.264 因为有最高只支持 4K 分辨率这个限制存在，已经不太适合更高质量视频的拍摄、制作、和播放了，H.265 支持 8K 更能满足当前的需求。</p> 
<p>H.265 最大的坏处是收费，并且比 H.264 更贵了。</p> 
<h3 label="二级标题">VP9</h3> 
<p>上面提到无论是 H.264 还是 H.265 都有一个非常大的问题就是收费，并且非常昂贵，厂商随随便便一用一年就是几百万刀的钱。</p> 
<p>于是像 Google 这种<a class='project-link' data-id='550662' data-name='优秀青年' data-logo='https://img.36krcdn.com/20200729/v2_d3b8030105b54ce29af153ef01ee2b1c_img_000' data-refer-type=2 href='https://36kr.com/projectDetails/550662' target='_blank'>优秀青年</a>就会想了，我又有技术又有钱，为啥不自己造个轮子？于是 2009 年 Google 花了 106.5 万美元收购了视频编码公司 On2 并很快推出了免费的 VP8 视频编码。不过彼时天下早已经是 H.264 的了，VP8 本身的编码效率也不够好，除了 YouTube 和少数几家浏览器支持外并没有被特别大规模地使用过。</p> 
<p>所以 2010 年 Google 又进一步推出了 VP9，目标直指 H.265，这一次不仅有 YouTube、Netflix 等视频网站巨头的相继支持，除了 Safari 以外的主流浏览器也纷纷加入，另外，这也是你的 Safari 看 YouTube 没有 1080p 以上选项的根本原因。</p> 
<p>根据 Netflix 分享过的对比测试，VP9 相比较 H.265 在 1080P 往上分辨率的视频流播中有着不小的优势。</p> 
<h3 label="二级标题">AV1</h3> 
<p>虽然 Google 的 VP9 效果还不错，但仍有几家巨头不怎么愿意使用，毕竟在 Google 手里的项目他们也不太放心，比如 Apple 就始终未支持 VP9/VP8，很多买了 Apple TV 的朋友也因此无法观看 4K 分辨率的 YouTube。</p> 
<p>所以 Apple、亚马逊、思科、 Google、英特尔、 微软、Mozilla 以及 Netflix 等厂商又共同组建了 Alliance for Open Media（开放媒体联盟）并在 2018 年推出了对抗 H.265 的新视频编码 AV1（AOMedia Video 1）。</p> 
<p>你没看错，Google 也贡献出了自己的 VP9 作为基础，AV1 比起 VP9 又能节省约 20% 的带宽，同时依然免收版权费。</p> 
<p><img src="https://img.36krcdn.com/20200409/v2_8277dc25cef24240b22e00821917051c_img_000" data-img-size-val="720,549"></p> 
<p label="图片描述" classname="img-desc" class="img-desc">AV1 联盟</p> 
<p>不过最重要的一点，这个联盟拥有非常强大的号召力，上图中的公司都加入了这个联盟，Netflix、YouTube 这些大家常见的视频平台也因此陆续开始分发 AV1 编码的视频了。</p> 
<h3 label="二级标题">Apple ProRes</h3> 
<p>与上述几种帧间编码的视频编码不同，多用于专业相机拍摄的编码 Apple ProRes 属于帧内编码。根据「帧内压缩只参考本帧数据，压缩率小；帧间压缩要参考其他帧数据，压缩率大」 这个原理，Apple ProRes 这种帧内编码的视频编码的体积会比帧间编码的大很多，一般的数码相机、微单也很少使用这种编码。</p> 
<p><img src="https://img.36krcdn.com/20200409/v2_35a713878da34446b9439546f8ce3d35_img_000" data-img-size-val="720,442"></p> 
<p label="图片描述" classname="img-desc" class="img-desc">帧内编码与帧间编码示意</p> 
<p>不过 Apple ProRes 这种帧内编码的好处也是有的，这种编码往往会使用更大的体积保存更多的信息；因为是帧内编码不需要计算出其它帧，剪辑的时候对性能的要求也要低很多，即使用低配置的电脑剪辑高分辨率的视频也会很流畅。</p> 
<p>此外很多专业级别的拍摄设备也会开发 Apple ProRes 这样的自有编码，甚至有些会记录「无损」的数据方便后期处理。这些专业拍摄设备一般用户不会接触到，网络视频传播基本也不会使用帧内编码，正如上面所说，采用这类编码的视频体积实在太大了，既烧钱又不利于传播。</p> 
<p>如果你对这些感兴趣可以看看：</p> 
<ul class=" list-paddingleft-2"> 
 <li><p>H.264 vs H.265 H.265 会主宰市场吗？</p></li> 
 <li><p>【省带宽、压成本专题】深入解析 H.265 编码模式，带你了解 Apple 全面推进 H.265 的原因</p></li> 
 <li><p>视频编码的终结？</p></li> 
 <li><p>HEVC (H.265) 是啥，我们需要关注什么？</p></li> 
 <li><p>aomedia 官网</p></li> 
 <li><p>2016年 Netflix 在 Android 上分发 VP9 内容</p></li> 
 <li><p>AVC 编码详解</p></li> 
 <li><p>HEVC 授权价格</p></li> 
 <li><p>HEVC VP9 未来的视频编码</p></li> 
</ul> 
<h2 label="一级标题">视频拍摄的编码选择</h2> 
<p>针对拍摄，大部分设备我们都是没法选择视频录制编码的，但 iPhone 可以。所以这里我们以 iPhone 为例。</p> 
<p><img src="https://img.36krcdn.com/20200409/v2_e59d9de4150c40179233620c5e1a9f40_img_000" data-img-size-val="720,720"></p> 
<p label="图片描述" classname="img-desc" class="img-desc">iPhone 拍摄模式 左 H.264 右 H.265&nbsp;</p> 
<p>iPhone 在「设置 &gt; 相机 &gt; 格式」中提供了高效（H.265 即 HEVC）和兼容性最佳（H.264 即 AVC）两种视频拍摄编码选项，在上述对比图中不难看出视频编码对最终体积的影响真的很大。</p> 
<p>选择高效自然会碰见兼容性问题，类似的案例你可以参考广告导演 @flypig 的<a class='project-link' data-id='38685' data-name='微博' data-logo='https://img.36krcdn.com/20200729/v2_7547e8f1fb9e448fb049075087a78403_img_000' data-refer-type=2 href='https://36kr.com/projectDetails/38685' target='_blank'>微博</a>（sspai.com/s/KE85），碰见这种问题一般你可以选择将 H.265 的素材转成 H.264 或者检查自己的系统和剪辑软件是不是最新的。</p> 
<p>拍摄、剪辑、和导出上传我自然是门外汉了（别的也是），推荐你们可以<a class='project-link' data-id='336082' data-name='看看影视' data-logo='https://img.36krcdn.com/20200729/v2_7d304884e080405b932de87fa6d0d7f5_img_000' data-refer-type=2 href='https://36kr.com/projectDetails/336082' target='_blank'>看看影视</a>飓风的这几期视频，讲的很清楚。</p> 
<ul class=" list-paddingleft-2"> 
 <li><p>完全解析：编码与封装</p></li> 
 <li><p>高画质的背后——视频的封装与编码</p></li> 
 <li><p>422，420，10bit，8bit？这些究竟是什么</p></li> 
</ul> 
<h2 label="一级标题">视频分发的编码选择</h2> 
<p>相同的电影剧集，影响最终看起来清晰不清晰的除了分辨率、码率，视频编码也是非常重要的一部分，但这个因素常常被我们所忽视。</p> 
<p>国际上比较主流的视频网站都采用了多种视频编码来应对不同平台、不同内容甚至不同网络环境的播放情况，下面是我个人总结的一些（可能会不完整）：</p> 
<p><img src="https://img.36krcdn.com/20200409/v2_6dde389f60874d71b27f04c84346baea_img_000" data-img-size-val="690,518"></p> 
<p label="图片描述" classname="img-desc" class="img-desc">Edge Netflix 4k</p> 
<p>Netflix&nbsp;目前正在使用 4 种不同的编码，分别是</p> 
<ul class=" list-paddingleft-2"> 
 <li><p>H.264(AVC)：这是 Netflix 使用较多的一种编码格式，在 Safari、iOS、电视客户端等都在使用。</p></li> 
 <li><p>H.265(HEVC)：Netflix 一般仅为 4K 的内容提供 H.265 的编码，并且一般只有在能看 4K 的客户端上使用此编码。我这里说的是 4K 的内容并不是你看 4K 的时候才会使用 H.265 编码，举个例子：你在 Fire TV 4K 或者 Windows Edge 浏览器上观看 《爱尔兰人》等有 4K 版本的内容时，即使你观看的分辨率是 480P 或者 720P，视频都会以 H.265 编码呈现。</p></li> 
 <li><p>AV1：Netflix 在不久前宣布 Android 上正式开始使用这种编码，在这之前一直使用的是 VP9，不过 AV1 只有在使用流量并开启「节省数据」开关的选项后才会启用。</p></li> 
 <li><p>VP9: Netflix 目前在 Android、Chrome 等 Google 系软件和硬件上一直使用这种编码。这里也很容易解释为啥你在 iOS 下载相同的内容和 Android 下载的体积不一样（iOS 客户端下载的普遍体积更小）。</p></li> 
</ul> 
<p><img src="https://img.36krcdn.com/20200409/v2_f1a8a9006eed4c75ae160e5ee89c9f6c_img_000" data-img-size-val="720,461"></p> 
<p label="图片描述" classname="img-desc" class="img-desc">YouTube 选择 AV1&nbsp;视频编码</p> 
<p>YouTube 目前主要使用 VP9、H.264、以及 AV1 视频编码，不过值得注意的是 1080P 以上的内容 YouTube 都不会使用 H.264 编码，这也导致了 Apple 全系产品目前没法观看 YouTube 4K。好在 YouTube 已经开始支持 AV1 编码了（开启页面），而 AV1 也有 Apple 的一部分贡献，所以上面这个问题在未来几年内应该能解决。</p> 
<p>至于 Apple TV+、Disney+ 也都在 4K 内容上采用了 H.265 编码，并且码率还要比 Netflix 的 16Mbps 要高些许，相比国内爱奇艺、bilibili 只使用 H.264 并且码率也要低很多，「看上去」的差距自然就会十分明显了。</p> 
<p>总结下，大家经常说国外的流媒体比国内的清晰、看起来更好主要有下面三个原因：</p> 
<p><img src="https://img.36krcdn.com/20200409/v2_f323cfd2156e44fda3eba15075cc1dd3_img_000" data-img-size-val="720,720"></p> 
<p label="图片描述" classname="img-desc" class="img-desc">上 Netflix 1080p 《流浪地球》 下 爱奇艺 4k 《流浪地球》</p> 
<p><img src="https://img.36krcdn.com/20200409/v2_f3926c7ff06d487cb74d6d90e49595d2_img_000" data-img-size-val="720,720"></p> 
<p label="图片描述" classname="img-desc" class="img-desc">左 Netflix 4k 右 爱奇艺 4k</p> 
<ul class=" list-paddingleft-2"> 
 <li><p>编码：国外的大部分流媒体的分发尤其是 4K 的内容都采用了 H.265 编码（Dolby Vision 主要也是 H.265 编码），国内的基本都还是 H.264。</p></li> 
 <li><p>码率：就像我们常用图片的文件大小来判断清晰不清晰一样，一个视频采用相同或者类似的编码，码率大小会直接影响清晰。Netflix 一般 16Mbps 左右，国内的一般在 4、5Mbps 。如果算上编码的差异这个差距还得乘以2。</p></li> 
 <li><p>色彩文件（HDR）：国内的像爱奇艺即使你观看 HDR 的内容实际播放的也是 BT709 8bit SDR 的内容，并没有好好利用到你电视更广的色彩显示和更亮更优秀的屏幕，相比之下，Netflix 即使是非 HDR 内容也是 10bit 的色彩深度。</p></li> 
</ul> 
<p><img src="https://img.36krcdn.com/20200409/v2_94090b274b364a9e97b61882da8a8652_img_000" data-img-size-val="720,540"></p> 
<p label="图片描述" classname="img-desc" class="img-desc">firetv 开发者模式</p> 
<p>另外，如果你也使用 Fire TV，想看详细播放内容详细信息可以按照这个步骤开启开发者模式：</p> 
<ul class=" list-paddingleft-2"> 
 <li><p>遥控器：在方向盘上，按住「 中央」按钮一秒钟；然后（仍然按住居中），也按下「 向下」按钮。按住两个按钮约3-4秒。</p></li> 
 <li><p>然后释放两个按钮，然后按遥控器的菜单按钮。</p></li> 
</ul> 
<p>（如果这不起作用，请尝试同时按住「 Center」和「 Down」，而不要交错放置。）</p> 
<h2 label="一级标题">尾巴</h2> 
<p>胶片电影时我们的视频是一秒 24 张照片的魔法，到电视我们的视频是「不稳定」的模拟电信号，再到如今借助网络力量高速传播的数字信号。视频编码看不见也摸不着，它的进步却让我们的视频变得越来越清晰、生动，播放下载也更加便捷流畅。</p></div></div><div class="common-width"><div class="article-footer-txt"><p>该文观点仅代表作者本人，36氪平台仅提供信息存储空间服务。</p></div></div></div></div></div><div class="ad87-box"></div><div class="thumb-up-box"><div class="thumb-inner"><div class="thumb-wrapper"><div class="backgroundImg-box-wrapper"><div class="backgroundImg-box showNormal"><span class="kr-article-tranistion-thumb  normalColor">+1</span><div class="thumbNum normalColor">3</div></div></div><p class="txt">好文章，需要你的鼓励</p></div></div></div><div class="navbar-wrapper"><div class="navbar-inner-box"><div class="kr-card"><div class="top-line" style="height:4px"></div><div class="kr-card-content article-detail-navbar"><div class="wrapper" style="width:100%;height:70px"><div class="inner"><a class="author-avrtar" href="/user/569821167" target="_blank" rel="noopener noreferrer"><div class="kr-default-img-avatar author-avatar-img"></div></a><a class="author-name" href="/user/569821167" target="_blank" rel="noopener noreferrer">少数派</a><span class="author-level">特邀作者</span><div class="actions-Items"><div class="items-inner"><div class="item item1"><span class="item-collection-action item-common  "><b class="favorite-count item-count-common">17</b><i class="collect-icon item-icon">收  藏</i><span class="count-animation-collect ">+1</span><span class=""></span></span><span class="item-tocomment-action item-common "><b class="comment-count item-count-common">0</b><i class="tocomment-icon item-icon">评  论</i></span></div><div class="item item2"><span class="item-share-weixin item-common"><span class="weixin-icon item-icon"><div class="kr-default-img-no-logo weixin-code"></div><i class="weixin-txt">打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</i></span></span><a class="item-share-weibo item-common" href="http://v.t.sina.com.cn/share/share.php?appkey=595885820&amp;url=https://36kr.com/p/1725272375297&amp;title=同样是 4K 电影，为什么有的视频网站既省流量又清晰" target="_blank" rel="noopener noreferrer nofollow"><i class="weibo-icon item-icon">微  博</i></a></div><div class="item item3"><span class="item-pure-action item-common"><i class="pure-icon item-icon">沉浸阅读</i></span><span class="item-backtop-action item-common"><i class="totop-icon item-icon">返回顶部</i></span></div></div></div></div></div></div></div></div></div><div></div><div class="kr-article-commitbox-left-navbar-bottom"><div class="kr-plugin-comment " title="参与评论"><div class="comment-part"><div class="comment-part-title"><div class="kr-column-title"><span class="kr-column-title-icon"></span><span class="kr-column-title-text weight-bold">参与评论</span></div></div><div class="comment-input-content"><div class="comment-input-wrapper"><div class="comment-input-nologin">评论千万条，友善第一条</div></div><div class="comment-control"><div class="comment-control-nologin"><a class="login-link">登录</a>后参与讨论</div><span class="comment-control-submit"><span>提交评论</span></span><span class="length-tip">0/1000</span></div></div></div></div></div><div class="ad817-box"></div><div id="_popIn_recommend"></div></div><div class="article-right-container"><div id="article-detail-right-qifu"></div><div id="article-detail-right-qifu-script"></div><div class="list-author-wrapper"><div class="kr-card"><div class="top-line" style="height:4px"></div><div class="kr-card-content "><div class="author-detail-info " style="padding-bottom:"><div class="author-detail-info-header clearfix"><a href="/user/569821167" target="_blank" rel="noopener noreferrer"><img class="kr-default-img-avatar author-avatar" src="https://img.36krcdn.com/20200401/v2_b6151c3e95464551afaf23aa0cfb3ea0_img_000" alt="数字消费指南 sspai.com"/></a><div class="info-header-text"><div class="clearfix"><div><a class="author-name ellipsis-1 active" href="/user/569821167" target="_blank" rel="noopener noreferrer">少数派</a></div></div><div class="author-role-wrapper" style="margin-top:3px"><span class="author-role ">特邀作者</span></div></div></div><p class="author-description">数字消费指南 sspai.com</p><div class="author-detail-info-footer"><div class="author-article-count"><i></i><span>发表文章<!-- -->420<!-- -->篇</span></div></div><div class="author-wrapper"><div class="inner-wrapper"><div class="section"><h3 class="section-h3">最近内容</h3><div class="author-itemslist"><div class="item-wrapper-box"><a target="_blank" rel="noopener noreferrer " class="item-title" href="/p/1628649372514049" sensors_operation_list="author_latest_article">听说你也放不下手机？说说我怎样克服「手机成瘾」</a><div class="item-related-info"><span class="time item">2022-02-24</span></div></div></div><div class="author-itemslist"><div class="item-wrapper-box"><a target="_blank" rel="noopener noreferrer " class="item-title" href="/p/1628649488250631" sensors_operation_list="author_latest_article">如何在视频会议中摸鱼？和你分享我的「开会摸鱼学」</a><div class="item-related-info"><span class="time item">2022-02-24</span></div></div></div><div class="author-itemslist"><div class="item-wrapper-box"><a target="_blank" rel="noopener noreferrer " class="item-title" href="/p/1627232372946691" sensors_operation_list="author_latest_article">一款「与众不同」的 iPhone 相机应用：Obscura 3</a><div class="item-related-info"><span class="time item">2022-02-23</span></div></div></div></div></div><div class="footer"><a class="footer-a" href="/user/569821167" target="_blank" rel="noopener noreferrer " sensors_operation_list="author_latest_article"><span>阅读更多内容，狠戳这里</span></a></div></div></div></div></div></div><div class="article-803-ad-wrappper"></div><div class="article-814-ad-wrappper"></div><div><div class="article-OrganArticle-wrappper"></div><div class="article-Enterprise-wrappper"><div class="kr-card"><div class="top-line" style="height:4px"></div><div class="kr-card-content "><div class="kr-article-enterprise"><div class="line"></div><header><h2 class="title weight-bold">文章提及的项目</h2></header><div class="card-list"><div class="kr-article-enterprise-item"><div class="kr-article-enterprise-item-img-box"><div class="kr-default-img-no-logo "></div></div><div class="kr-article-enterprise-item-title"><h3>爱奇艺</h3><div><a href="https://36kr.com/projectDetails/2492" target="_blank">查看详情</a></div></div></div><div class="kr-article-enterprise-item"><div class="kr-article-enterprise-item-img-box"><div class="kr-default-img-no-logo "></div></div><div class="kr-article-enterprise-item-title"><h3>微博</h3><div><a href="https://36kr.com/projectDetails/38685" target="_blank">查看详情</a></div></div></div><div class="kr-article-enterprise-item"><div class="kr-article-enterprise-item-img-box"><div class="kr-default-img-no-logo "></div></div><div class="kr-article-enterprise-item-title"><h3>看看影视</h3><div><a href="https://36kr.com/projectDetails/336082" target="_blank">查看详情</a></div></div></div><div class="kr-article-enterprise-item"><div class="kr-article-enterprise-item-img-box"><div class="kr-default-img-no-logo "></div></div><div class="kr-article-enterprise-item-title"><h3>优秀青年</h3><div><a href="https://36kr.com/projectDetails/550662" target="_blank">查看详情</a></div></div></div></div></div></div></div></div></div><div class="kr-recom-enterprise-article"></div><div class="kr-article-follow"><div class="article-follow-content"><div class="next-card-wrapper-box"><div class="kr-card"><div class="top-line" style="height:4px"></div><div class="kr-card-content "><div class="next-cart-wrapper" style="padding:15px"><h3 class="header" style="font-size:16px;line-height:25px">下一篇</h3><div class="section"><div class="section-title section-item ellipsis-2" style="font-size:14px;line-height:25px"><a href="/p/1725271375873" target="_blank" rel="noopener noreferrer " class="section-title-a ellipsis-2" sensors_operation_list="next_card">从“电梯霸屏王”到烧光627亿，50多家机构、连王思聪都掉进坑的行业怎么了</a></div><p class="section-brief section-item ellipsis-2">生死线下2020如何度过？</p><p class="section-publice-at section-item">2020-03-17</p></div></div></div></div></div></div></div></div></div></div><div></div></div></div></div></div></div><div class="kr-footer "><div class="footer-content"><div class="footer-wrapper"><div class="about36kr-wrapper"><div class="title weight-bold">关于36氪</div><div class="list-wrapper"><li><a href="/station-business" rel="noopener noreferrer nofollow" target="_blank">城市加盟</a></li><li><a href="/seek-report" rel="noopener noreferrer nofollow" target="_blank">寻求报道</a></li><li><a>我要入驻</a></li><li><a href="http://ir.36kr.com" rel="noopener noreferrer nofollow" target="_blank">投资者关系</a></li></div><div class="list-wrapper"><li><a rel="noopener noreferrer nofollow">商务合作</a></li><li><a href="/pages/about" target="_blank" rel="noopener noreferrer nofollow">关于我们</a></li><li><a>联系我们</a></li><li><a href="https://zhaopin.36kr.com" rel="noopener noreferrer nofollow" target="_blank">加入我们</a></li></div></div><div class="hotRecommend-wrapper"><div class="title weight-bold">热门推荐</div><div class="list-wrapper"><li><a href="/tags/" rel="noopener noreferrer" target="_blank">热门标签</a></li><li><a href="/search-list" rel="noopener noreferrer" target="_blank">热门搜索</a></li><li><a href="/hot-list/catalog" rel="noopener noreferrer" target="_blank">热门资讯</a></li><li><a href="/project" rel="noopener noreferrer" target="_blank">热门产品</a></li></div></div><div class="parters-wrapper"><div class="title weight-bold">合作伙伴</div><ul class="footer-partner"><li><a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer nofollow"><img src="//static.36krcdn.com/36kr-web/static/aly.e9118f2f.png" alt=""/></a></li><li><a href="https://www.volcengine.cn/" target="_blank" rel="noopener noreferrer nofollow"><img src="//static.36krcdn.com/36kr-web/static/bytey.7484dc04.png" alt=""/></a></li><li><a><img src="//static.36krcdn.com/36kr-web/static/gaodi.9e9d6741.png" alt=""/></a></li><li><a href="https://www.getui.com/cn/index.html" target="_blank" rel="noopener noreferrer nofollow"><img src="//static.36krcdn.com/36kr-web/static/getui.d2af25d2.png" alt=""/></a></li><li><a href="https://www.odaily.com" target="_blank" rel="noopener noreferrer nofollow"><img src="//static.36krcdn.com/36kr-web/static/dailyPlanet.783b0e10.png" alt=""/></a></li><li><a href="https://www.jingdata.com" target="_blank" rel="noopener noreferrer nofollow"><img src="//static.36krcdn.com/36kr-web/static/logo_jz@2x.525a51f1.png" alt="鲸准"/></a></li><li><a href="https://www.krspace.cn" target="_blank" rel="noopener noreferrer nofollow"><img src="//static.36krcdn.com/36kr-web/static/logo_kkj@2x.47737e8d.png" alt="氪空间"/></a></li><li><a href="https://www.futunn.com/" target="_blank" rel="noopener noreferrer nofollow"><img src="//static.36krcdn.com/36kr-web/static/ftnn.4f5db2d2.png" alt="富途牛牛"/></a></li><li><a href="https://www.36dianping.com/pk/" target="_blank" rel="noopener noreferrer"><img src="//static.36krcdn.com/36kr-web/static/logo_qifudianping@2x.c5635d6a.png" alt="企服点评"/></a></li><li><a href="http://www.woshipm.com" target="_blank" rel="noopener noreferrer"><img src="//static.36krcdn.com/36kr-web/static/renren@2x.f6ecd8fa.png" alt="人人都是产品经理"/></a></li></ul></div><div class="appDownload-wrapper"><div class="title weight-bold">36氪APP下载</div><img src="//static.36krcdn.com/36kr-web/static/code_production.72d61993.png" alt=""/><div class="info">iOS &amp; Android</div></div><div class="footerInfo-wrapper"><a href="https://36kr.com/" class="footer-logo"><img src="//static.36krcdn.com/36kr-web/static/logoWhite.2a5eceda.png" alt=""/></a><div class="footer-center"><div class="footer-center-top">本站由 <span><a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer nofollow">阿里云 </a>提供计算与安全服务 违法和不良信息、未成年人保护举报电话：010-58254120 举报邮箱：jubao@36kr.com <a href="https://www.12377.cn" target="_blank" rel="noopener noreferrer nofollow" style="font-weight:normal">网上有害信息举报</a></span></div><div class="footer-center-bottom"><span class="license-wrapper"><div class="license-pic"></div><span class="text">© 2011~<!-- -->2022<!-- --> 北京多氪信息科技有限公司 |<!-- --> </span></span><a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank">京ICP备12031756号-6</a> <!-- -->|<!-- --> <a href="https://dxzhgl.miit.gov.cn/dxxzsp/xkz/xkzgl/resource/qiyesearch.jsp?num=%25E5%258C%2597%25E4%25BA%25AC%25E5%25A4%259A%25E6%25B0%25AA%25E4%25BF%25A1%25E6%2581%25AF%25E7%25A7%2591%25E6%258A%2580%25E6%259C%2589%25E9%2599%2590%25E5%2585%25AC%25E5%258F%25B8&amp;type=xuke" target="_blank">京ICP证150143号</a> <!-- -->|<!-- --> <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010502036099" target="_blank" rel="noopener noreferrer nofollow"> <!-- -->京公网安备11010502036099号</a></div></div><div class="share"><a href="https://weibo.com/wow36kr" rel="noopener noreferrer nofollow" target="_blank"><span class="iconSinaWeibo"></span></a><a href="https://36kr.com/feed" target="_blank" rel="noopener noreferrer"><span class="iconRss"></span></a></div></div></div></div></div><div class="assit-wrapper undefined"><a href="http://feedback-36kr.mikecrm.com/FAN8f76" rel="noopener noreferrer nofollow" target="_blank" class="feedBack"><div class="feedBack-img"></div><div class="feedText">意见反馈</div></a><div class="phone"><div class="phone-img"></div><div class="phone-content"><img src="//static.36krcdn.com/36kr-web/static/code_production.72d61993.png" alt=""/><div class="content"><span>36氪APP</span><span>让一部分人先看到未来</span></div></div></div><div class="code"><div class="code-img"></div><div class="code-content"><div class="tabs"><div data-index="0" class="bg">36氪</div><div data-index="1">鲸准</div><div data-index="2">氪空间</div></div><div class="tab-content"><div style="display:block"><img src="//static.36krcdn.com/36kr-web/static/kr.ad0c1158.jpg" alt=""/><p>推送和解读前沿、有料的科技创投资讯</p></div><div style="display:none"><img src="//static.36krcdn.com/36kr-web/static/jingzhun.9a251862.jpg" alt=""/><p>一级市场金融信息和系统服务提供商</p></div><div style="display:none"><img src="//static.36krcdn.com/36kr-web/static/krSpace.7efbe7d3.jpg" alt=""/><p>聚焦全球优秀创业者，项目融资率接近97%，领跑行业</p></div></div></div></div><div class="top"><div class="top-img"></div></div></div></div></div><div class="pure-article-wrapper-box"><div class="article-pureReading-wrapper"><div class=" article-pureReading-inner"></div></div></div></div></div>
<script>window.initialState={"navigator":{"userAgent":"Scrapy/2.5.0 (+https://scrapy.org)"},"theme":"default","isSpider":false,"articleDetail":{"isPureReading":false,"renderPureReading":false,"showPurereading":false,"scrollToCommentBox":false,"loginModalShow":false,"companyFormMsg":"","showtextFormTrue":false,"articleDetailData":{"code":0,"data":{"itemId":1725272375297,"widgetTitle":"同样是 4K 电影，为什么有的视频网站既省流量又清晰","summary":"视频编码的不断进步却让我们看到的视频变得越来越清晰、生动，播放下载也更加便捷流畅。","author":"少数派","authorId":569821167,"authorFace":"https://img.36krcdn.com/20200401/v2_b6151c3e95464551afaf23aa0cfb3ea0_img_000","authorRoute":"detail_author?userId=569821167","publishTime":1584433027000,"widgetContent":"<p>编者按：本文来自微信公众号<a href=\"https://mp.weixin.qq.com/s/byj37oPZ4mFOPHJ0S5Rzbg\">“少数派”（ID:sspaime）</a>，作者：酱紫表，36氪经授权发布。</p> \n<p>你在 Netflix 上看的《怪奇物语》、在<a class='project-link' data-id='2492' data-name='爱奇艺' data-logo='https://img.36krcdn.com/20200729/v2_9f1f24563bc24898815a65cf141cbc9c_img_000' data-refer-type=2 href='https://36kr.com/projectDetails/2492' target='_blank'>爱奇艺</a>上看的《延禧攻略》、在腾讯视频上看的《三生三世》……这些剧集无论画面多么壮美震撼，色彩多么瑰丽怡人，背后决定它们最终呈现形态的，几乎都是看上去并不怎么浪漫的数字信号。</p> \n<p>对视频内容而言，我们常常把视频信号分为两种：模拟信号和数字信号。模拟信号是指时间上和数值上均连续的信号，数字信号则是时间上和数值上均离散的信号（李永乐老师讲解过&nbsp;<a href=\"\">模拟信号与数字信号的区别</a>&nbsp;感兴趣的可以看看）。</p> \n<p><img src=\"https://img.36krcdn.com/20200409/v2_548c1463cccc4b1c8cf0596b7a2f3df2_img_000\" data-img-size-val=\"600,400\"></p> \n<p label=\"图片描述\" classname=\"img-desc\" class=\"img-desc\">模拟信号与数字信号</p> \n<p>而具体到电影和视频，🎞️胶片电影(光敏材料记录)、以前的 CRT 电视📺（连续的电信号）、VHS 录像带📼这些都是采用模拟信号的代表；如今我们在网络上看到的大部分视频，在手机、电脑上保存的影片则大多是数字视频，它们借助摄像机进行采集并借助编码完成数字化，随后计算机用 0 和 1 存储、传播，最后再解码呈现到我们的屏幕上。</p> \n<p>这个从信号到图像的转化过程中，视频编解码起着至关重要的作用。</p> \n<h2 label=\"一级标题\">什么是编码</h2> \n<p>自上个世纪末计算机逐渐普及开始，视频和电影从拍摄、剪辑到传播、呈现，都在不断完成向数字化的转变，视频编码在这个过程中发挥的作用尤为关键。</p> \n<p><img src=\"https://img.36krcdn.com/20200409/v2_1034805490d54ae5afe9cfb706ba0271_img_000\" data-img-size-val=\"720,540\"></p> \n<p label=\"图片描述\" classname=\"img-desc\" class=\"img-desc\">世界上第一台数字录像机</p> \n<p>严格来说我们所说的视频编码全名其实叫做视频编解码器，英文名叫 codec，是 encoder 和 decoder 的缩写，我们拍摄、剪辑、转码时候会将图像的光信号处理完成 encoder 的过程；播放时则会借助 decoder 将信号中的视频信息呈现出来。</p> \n<p>视频编码与我们平常见到的 .mp4、.flv 等视频的拓展名并没有必然的联系，你可以将这些拓展名格式看作是一个个容器（container），每个容器里都可以包含了不同编码的视频、不同编码的音频、图片、字幕等等。</p> \n<p>而目前大家接触比较多的视频编码主要有下面 5 种：</p> \n<h3 label=\"二级标题\">H.264/AVC</h3> \n<p>无论是叫 H.264、AVC、MPEG-4 Part 10 还是 Advanced Video Coding，都是指的这一个。</p> \n<p>这是在 2003 年就由 MPEG（Moving Picture Experts Group 动态影像专家组）发布了的、至今为止已经有 17 年历史的视频编码，也是迄今为止最流行、最通用的视频编码。</p> \n<p>H.264 的适应范围非常广，不同系统的电脑、浏览器、手机、电视、数码相机、流媒体、播放器、剪辑软件等几乎都有在使用这种编码。</p> \n<h3 label=\"二级标题\">H.265/HEVC</h3> \n<p>无论是叫 H.265、HEVC（High Efficiency Video Coding）还是 MPEG-H Part 2，指的都是这个编码。</p> \n<p>H.265 可以说是 H.264 的继任者，它主要解决了 H.264 存在的两个问题：</p> \n<p>首先是效率。H.265 的效率要高很多，相同画质下 H.265 比 H.264 节省了大约一倍的带宽（1080P 下节省了 57% 左右，4K UHD 下更是能节省大约 64% 的带宽 ），这对于一众流媒体视频网站的诱惑可以说是十分巨大，因为视频网站往往有一半甚至更多的开销得花费在带宽上面；不过还是有缺点的，播放 H.265 编码的视频内容的设备需要更好的性能，因而目前很多设备往往也并不支持 H.265 视频的播放，这时候就要在服务端放两份，一份 H.264 的一份 H.265 的，然后分发给不同的客户端。</p> \n<p>另一方面，目前 4K 已经比较普及，很多专业设备甚至手机都能拍摄 8K 的内容，很多 8K 电视也已经开卖。而 H.264 因为有最高只支持 4K 分辨率这个限制存在，已经不太适合更高质量视频的拍摄、制作、和播放了，H.265 支持 8K 更能满足当前的需求。</p> \n<p>H.265 最大的坏处是收费，并且比 H.264 更贵了。</p> \n<h3 label=\"二级标题\">VP9</h3> \n<p>上面提到无论是 H.264 还是 H.265 都有一个非常大的问题就是收费，并且非常昂贵，厂商随随便便一用一年就是几百万刀的钱。</p> \n<p>于是像 Google 这种<a class='project-link' data-id='550662' data-name='优秀青年' data-logo='https://img.36krcdn.com/20200729/v2_d3b8030105b54ce29af153ef01ee2b1c_img_000' data-refer-type=2 href='https://36kr.com/projectDetails/550662' target='_blank'>优秀青年</a>就会想了，我又有技术又有钱，为啥不自己造个轮子？于是 2009 年 Google 花了 106.5 万美元收购了视频编码公司 On2 并很快推出了免费的 VP8 视频编码。不过彼时天下早已经是 H.264 的了，VP8 本身的编码效率也不够好，除了 YouTube 和少数几家浏览器支持外并没有被特别大规模地使用过。</p> \n<p>所以 2010 年 Google 又进一步推出了 VP9，目标直指 H.265，这一次不仅有 YouTube、Netflix 等视频网站巨头的相继支持，除了 Safari 以外的主流浏览器也纷纷加入，另外，这也是你的 Safari 看 YouTube 没有 1080p 以上选项的根本原因。</p> \n<p>根据 Netflix 分享过的对比测试，VP9 相比较 H.265 在 1080P 往上分辨率的视频流播中有着不小的优势。</p> \n<h3 label=\"二级标题\">AV1</h3> \n<p>虽然 Google 的 VP9 效果还不错，但仍有几家巨头不怎么愿意使用，毕竟在 Google 手里的项目他们也不太放心，比如 Apple 就始终未支持 VP9/VP8，很多买了 Apple TV 的朋友也因此无法观看 4K 分辨率的 YouTube。</p> \n<p>所以 Apple、亚马逊、思科、 Google、英特尔、 微软、Mozilla 以及 Netflix 等厂商又共同组建了 Alliance for Open Media（开放媒体联盟）并在 2018 年推出了对抗 H.265 的新视频编码 AV1（AOMedia Video 1）。</p> \n<p>你没看错，Google 也贡献出了自己的 VP9 作为基础，AV1 比起 VP9 又能节省约 20% 的带宽，同时依然免收版权费。</p> \n<p><img src=\"https://img.36krcdn.com/20200409/v2_8277dc25cef24240b22e00821917051c_img_000\" data-img-size-val=\"720,549\"></p> \n<p label=\"图片描述\" classname=\"img-desc\" class=\"img-desc\">AV1 联盟</p> \n<p>不过最重要的一点，这个联盟拥有非常强大的号召力，上图中的公司都加入了这个联盟，Netflix、YouTube 这些大家常见的视频平台也因此陆续开始分发 AV1 编码的视频了。</p> \n<h3 label=\"二级标题\">Apple ProRes</h3> \n<p>与上述几种帧间编码的视频编码不同，多用于专业相机拍摄的编码 Apple ProRes 属于帧内编码。根据「帧内压缩只参考本帧数据，压缩率小；帧间压缩要参考其他帧数据，压缩率大」 这个原理，Apple ProRes 这种帧内编码的视频编码的体积会比帧间编码的大很多，一般的数码相机、微单也很少使用这种编码。</p> \n<p><img src=\"https://img.36krcdn.com/20200409/v2_35a713878da34446b9439546f8ce3d35_img_000\" data-img-size-val=\"720,442\"></p> \n<p label=\"图片描述\" classname=\"img-desc\" class=\"img-desc\">帧内编码与帧间编码示意</p> \n<p>不过 Apple ProRes 这种帧内编码的好处也是有的，这种编码往往会使用更大的体积保存更多的信息；因为是帧内编码不需要计算出其它帧，剪辑的时候对性能的要求也要低很多，即使用低配置的电脑剪辑高分辨率的视频也会很流畅。</p> \n<p>此外很多专业级别的拍摄设备也会开发 Apple ProRes 这样的自有编码，甚至有些会记录「无损」的数据方便后期处理。这些专业拍摄设备一般用户不会接触到，网络视频传播基本也不会使用帧内编码，正如上面所说，采用这类编码的视频体积实在太大了，既烧钱又不利于传播。</p> \n<p>如果你对这些感兴趣可以看看：</p> \n<ul class=\" list-paddingleft-2\"> \n <li><p>H.264 vs H.265 H.265 会主宰市场吗？</p></li> \n <li><p>【省带宽、压成本专题】深入解析 H.265 编码模式，带你了解 Apple 全面推进 H.265 的原因</p></li> \n <li><p>视频编码的终结？</p></li> \n <li><p>HEVC (H.265) 是啥，我们需要关注什么？</p></li> \n <li><p>aomedia 官网</p></li> \n <li><p>2016年 Netflix 在 Android 上分发 VP9 内容</p></li> \n <li><p>AVC 编码详解</p></li> \n <li><p>HEVC 授权价格</p></li> \n <li><p>HEVC VP9 未来的视频编码</p></li> \n</ul> \n<h2 label=\"一级标题\">视频拍摄的编码选择</h2> \n<p>针对拍摄，大部分设备我们都是没法选择视频录制编码的，但 iPhone 可以。所以这里我们以 iPhone 为例。</p> \n<p><img src=\"https://img.36krcdn.com/20200409/v2_e59d9de4150c40179233620c5e1a9f40_img_000\" data-img-size-val=\"720,720\"></p> \n<p label=\"图片描述\" classname=\"img-desc\" class=\"img-desc\">iPhone 拍摄模式 左 H.264 右 H.265&nbsp;</p> \n<p>iPhone 在「设置 &gt; 相机 &gt; 格式」中提供了高效（H.265 即 HEVC）和兼容性最佳（H.264 即 AVC）两种视频拍摄编码选项，在上述对比图中不难看出视频编码对最终体积的影响真的很大。</p> \n<p>选择高效自然会碰见兼容性问题，类似的案例你可以参考广告导演 @flypig 的<a class='project-link' data-id='38685' data-name='微博' data-logo='https://img.36krcdn.com/20200729/v2_7547e8f1fb9e448fb049075087a78403_img_000' data-refer-type=2 href='https://36kr.com/projectDetails/38685' target='_blank'>微博</a>（sspai.com/s/KE85），碰见这种问题一般你可以选择将 H.265 的素材转成 H.264 或者检查自己的系统和剪辑软件是不是最新的。</p> \n<p>拍摄、剪辑、和导出上传我自然是门外汉了（别的也是），推荐你们可以<a class='project-link' data-id='336082' data-name='看看影视' data-logo='https://img.36krcdn.com/20200729/v2_7d304884e080405b932de87fa6d0d7f5_img_000' data-refer-type=2 href='https://36kr.com/projectDetails/336082' target='_blank'>看看影视</a>飓风的这几期视频，讲的很清楚。</p> \n<ul class=\" list-paddingleft-2\"> \n <li><p><a href=\"\">完全解析：编码与封装</a></p></li> \n <li><p><a href=\"\">高画质的背后——视频的封装与编码</a></p></li> \n <li><p><a href=\"\">422，420，10bit，8bit？这些究竟是什么</a></p></li> \n</ul> \n<h2 label=\"一级标题\">视频分发的编码选择</h2> \n<p>相同的电影剧集，影响最终看起来清晰不清晰的除了分辨率、码率，视频编码也是非常重要的一部分，但这个因素常常被我们所忽视。</p> \n<p>国际上比较主流的视频网站都采用了多种视频编码来应对不同平台、不同内容甚至不同网络环境的播放情况，下面是我个人总结的一些（可能会不完整）：</p> \n<p><img src=\"https://img.36krcdn.com/20200409/v2_6dde389f60874d71b27f04c84346baea_img_000\" data-img-size-val=\"690,518\"></p> \n<p label=\"图片描述\" classname=\"img-desc\" class=\"img-desc\">Edge Netflix 4k</p> \n<p>Netflix&nbsp;目前正在使用 4 种不同的编码，分别是</p> \n<ul class=\" list-paddingleft-2\"> \n <li><p>H.264(AVC)：这是 Netflix 使用较多的一种编码格式，在 Safari、iOS、电视客户端等都在使用。</p></li> \n <li><p>H.265(HEVC)：Netflix 一般仅为 4K 的内容提供 H.265 的编码，并且一般只有在能看 4K 的客户端上使用此编码。我这里说的是 4K 的内容并不是你看 4K 的时候才会使用 H.265 编码，举个例子：你在 Fire TV 4K 或者 Windows Edge 浏览器上观看 《爱尔兰人》等有 4K 版本的内容时，即使你观看的分辨率是 480P 或者 720P，视频都会以 H.265 编码呈现。</p></li> \n <li><p>AV1：Netflix 在不久前宣布 Android 上正式开始使用这种编码，在这之前一直使用的是 VP9，不过 AV1 只有在使用流量并开启「节省数据」开关的选项后才会启用。</p></li> \n <li><p>VP9: Netflix 目前在 Android、Chrome 等 Google 系软件和硬件上一直使用这种编码。这里也很容易解释为啥你在 iOS 下载相同的内容和 Android 下载的体积不一样（iOS 客户端下载的普遍体积更小）。</p></li> \n</ul> \n<p><img src=\"https://img.36krcdn.com/20200409/v2_f1a8a9006eed4c75ae160e5ee89c9f6c_img_000\" data-img-size-val=\"720,461\"></p> \n<p label=\"图片描述\" classname=\"img-desc\" class=\"img-desc\">YouTube 选择 AV1&nbsp;视频编码</p> \n<p>YouTube 目前主要使用 VP9、H.264、以及 AV1 视频编码，不过值得注意的是 1080P 以上的内容 YouTube 都不会使用 H.264 编码，这也导致了 Apple 全系产品目前没法观看 YouTube 4K。好在 YouTube 已经开始支持 AV1 编码了（开启页面），而 AV1 也有 Apple 的一部分贡献，所以上面这个问题在未来几年内应该能解决。</p> \n<p>至于 Apple TV+、Disney+ 也都在 4K 内容上采用了 H.265 编码，并且码率还要比 Netflix 的 16Mbps 要高些许，相比国内爱奇艺、bilibili 只使用 H.264 并且码率也要低很多，「看上去」的差距自然就会十分明显了。</p> \n<p>总结下，大家经常说国外的流媒体比国内的清晰、看起来更好主要有下面三个原因：</p> \n<p><img src=\"https://img.36krcdn.com/20200409/v2_f323cfd2156e44fda3eba15075cc1dd3_img_000\" data-img-size-val=\"720,720\"></p> \n<p label=\"图片描述\" classname=\"img-desc\" class=\"img-desc\">上 Netflix 1080p 《流浪地球》 下 爱奇艺 4k 《流浪地球》</p> \n<p><img src=\"https://img.36krcdn.com/20200409/v2_f3926c7ff06d487cb74d6d90e49595d2_img_000\" data-img-size-val=\"720,720\"></p> \n<p label=\"图片描述\" classname=\"img-desc\" class=\"img-desc\">左 Netflix 4k 右 爱奇艺 4k</p> \n<ul class=\" list-paddingleft-2\"> \n <li><p>编码：国外的大部分流媒体的分发尤其是 4K 的内容都采用了 H.265 编码（Dolby Vision 主要也是 H.265 编码），国内的基本都还是 H.264。</p></li> \n <li><p>码率：就像我们常用图片的文件大小来判断清晰不清晰一样，一个视频采用相同或者类似的编码，码率大小会直接影响清晰。Netflix 一般 16Mbps 左右，国内的一般在 4、5Mbps 。如果算上编码的差异这个差距还得乘以2。</p></li> \n <li><p>色彩文件（HDR）：国内的像爱奇艺即使你观看 HDR 的内容实际播放的也是 BT709 8bit SDR 的内容，并没有好好利用到你电视更广的色彩显示和更亮更优秀的屏幕，相比之下，Netflix 即使是非 HDR 内容也是 10bit 的色彩深度。</p></li> \n</ul> \n<p><img src=\"https://img.36krcdn.com/20200409/v2_94090b274b364a9e97b61882da8a8652_img_000\" data-img-size-val=\"720,540\"></p> \n<p label=\"图片描述\" classname=\"img-desc\" class=\"img-desc\">firetv 开发者模式</p> \n<p>另外，如果你也使用 Fire TV，想看详细播放内容详细信息可以按照这个步骤开启开发者模式：</p> \n<ul class=\" list-paddingleft-2\"> \n <li><p>遥控器：在方向盘上，按住「 中央」按钮一秒钟；然后（仍然按住居中），也按下「 向下」按钮。按住两个按钮约3-4秒。</p></li> \n <li><p>然后释放两个按钮，然后按遥控器的菜单按钮。</p></li> \n</ul> \n<p>（如果这不起作用，请尝试同时按住「 Center」和「 Down」，而不要交错放置。）</p> \n<h2 label=\"一级标题\">尾巴</h2> \n<p>胶片电影时我们的视频是一秒 24 张照片的魔法，到电视我们的视频是「不稳定」的模拟电信号，再到如今借助网络力量高速传播的数字信号。视频编码看不见也摸不着，它的进步却让我们的视频变得越来越清晰、生动，播放下载也更加便捷流畅。</p>","sourceType":"contribution","hasBanEclub":0,"popinImage":"https://img.36krcdn.com/20200409/v2_193b539a45834a16aee2f5229cfbd001_img_000","userType":3,"companyCertifyNick":"少数派官方企业号"}},"articleRecommendData":{"hasPraise":0,"hasCollect":0,"statPraise":3,"statComment":0,"statCollect":17,"statArticle":420,"authorId":569821167,"authorName":"少数派","authorTitle":"特邀作者","authorFace":"https://img.36krcdn.com/20200401/v2_b6151c3e95464551afaf23aa0cfb3ea0_img_000","authorSummary":"数字消费指南 sspai.com","authorRoute":"detail_author?userId=569821167","newestItemList":[{"itemId":1628649372514049,"itemTitle":"听说你也放不下手机？说说我怎样克服「手机成瘾」","itemContent":"读完这篇文章，我又拿起了手机。🌝","publishTime":1645685850923,"itemRoute":"detail_article?itemId=1628649372514049"},{"itemId":1628649488250631,"itemTitle":"如何在视频会议中摸鱼？和你分享我的「开会摸鱼学」","itemContent":"如何在开会时光明正大地摸鱼.mov","publishTime":1645682868476,"itemRoute":"detail_article?itemId=1628649488250631"},{"itemId":1627232372946691,"itemTitle":"一款「与众不同」的 iPhone 相机应用：Obscura 3","itemContent":"如果你对手机摄影感兴趣，我推荐你试一试它。","publishTime":1645595976148,"itemRoute":"detail_article?itemId=1627232372946691"}],"nextItem":{"itemId":1725271375873,"itemTitle":"从“电梯霸屏王”到烧光627亿，50多家机构、连王思聪都掉进坑的行业怎么了","itemContent":"生死线下2020如何度过？","publishTime":1584432976000,"authorId":638700851,"itemRoute":"detail_article?itemId=1725271375873"},"hasFollow":0,"hasCanFollow":1,"userType":3,"hasStation":1,"hasCommentShield":0},"favoriteCount":17,"likeCount":3,"post_create":0,"theArticlefavStatus":false,"theArticlelikeStatus":false,"organArticleData":{"code":0,"data":{"organizationList":[]},"msg":"返回数据成功"},"enterprise":{"projectList":[{"id":2492,"name":"爱奇艺","logo":"https://img.36krcdn.com/20200729/v2_9f1f24563bc24898815a65cf141cbc9c_img_000","hasCertify":2,"skipUrl":"https://36kr.com/projectDetails/2492"},{"id":38685,"name":"微博","logo":"https://img.36krcdn.com/20200729/v2_7547e8f1fb9e448fb049075087a78403_img_000","hasCertify":2,"skipUrl":"https://36kr.com/projectDetails/38685"},{"id":336082,"name":"看看影视","logo":"https://img.36krcdn.com/20200729/v2_7d304884e080405b932de87fa6d0d7f5_img_000","hasCertify":2,"skipUrl":"https://36kr.com/projectDetails/336082"},{"id":550662,"name":"优秀青年","logo":"https://img.36krcdn.com/20200729/v2_d3b8030105b54ce29af153ef01ee2b1c_img_000","hasCertify":2,"skipUrl":"https://36kr.com/projectDetails/550662"}]}},"channel":[{"id":0,"key":"web_news","name":"最新","mark":"none","route":"nav_latest?subnavNick=web_news&subnavType=1"},{"id":1,"key":"web_recommend","name":"推荐","mark":"none","route":"nav_general?subnavNick=web_recommend&subnavType=1"},{"id":2,"key":"contact","name":"创投","mark":"none","route":"nav_general?subnavNick=contact&subnavType=1"},{"id":3,"key":"ccs","name":"Markets","mark":"none","route":"nav_general?subnavNick=ccs&subnavType=1"},{"id":4,"key":"travel","name":"汽车","mark":"none","route":"nav_general?subnavNick=travel&subnavType=1"},{"id":5,"key":"technology","name":"科技","mark":"none","route":"nav_general?subnavNick=technology&subnavType=1"},{"id":6,"key":"enterpriseservice","name":"企服","mark":"none","route":"nav_general?subnavNick=enterpriseservice&subnavType=1"},{"id":7,"key":"happy_life","name":"生活","mark":"none","route":"nav_general?subnavNick=happy_life&subnavType=1"},{"id":8,"key":"innovate","name":"创新","mark":"none","route":"nav_general?subnavNick=innovate&subnavType=1"},{"id":9,"key":"real_estate","name":"房产","mark":"none","route":"nav_general?subnavNick=real_estate&subnavType=1"},{"id":10,"key":"web_zhichang","name":"职场","mark":"none","route":"nav_general?subnavNick=web_zhichang&subnavType=1"},{"id":11,"key":"qiyehao","name":"企业号","mark":"none","route":"nav_general?subnavNick=qiyehao&subnavType=1"},{"id":12,"key":"other","name":"其他","mark":"none","route":"nav_general?subnavNick=other&subnavType=1"}],"locationChannel":[{"id":0,"key":"guangdong","name":"广东","route":"nav_station?subnavNick=guangdong&subnavType=2"},{"id":1,"key":"jiangsu","name":"江苏","route":"nav_station?subnavNick=jiangsu&subnavType=2"},{"id":2,"key":"sichuan","name":"四川","route":"nav_station?subnavNick=sichuan&subnavType=2"},{"id":3,"key":"henan","name":"河南","route":"nav_station?subnavNick=henan&subnavType=2"},{"id":4,"key":"qingdao","name":"山东","route":"nav_station?subnavNick=qingdao&subnavType=2"},{"id":5,"key":"liaoning","name":"辽宁","route":"nav_station?subnavNick=liaoning&subnavType=2"},{"id":6,"key":"zhejiang","name":"浙江","route":"nav_station?subnavNick=zhejiang&subnavType=2"},{"id":7,"key":"xian","name":"陕西","route":"nav_station?subnavNick=xian&subnavType=2"},{"id":8,"key":"chongqing","name":"重庆","route":"nav_station?subnavNick=chongqing&subnavType=2"},{"id":9,"key":"hunan","name":"湖南","route":"nav_station?subnavNick=hunan&subnavType=2"},{"id":10,"key":"guizhou","name":"贵州","route":"nav_station?subnavNick=guizhou&subnavType=2"},{"id":11,"key":"hainan","name":"海南","route":"nav_station?subnavNick=hainan&subnavType=2"}],"locationStationNav":{"id":2,"key":"sichuan","name":"四川","route":"nav_station?subnavNick=sichuan&subnavType=2"},"userInfo":null,"isCheckedUserInfo":false}</script>
<script src="//static.36krcdn.com/36kr-web/static/runtime.21554220.js" type="text/javascript"></script><script src="//static.36krcdn.com/36kr-web/static/app.400ca3bc.js" type="text/javascript"></script>
</body>
</html>