
<!DOCTYPE html>
<html>
<head>
<meta name="nav-disable" content="flex">
<link rel="icon" href="https://img.alicdn.com/tfs/TB1_ZXuNcfpK1RjSZFOXXa6nFXa-32-32.ico" type="image/x-icon" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="renderer" content="webkit" />
<meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1" />
<meta
name="viewport"
content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"
/>
<meta name="applicable-device" content="pc,mobile" />
<meta name="nav-config" content="topbar=help,footer=default" />
<meta name="data-spm" content="a2c4g" />
<meta name="aplus-ajax" content="chksum" />
<meta name="aplus-waiting" content="MAN" />
<meta name="aplus-pvhash" content="1" />
<!-- 基础资源 -->
<title>存储在OSS中的视频在线播放时出现异常 - 对象存储 OSS - 阿里云</title>
 <link rel="canonical" href="https://help.aliyun.com/document_detail/92152.html" />
 <meta name="keywords" content="对象存储 OSS,常见错误排查,阿里云">
<meta name="description" content="">
<link rel="icon" href="https://img.alicdn.com/tfs/TB1_ZXuNcfpK1RjSZFOXXa6nFXa-32-32.ico" type="image/x-icon">
<link href="https://g.alicdn.com/aliyun-help/help-portal-fe/0.4.4/css/index.css" rel="stylesheet" />
<script src="https://gw.alipayobjects.com/os/lib/jquery/3.6.0/dist/jquery.min.js" crossorigin="anonymous"></script>
<script src="https://gw.alipayobjects.com/os/lib/lodash/4.17.21/lodash.min.js" crossorigin="anonymous"></script>
<script src="https://gw.alipayobjects.com/os/lib/moment/2.29.1/min/moment.min.js" crossorigin="anonymous"></script>
<script src="/help/json/document_detail_4_pcp.json?docId=92152&website=cn&language=zh"></script>
<script src="/help/json/supplyConfig_4_pcp.json"></script>
</head>
<!-- 渲染左侧目录树的方法定义 -->

<body><script>
with(document)with(body)with(insertBefore(createElement("script"),firstChild))setAttribute("exparams","category=&userid=&aplus&yunid=&&trid=0b837dac16458521555313694e5116&asid=AQAAAAD7tRliDmf2TgAAAABEd0Isac+Bmw==",id="tb-beacon-aplus",src=(location>"https"?"//g":"//g")+".alicdn.com/alilog/mlog/aplus_v2.js")
</script>

<script defer src="https://cloud-assets.alicdn.com/website.js"></script>
<div data-role-topbar="help"></div>
<div id="app">
<div class="aliyun-app-layout">
<a href="https://www.aliyun.com/">阿里云首页</a>
<a href="" title=""></a>
<a href="" title="相关技术圈">相关技术圈</a>
<nav class="aliyun-docs-toc"></nav>
<section class="aliyun-docs-view">
<div class="aliyun-docs-view-header">
<h1>存储在OSS中的视频在线播放时出现异常</h1>
</div>
<div class="markdown-body">
 <div><div class="icms-help-docs-content" lang="zh-CN"><main role="main">
<article role="article" aria-labelledby="title_6j0_2dz_805">
<div id="conbody-6py-o7h-fki" class="body conbody">
<blockquote>
<p id="HWHXa"><strong data-spm-anchor-id="a2c9r.12641768.0.i6.6e035e3bhI4cf3">免责声明：&nbsp;</strong>本文档可能包含第三方产品信息，该信息仅供参考。阿里云对第三方产品的性能、可靠性以及操作可能带来的潜在影响，不做任何暗示或其他形式的承诺。</p>
</blockquote>
<h2 id="nTGeF" class="shortdesc">问题描述</h2>
<p>上传到阿里云对象存储OSS的视频在线播放时出现异常，一般存在以下两种情况：</p>
<ul>
<li>情况一：视频无法在线播放。</li>
<li>情况二：视频在线播放时只有声音没有画面。</li>
</ul>
<h2 id="PQjmN" class="shortdesc">问题原因</h2>
<p>针对不同的情况，问题原因不同，具体如下：</p>
<ul>
<li id="TCHFf"><strong>情况一：视频无法在线播放<br></strong>问题原因：浏览器无法正常识别该视频文件的类型。</li>
<li id="sGKAz"><strong>情况二：视频在线播放时只有声音没有画面<br></strong>问题原因：OSS作为存储服务，不对音视频文件进行任何处理，但Web浏览器支持解码常见的音视频文件。通过Web浏览器访问OSS中的音视频资源时，Web浏览器对该音视频资源进行解码并播放。如果该视频文件为MPEG4或HEVC等格式（H.265编码），常见的Web浏览器暂不兼容该编码的视频文件，导致浏览器只解码了音频，没有解码视频。</li>
</ul>
<h2 id="bysSm" class="shortdesc">解决方案</h2>
<p>对于上述两种情况，其解决方案不同，请根据现场实际情况选择对应的解决方案。</p>
<p id="XKGJj"><strong>情况一：无法在线播放视频文件</strong></p>
<p>Web浏览器通过文件对应的Content-Type来识别文件类型，在OSS的控制台或者使用OSS的SDK上传文件时，通常会自动匹配常见文件的Content-Type。但是使用API上传时，需要用户自定义文件的Content-Type，否则OSS会默认设置文件的Content-Type为<code>application/octet-stream</code>，Web浏览器将识别该文件为二进制文件并直接下载，详情请参见<a href="/document_detail/39545.htm">访问存储在OSS中的资源时资源被强制下载</a>。参考如下步骤进行排查。</p>
<ol>
<li>参考如下两种方式，检查播放异常文件的Content-Type值。
<ul>
<li>Web浏览器工具：在播放异常的Web浏览器页面，打开Web浏览器的<strong>开发者工具（F12）</strong>，切换到<strong>Network</strong>标签，找到播放的视频文件资源并单击其名称，然后单击其右侧的<strong>Headers</strong>标签，查看<strong>Content-Type</strong>值。<br><img src="https://onekb.oss-cn-zhangjiakou.aliyuncs.com/50745141/d4472c14-ea8a-4c07-ab91-86333cf43bc5.png"></li>
<li>OSS控制台：登录OSS控制台并进入对应的Bucket，找到目标Object资源，单击<strong>详情</strong>。在详情页面，单击<strong>设置HTTP头</strong>，查看<strong>Content-Type</strong>值。</li>
</ul>
</li>
<li>确认播放异常文件的文件格式与Content-Type值相匹配。比如MP4文件的Content-Type为<code>video/mp4</code>。如果不匹配，请参考上述步骤中的OSS控制台方式，修改该文件的Content-Type为正确的值。</li>
<li>如果播放异常文件的Content-Type正确，但是在Web浏览器中播放时仅有音频，没有视频，则可能是由于该视频文件需要使用特殊的解码器才可以正确播放，而浏览器不支持此解码器。您可参阅<strong>情况二：在线播放时只有声音没有画面</strong>进行解决。</li>
</ol>
<section id="section-al3-vj3-hfb" class="section">
<p id="Hjpdm"><strong>情况二：在线播放时只有声音没有画面</strong></p>
<p>查看该视频文件的编码格式，如果该视频为MPEG4或HEVC等H.265编码，请根据实际情况选择如下任一解决方案。</p>
<blockquote>
<p><strong>说明</strong>：您可以通过第三方工具，如<a class="from-extensions-error" href="https://mediaarea.net/en/MediaInfo">MediaInfo</a>，来确认视频文件的编码格式。</p>
</blockquote>
<ul>
<li>将该视频文件转码为H.264编码后重新上传至OSS，详情请参见<a href="/document_detail/45039.htm">添加转码配置</a>。</li>
<li>将该视频文件下载到本地，通过第三方播放器（<a href="/document_detail/45212.htm">OBS推流工具</a>或者<a href="/document_detail/52142.htm">VLC播放器</a>）播放。</li>
<li>在页面中嵌入支持该视频的播放器插件，通过该插件播放视频。</li>
</ul>
</section>
<section id="section-tkk-ck3-hfb" class="section">
<h2 id="awMHa">适用于</h2>
<ul>
<li>对象存储 OSS</li>
</ul>
<div class="website-filter" data-website="cn">

<p>如果您的问题仍未解决，您可以在阿里云社区<a class="from-extensions-error" rel="noopener noreferrer" target="_blank" href="https://mvp.aliyun.com/zhidao">免费咨询</a>，或<a class="from-extensions-error" rel="noopener noreferrer" target="_blank" href="https://selfservice.console.aliyun.com/ticket/createIndex.htm">提交工单</a>联系阿里云技术支持。</p>
</div>
</section>
</div>
</article>
</main></div></div>
 </div>
<div class="crumbs">
 <a href="https://help.aliyun.com/">首页</a>
 存储在OSS中的视频在线播放时出现异常
 </div>
</section>
</div>
</div>
<div data-role-footer="default"></div>
<script src="https://g.alicdn.com/aliyun-help/help-portal-fe/0.4.4/js/vendor.js"></script>
<script src="https://g.alicdn.com/aliyun-help/help-portal-fe/0.4.4/js/index.js"></script>
<script>
window.FastLoginContext = {
tenantName: 'help-aliyun-com-portal',
};
</script>
<script defer src="//g.alicdn.com/dawn/assets-loader/scripts/fast-login.js?tenantName=help-aliyun-com-portal"></script>
</body>
</html>